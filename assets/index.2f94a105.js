var uk=Object.defineProperty;var d0=Object.getOwnPropertySymbols;var ak=Object.prototype.hasOwnProperty,ck=Object.prototype.propertyIsEnumerable;var p0=(t,e,n)=>e in t?uk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g0=(t,e)=>{for(var n in e||(e={}))ak.call(e,n)&&p0(t,n,e[n]);if(d0)for(var n of d0(e))ck.call(e,n)&&p0(t,n,e[n]);return t};const lk=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};lk();function Jp(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const hk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fk=Jp(hk);function mI(t){return!!t||t===""}function ml(t){if(pt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=ge(i)?gk(i):ml(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(ge(t))return t;if(ve(t))return t}}const dk=/;(?![^(]*\))/g,pk=/:(.+)/;function gk(t){const e={};return t.split(dk).forEach(n=>{if(n){const i=n.split(pk);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Zp(t){let e="";if(ge(t))e=t;else if(pt(t))for(let n=0;n<t.length;n++){const i=Zp(t[n]);i&&(e+=i+" ")}else if(ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const op=t=>ge(t)?t:t==null?"":pt(t)||ve(t)&&(t.toString===II||!vt(t.toString))?JSON.stringify(t,yI,2):String(t),yI=(t,e)=>e&&e.__v_isRef?yI(t,e.value):qo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:wI(e)?{[`Set(${e.size})`]:[...e.values()]}:ve(e)&&!pt(e)&&!EI(e)?String(e):e,jt={},Vo=[],nr=()=>{},vk=()=>!1,mk=/^on[^a-z]/,yl=t=>mk.test(t),tg=t=>t.startsWith("onUpdate:"),Oe=Object.assign,eg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},yk=Object.prototype.hasOwnProperty,_t=(t,e)=>yk.call(t,e),pt=Array.isArray,qo=t=>wl(t)==="[object Map]",wI=t=>wl(t)==="[object Set]",vt=t=>typeof t=="function",ge=t=>typeof t=="string",ng=t=>typeof t=="symbol",ve=t=>t!==null&&typeof t=="object",bI=t=>ve(t)&&vt(t.then)&&vt(t.catch),II=Object.prototype.toString,wl=t=>II.call(t),wk=t=>wl(t).slice(8,-1),EI=t=>wl(t)==="[object Object]",rg=t=>ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ac=Jp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},bk=/-(\w)/g,ir=bl(t=>t.replace(bk,(e,n)=>n?n.toUpperCase():"")),Ik=/\B([A-Z])/g,cs=bl(t=>t.replace(Ik,"-$1").toLowerCase()),Il=bl(t=>t.charAt(0).toUpperCase()+t.slice(1)),jd=bl(t=>t?`on${Il(t)}`:""),Iu=(t,e)=>!Object.is(t,e),Nc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Uc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},sp=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let v0;const Ek=()=>v0||(v0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Xn;class Tk{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Xn&&(this.parent=Xn,this.index=(Xn.scopes||(Xn.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Xn;try{return Xn=this,e()}finally{Xn=n}}}on(){Xn=this}off(){Xn=this.parent}stop(e){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function _k(t,e=Xn){e&&e.active&&e.effects.push(t)}const ig=t=>{const e=new Set(t);return e.w=0,e.n=0,e},TI=t=>(t.w&Zr)>0,_I=t=>(t.n&Zr)>0,Sk=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Zr},Ak=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];TI(o)&&!_I(o)?o.delete(t):e[n++]=o,o.w&=~Zr,o.n&=~Zr}e.length=n}},up=new WeakMap;let cu=0,Zr=1;const ap=30;let Pn;const Vi=Symbol(""),cp=Symbol("");class og{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,_k(this,i)}run(){if(!this.active)return this.fn();let e=Pn,n=Qr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Pn,Pn=this,Qr=!0,Zr=1<<++cu,cu<=ap?Sk(this):m0(this),this.fn()}finally{cu<=ap&&Ak(this),Zr=1<<--cu,Pn=this.parent,Qr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pn===this?this.deferStop=!0:this.active&&(m0(this),this.onStop&&this.onStop(),this.active=!1)}}function m0(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Qr=!0;const SI=[];function ls(){SI.push(Qr),Qr=!1}function hs(){const t=SI.pop();Qr=t===void 0?!0:t}function dn(t,e,n){if(Qr&&Pn){let i=up.get(t);i||up.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=ig()),AI(o)}}function AI(t,e){let n=!1;cu<=ap?_I(t)||(t.n|=Zr,n=!TI(t)):n=!t.has(Pn),n&&(t.add(Pn),Pn.deps.push(t))}function Tr(t,e,n,i,o,u){const c=up.get(t);if(!c)return;let l=[];if(e==="clear")l=[...c.values()];else if(n==="length"&&pt(t))c.forEach((f,p)=>{(p==="length"||p>=i)&&l.push(f)});else switch(n!==void 0&&l.push(c.get(n)),e){case"add":pt(t)?rg(n)&&l.push(c.get("length")):(l.push(c.get(Vi)),qo(t)&&l.push(c.get(cp)));break;case"delete":pt(t)||(l.push(c.get(Vi)),qo(t)&&l.push(c.get(cp)));break;case"set":qo(t)&&l.push(c.get(Vi));break}if(l.length===1)l[0]&&lp(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);lp(ig(f))}}function lp(t,e){const n=pt(t)?t:[...t];for(const i of n)i.computed&&y0(i);for(const i of n)i.computed||y0(i)}function y0(t,e){(t!==Pn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Nk=Jp("__proto__,__v_isRef,__isVue"),NI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ng)),kk=sg(),Ck=sg(!1,!0),Dk=sg(!0),w0=xk();function xk(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ot(this);for(let u=0,c=this.length;u<c;u++)dn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Ot)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ls();const i=Ot(this)[e].apply(this,n);return hs(),i}}),t}function sg(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?zk:OI:e?xI:DI).get(i))return i;const c=pt(i);if(!t&&c&&_t(w0,o))return Reflect.get(w0,o,u);const l=Reflect.get(i,o,u);return(ng(o)?NI.has(o):Nk(o))||(t||dn(i,"get",o),e)?l:Ie(l)?c&&rg(o)?l:l.value:ve(l)?t?RI(l):cg(l):l}}const Ok=kI(),Rk=kI(!0);function kI(t=!1){return function(n,i,o,u){let c=n[i];if(Eu(c)&&Ie(c)&&!Ie(o))return!1;if(!t&&!Eu(o)&&(hp(o)||(o=Ot(o),c=Ot(c)),!pt(n)&&Ie(c)&&!Ie(o)))return c.value=o,!0;const l=pt(n)&&rg(i)?Number(i)<n.length:_t(n,i),f=Reflect.set(n,i,o,u);return n===Ot(u)&&(l?Iu(o,c)&&Tr(n,"set",i,o):Tr(n,"add",i,o)),f}}function Pk(t,e){const n=_t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Tr(t,"delete",e,void 0),i}function Lk(t,e){const n=Reflect.has(t,e);return(!ng(e)||!NI.has(e))&&dn(t,"has",e),n}function Mk(t){return dn(t,"iterate",pt(t)?"length":Vi),Reflect.ownKeys(t)}const CI={get:kk,set:Ok,deleteProperty:Pk,has:Lk,ownKeys:Mk},Fk={get:Dk,set(t,e){return!0},deleteProperty(t,e){return!0}},jk=Oe({},CI,{get:Ck,set:Rk}),ug=t=>t,El=t=>Reflect.getPrototypeOf(t);function fc(t,e,n=!1,i=!1){t=t.__v_raw;const o=Ot(t),u=Ot(e);n||(e!==u&&dn(o,"get",e),dn(o,"get",u));const{has:c}=El(o),l=i?ug:n?hg:Tu;if(c.call(o,e))return l(t.get(e));if(c.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function dc(t,e=!1){const n=this.__v_raw,i=Ot(n),o=Ot(t);return e||(t!==o&&dn(i,"has",t),dn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function pc(t,e=!1){return t=t.__v_raw,!e&&dn(Ot(t),"iterate",Vi),Reflect.get(t,"size",t)}function b0(t){t=Ot(t);const e=Ot(this);return El(e).has.call(e,t)||(e.add(t),Tr(e,"add",t,t)),this}function I0(t,e){e=Ot(e);const n=Ot(this),{has:i,get:o}=El(n);let u=i.call(n,t);u||(t=Ot(t),u=i.call(n,t));const c=o.call(n,t);return n.set(t,e),u?Iu(e,c)&&Tr(n,"set",t,e):Tr(n,"add",t,e),this}function E0(t){const e=Ot(this),{has:n,get:i}=El(e);let o=n.call(e,t);o||(t=Ot(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Tr(e,"delete",t,void 0),u}function T0(){const t=Ot(this),e=t.size!==0,n=t.clear();return e&&Tr(t,"clear",void 0,void 0),n}function gc(t,e){return function(i,o){const u=this,c=u.__v_raw,l=Ot(c),f=e?ug:t?hg:Tu;return!t&&dn(l,"iterate",Vi),c.forEach((p,g)=>i.call(o,f(p),f(g),u))}}function vc(t,e,n){return function(...i){const o=this.__v_raw,u=Ot(o),c=qo(u),l=t==="entries"||t===Symbol.iterator&&c,f=t==="keys"&&c,p=o[t](...i),g=n?ug:e?hg:Tu;return!e&&dn(u,"iterate",f?cp:Vi),{next(){const{value:y,done:w}=p.next();return w?{value:y,done:w}:{value:l?[g(y[0]),g(y[1])]:g(y),done:w}},[Symbol.iterator](){return this}}}}function jr(t){return function(...e){return t==="delete"?!1:this}}function Uk(){const t={get(u){return fc(this,u)},get size(){return pc(this)},has:dc,add:b0,set:I0,delete:E0,clear:T0,forEach:gc(!1,!1)},e={get(u){return fc(this,u,!1,!0)},get size(){return pc(this)},has:dc,add:b0,set:I0,delete:E0,clear:T0,forEach:gc(!1,!0)},n={get(u){return fc(this,u,!0)},get size(){return pc(this,!0)},has(u){return dc.call(this,u,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:gc(!0,!1)},i={get(u){return fc(this,u,!0,!0)},get size(){return pc(this,!0)},has(u){return dc.call(this,u,!0)},add:jr("add"),set:jr("set"),delete:jr("delete"),clear:jr("clear"),forEach:gc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=vc(u,!1,!1),n[u]=vc(u,!0,!1),e[u]=vc(u,!1,!0),i[u]=vc(u,!0,!0)}),[t,n,e,i]}const[Vk,qk,Bk,Kk]=Uk();function ag(t,e){const n=e?t?Kk:Bk:t?qk:Vk;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(_t(n,o)&&o in i?n:i,o,u)}const Hk={get:ag(!1,!1)},Gk={get:ag(!1,!0)},$k={get:ag(!0,!1)},DI=new WeakMap,xI=new WeakMap,OI=new WeakMap,zk=new WeakMap;function Wk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qk(t){return t.__v_skip||!Object.isExtensible(t)?0:Wk(wk(t))}function cg(t){return Eu(t)?t:lg(t,!1,CI,Hk,DI)}function Xk(t){return lg(t,!1,jk,Gk,xI)}function RI(t){return lg(t,!0,Fk,$k,OI)}function lg(t,e,n,i,o){if(!ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const c=Qk(t);if(c===0)return t;const l=new Proxy(t,c===2?i:n);return o.set(t,l),l}function Bo(t){return Eu(t)?Bo(t.__v_raw):!!(t&&t.__v_isReactive)}function Eu(t){return!!(t&&t.__v_isReadonly)}function hp(t){return!!(t&&t.__v_isShallow)}function PI(t){return Bo(t)||Eu(t)}function Ot(t){const e=t&&t.__v_raw;return e?Ot(e):t}function LI(t){return Uc(t,"__v_skip",!0),t}const Tu=t=>ve(t)?cg(t):t,hg=t=>ve(t)?RI(t):t;function MI(t){Qr&&Pn&&(t=Ot(t),AI(t.dep||(t.dep=ig())))}function FI(t,e){t=Ot(t),t.dep&&lp(t.dep)}function Ie(t){return!!(t&&t.__v_isRef===!0)}function fg(t){return Yk(t,!1)}function Yk(t,e){return Ie(t)?t:new Jk(t,e)}class Jk{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ot(e),this._value=n?e:Tu(e)}get value(){return MI(this),this._value}set value(e){e=this.__v_isShallow?e:Ot(e),Iu(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Tu(e),FI(this))}}function Zk(t){return Ie(t)?t.value:t}const tC={get:(t,e,n)=>Zk(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return Ie(o)&&!Ie(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function jI(t){return Bo(t)?t:new Proxy(t,tC)}class eC{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new og(e,()=>{this._dirty||(this._dirty=!0,FI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Ot(this);return MI(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function nC(t,e,n=!1){let i,o;const u=vt(t);return u?(i=t,o=nr):(i=t.get,o=t.set),new eC(i,o,u||!o,n)}function Xr(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){Tl(u,e,n)}return o}function Tn(t,e,n,i){if(vt(t)){const u=Xr(t,e,n,i);return u&&bI(u)&&u.catch(c=>{Tl(c,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(Tn(t[u],e,n,i));return o}function Tl(t,e,n,i){if(e&&e.vnode,e){let o=e.parent;const u=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,u,c)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Xr(l,null,10,[t,u,c]);return}}rC(t)}function rC(t,e,n,i){console.error(t)}let Vc=!1,fp=!1;const an=[];let gr=0;const du=[];let lu=null,Oo=0;const pu=[];let Br=null,Ro=0;const UI=Promise.resolve();let dg=null,dp=null;function VI(t){const e=dg||UI;return t?e.then(this?t.bind(this):t):e}function iC(t){let e=gr+1,n=an.length;for(;e<n;){const i=e+n>>>1;_u(an[i])<t?e=i+1:n=i}return e}function qI(t){(!an.length||!an.includes(t,Vc&&t.allowRecurse?gr+1:gr))&&t!==dp&&(t.id==null?an.push(t):an.splice(iC(t.id),0,t),BI())}function BI(){!Vc&&!fp&&(fp=!0,dg=UI.then(GI))}function oC(t){const e=an.indexOf(t);e>gr&&an.splice(e,1)}function KI(t,e,n,i){pt(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?i+1:i))&&n.push(t),BI()}function sC(t){KI(t,lu,du,Oo)}function uC(t){KI(t,Br,pu,Ro)}function _l(t,e=null){if(du.length){for(dp=e,lu=[...new Set(du)],du.length=0,Oo=0;Oo<lu.length;Oo++)lu[Oo]();lu=null,Oo=0,dp=null,_l(t,e)}}function HI(t){if(_l(),pu.length){const e=[...new Set(pu)];if(pu.length=0,Br){Br.push(...e);return}for(Br=e,Br.sort((n,i)=>_u(n)-_u(i)),Ro=0;Ro<Br.length;Ro++)Br[Ro]();Br=null,Ro=0}}const _u=t=>t.id==null?1/0:t.id;function GI(t){fp=!1,Vc=!0,_l(t),an.sort((n,i)=>_u(n)-_u(i));const e=nr;try{for(gr=0;gr<an.length;gr++){const n=an[gr];n&&n.active!==!1&&Xr(n,null,14)}}finally{gr=0,an.length=0,HI(),Vc=!1,dg=null,(an.length||du.length||pu.length)&&GI(t)}}function aC(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||jt;let o=n;const u=e.startsWith("update:"),c=u&&e.slice(7);if(c&&c in i){const g=`${c==="modelValue"?"model":c}Modifiers`,{number:y,trim:w}=i[g]||jt;w&&(o=n.map(I=>I.trim())),y&&(o=n.map(sp))}let l,f=i[l=jd(e)]||i[l=jd(ir(e))];!f&&u&&(f=i[l=jd(cs(e))]),f&&Tn(f,t,6,o);const p=i[l+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Tn(p,t,6,o)}}function $I(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let c={},l=!1;if(!vt(t)){const f=p=>{const g=$I(p,e,!0);g&&(l=!0,Oe(c,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(i.set(t,null),null):(pt(u)?u.forEach(f=>c[f]=null):Oe(c,u),i.set(t,c),c)}function Sl(t,e){return!t||!yl(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,cs(e))||_t(t,e))}let En=null,Al=null;function qc(t){const e=En;return En=t,Al=t&&t.type.__scopeId||null,e}function cC(t){Al=t}function lC(){Al=null}function hC(t,e=En,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&P0(-1);const u=qc(e),c=t(...o);return qc(u),i._d&&P0(1),c};return i._n=!0,i._c=!0,i._d=!0,i}function Ud(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[c],slots:l,attrs:f,emit:p,render:g,renderCache:y,data:w,setupState:I,ctx:T,inheritAttrs:A}=t;let N,x;const $=qc(t);try{if(n.shapeFlag&4){const J=o||i;N=tr(g.call(J,J,y,u,I,w,T)),x=f}else{const J=e;N=tr(J.length>1?J(u,{attrs:f,slots:l,emit:p}):J(u,null)),x=e.props?f:fC(f)}}catch(J){gu.length=0,Tl(J,t,1),N=wr(yr)}let B=N;if(x&&A!==!1){const J=Object.keys(x),{shapeFlag:at}=B;J.length&&at&7&&(c&&J.some(tg)&&(x=dC(x,c)),B=ti(B,x))}return n.dirs&&(B=ti(B),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&(B.transition=n.transition),N=B,qc($),N}const fC=t=>{let e;for(const n in t)(n==="class"||n==="style"||yl(n))&&((e||(e={}))[n]=t[n]);return e},dC=(t,e)=>{const n={};for(const i in t)(!tg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function pC(t,e,n){const{props:i,children:o,component:u}=t,{props:c,children:l,patchFlag:f}=e,p=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?_0(i,c,p):!!c;if(f&8){const g=e.dynamicProps;for(let y=0;y<g.length;y++){const w=g[y];if(c[w]!==i[w]&&!Sl(p,w))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===c?!1:i?c?_0(i,c,p):!0:!!c;return!1}function _0(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Sl(n,u))return!0}return!1}function gC({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const vC=t=>t.__isSuspense;function mC(t,e){e&&e.pendingBranch?pt(t)?e.effects.push(...t):e.effects.push(t):uC(t)}function yC(t,e){if(pe){let n=pe.provides;const i=pe.parent&&pe.parent.provides;i===n&&(n=pe.provides=Object.create(i)),n[t]=e}}function Vd(t,e,n=!1){const i=pe||En;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&vt(e)?e.call(i.proxy):e}}const S0={};function kc(t,e,n){return zI(t,e,n)}function zI(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:c}=jt){const l=pe;let f,p=!1,g=!1;if(Ie(t)?(f=()=>t.value,p=hp(t)):Bo(t)?(f=()=>t,i=!0):pt(t)?(g=!0,p=t.some(x=>Bo(x)||hp(x)),f=()=>t.map(x=>{if(Ie(x))return x.value;if(Bo(x))return Li(x);if(vt(x))return Xr(x,l,2)})):vt(t)?e?f=()=>Xr(t,l,2):f=()=>{if(!(l&&l.isUnmounted))return y&&y(),Tn(t,l,3,[w])}:f=nr,e&&i){const x=f;f=()=>Li(x())}let y,w=x=>{y=N.onStop=()=>{Xr(x,l,4)}};if(Au)return w=nr,e?n&&Tn(e,l,3,[f(),g?[]:void 0,w]):f(),nr;let I=g?[]:S0;const T=()=>{if(!!N.active)if(e){const x=N.run();(i||p||(g?x.some(($,B)=>Iu($,I[B])):Iu(x,I)))&&(y&&y(),Tn(e,l,3,[x,I===S0?void 0:I,w]),I=x)}else N.run()};T.allowRecurse=!!e;let A;o==="sync"?A=T:o==="post"?A=()=>We(T,l&&l.suspense):A=()=>sC(T);const N=new og(f,A);return e?n?T():I=N.run():o==="post"?We(N.run.bind(N),l&&l.suspense):N.run(),()=>{N.stop(),l&&l.scope&&eg(l.scope.effects,N)}}function wC(t,e,n){const i=this.proxy,o=ge(t)?t.includes(".")?WI(i,t):()=>i[t]:t.bind(i,i);let u;vt(e)?u=e:(u=e.handler,n=e);const c=pe;Ho(this);const l=zI(o,u.bind(i),n);return c?Ho(c):qi(),l}function WI(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Li(t,e){if(!ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ie(t))Li(t.value,e);else if(pt(t))for(let n=0;n<t.length;n++)Li(t[n],e);else if(wI(t)||qo(t))t.forEach(n=>{Li(n,e)});else if(EI(t))for(const n in t)Li(t[n],e);return t}function bC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return JI(()=>{t.isMounted=!0}),ZI(()=>{t.isUnmounting=!0}),t}const bn=[Function,Array],IC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bn,onEnter:bn,onAfterEnter:bn,onEnterCancelled:bn,onBeforeLeave:bn,onLeave:bn,onAfterLeave:bn,onLeaveCancelled:bn,onBeforeAppear:bn,onAppear:bn,onAfterAppear:bn,onAppearCancelled:bn},setup(t,{slots:e}){const n=lD(),i=bC();let o;return()=>{const u=e.default&&XI(e.default(),!0);if(!u||!u.length)return;let c=u[0];if(u.length>1){for(const A of u)if(A.type!==yr){c=A;break}}const l=Ot(t),{mode:f}=l;if(i.isLeaving)return qd(c);const p=A0(c);if(!p)return qd(c);const g=pp(p,l,i,n);gp(p,g);const y=n.subTree,w=y&&A0(y);let I=!1;const{getTransitionKey:T}=p.type;if(T){const A=T();o===void 0?o=A:A!==o&&(o=A,I=!0)}if(w&&w.type!==yr&&(!Oi(p,w)||I)){const A=pp(w,l,i,n);if(gp(w,A),f==="out-in")return i.isLeaving=!0,A.afterLeave=()=>{i.isLeaving=!1,n.update()},qd(c);f==="in-out"&&p.type!==yr&&(A.delayLeave=(N,x,$)=>{const B=QI(i,w);B[String(w.key)]=w,N._leaveCb=()=>{x(),N._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=$})}return c}}},EC=IC;function QI(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function pp(t,e,n,i){const{appear:o,mode:u,persisted:c=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:y,onLeave:w,onAfterLeave:I,onLeaveCancelled:T,onBeforeAppear:A,onAppear:N,onAfterAppear:x,onAppearCancelled:$}=e,B=String(t.key),J=QI(n,t),at=(z,Nt)=>{z&&Tn(z,i,9,Nt)},K=(z,Nt)=>{const _=Nt[1];at(z,Nt),pt(z)?z.every(ee=>ee.length<=1)&&_():z.length<=1&&_()},At={mode:u,persisted:c,beforeEnter(z){let Nt=l;if(!n.isMounted)if(o)Nt=A||l;else return;z._leaveCb&&z._leaveCb(!0);const _=J[B];_&&Oi(t,_)&&_.el._leaveCb&&_.el._leaveCb(),at(Nt,[z])},enter(z){let Nt=f,_=p,ee=g;if(!n.isMounted)if(o)Nt=N||f,_=x||p,ee=$||g;else return;let ye=!1;const _n=z._enterCb=Nr=>{ye||(ye=!0,Nr?at(ee,[z]):at(_,[z]),At.delayedLeave&&At.delayedLeave(),z._enterCb=void 0)};Nt?K(Nt,[z,_n]):_n()},leave(z,Nt){const _=String(t.key);if(z._enterCb&&z._enterCb(!0),n.isUnmounting)return Nt();at(y,[z]);let ee=!1;const ye=z._leaveCb=_n=>{ee||(ee=!0,Nt(),_n?at(T,[z]):at(I,[z]),z._leaveCb=void 0,J[_]===t&&delete J[_])};J[_]=t,w?K(w,[z,ye]):ye()},clone(z){return pp(z,e,n,i)}};return At}function qd(t){if(Nl(t))return t=ti(t),t.children=null,t}function A0(t){return Nl(t)?t.children?t.children[0]:void 0:t}function gp(t,e){t.shapeFlag&6&&t.component?gp(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function XI(t,e=!1,n){let i=[],o=0;for(let u=0;u<t.length;u++){let c=t[u];const l=n==null?c.key:String(n)+String(c.key!=null?c.key:u);c.type===In?(c.patchFlag&128&&o++,i=i.concat(XI(c.children,e,l))):(e||c.type!==yr)&&i.push(l!=null?ti(c,{key:l}):c)}if(o>1)for(let u=0;u<i.length;u++)i[u].patchFlag=-2;return i}const Cc=t=>!!t.type.__asyncLoader,Nl=t=>t.type.__isKeepAlive;function TC(t,e){YI(t,"a",e)}function _C(t,e){YI(t,"da",e)}function YI(t,e,n=pe){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(kl(e,i,n),n){let o=n.parent;for(;o&&o.parent;)Nl(o.parent.vnode)&&SC(i,e,n,o),o=o.parent}}function SC(t,e,n,i){const o=kl(e,t,i,!0);Cl(()=>{eg(i[e],o)},n)}function kl(t,e,n=pe,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...c)=>{if(n.isUnmounted)return;ls(),Ho(n);const l=Tn(e,n,t,c);return qi(),hs(),l});return i?o.unshift(u):o.push(u),u}}const Sr=t=>(e,n=pe)=>(!Au||t==="sp")&&kl(t,e,n),AC=Sr("bm"),JI=Sr("m"),NC=Sr("bu"),kC=Sr("u"),ZI=Sr("bum"),Cl=Sr("um"),CC=Sr("sp"),DC=Sr("rtg"),xC=Sr("rtc");function OC(t,e=pe){kl("ec",t,e)}function RC(t,e){const n=En;if(n===null)return t;const i=xl(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let u=0;u<e.length;u++){let[c,l,f,p=jt]=e[u];vt(c)&&(c={mounted:c,updated:c}),c.deep&&Li(l),o.push({dir:c,instance:i,value:l,oldValue:void 0,arg:f,modifiers:p})}return t}function Ni(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let c=0;c<o.length;c++){const l=o[c];u&&(l.oldValue=u[c].value);let f=l.dir[i];f&&(ls(),Tn(f,n,8,[t.el,l,t,e]),hs())}}const tE="components";function PC(t,e){return MC(tE,t,!0,e)||t}const LC=Symbol();function MC(t,e,n,i=!1){const o=En||pe;if(o){const u=o.type;if(t===tE){const l=gD(u);if(l&&(l===e||l===ir(e)||l===Il(ir(e))))return u}const c=N0(o[t]||u[t],e)||N0(o.appContext[t],e);return!c&&i?u:c}}function N0(t,e){return t&&(t[e]||t[ir(e)]||t[Il(ir(e))])}function FC(t,e,n,i){let o;const u=n&&n[i];if(pt(t)||ge(t)){o=new Array(t.length);for(let c=0,l=t.length;c<l;c++)o[c]=e(t[c],c,void 0,u&&u[c])}else if(typeof t=="number"){o=new Array(t);for(let c=0;c<t;c++)o[c]=e(c+1,c,void 0,u&&u[c])}else if(ve(t))if(t[Symbol.iterator])o=Array.from(t,(c,l)=>e(c,l,void 0,u&&u[l]));else{const c=Object.keys(t);o=new Array(c.length);for(let l=0,f=c.length;l<f;l++){const p=c[l];o[l]=e(t[p],p,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const vp=t=>t?fE(t)?xl(t)||t.proxy:vp(t.parent):null,Bc=Oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vp(t.parent),$root:t=>vp(t.root),$emit:t=>t.emit,$options:t=>nE(t),$forceUpdate:t=>t.f||(t.f=()=>qI(t.update)),$nextTick:t=>t.n||(t.n=VI.bind(t.proxy)),$watch:t=>wC.bind(t)}),jC={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:c,type:l,appContext:f}=t;let p;if(e[0]!=="$"){const I=c[e];if(I!==void 0)switch(I){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(i!==jt&&_t(i,e))return c[e]=1,i[e];if(o!==jt&&_t(o,e))return c[e]=2,o[e];if((p=t.propsOptions[0])&&_t(p,e))return c[e]=3,u[e];if(n!==jt&&_t(n,e))return c[e]=4,n[e];mp&&(c[e]=0)}}const g=Bc[e];let y,w;if(g)return e==="$attrs"&&dn(t,"get",e),g(t);if((y=l.__cssModules)&&(y=y[e]))return y;if(n!==jt&&_t(n,e))return c[e]=4,n[e];if(w=f.config.globalProperties,_t(w,e))return w[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return o!==jt&&_t(o,e)?(o[e]=n,!0):i!==jt&&_t(i,e)?(i[e]=n,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},c){let l;return!!n[c]||t!==jt&&_t(t,c)||e!==jt&&_t(e,c)||(l=u[0])&&_t(l,c)||_t(i,c)||_t(Bc,c)||_t(o.config.globalProperties,c)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:_t(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let mp=!0;function UC(t){const e=nE(t),n=t.proxy,i=t.ctx;mp=!1,e.beforeCreate&&k0(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:c,watch:l,provide:f,inject:p,created:g,beforeMount:y,mounted:w,beforeUpdate:I,updated:T,activated:A,deactivated:N,beforeDestroy:x,beforeUnmount:$,destroyed:B,unmounted:J,render:at,renderTracked:K,renderTriggered:At,errorCaptured:z,serverPrefetch:Nt,expose:_,inheritAttrs:ee,components:ye,directives:_n,filters:Nr}=e;if(p&&VC(p,i,null,t.appContext.config.unwrapInjectedRef),c)for(const qt in c){const mt=c[qt];vt(mt)&&(i[qt]=mt.bind(n))}if(o){const qt=o.call(n,n);ve(qt)&&(t.data=cg(qt))}if(mp=!0,u)for(const qt in u){const mt=u[qt],tn=vt(mt)?mt.bind(n,n):vt(mt.get)?mt.get.bind(n,n):nr,Vn=!vt(mt)&&vt(mt.set)?mt.set.bind(n):nr,ar=pE({get:tn,set:Vn});Object.defineProperty(i,qt,{enumerable:!0,configurable:!0,get:()=>ar.value,set:cr=>ar.value=cr})}if(l)for(const qt in l)eE(l[qt],i,n,qt);if(f){const qt=vt(f)?f.call(n):f;Reflect.ownKeys(qt).forEach(mt=>{yC(mt,qt[mt])})}g&&k0(g,t,"c");function ne(qt,mt){pt(mt)?mt.forEach(tn=>qt(tn.bind(n))):mt&&qt(mt.bind(n))}if(ne(AC,y),ne(JI,w),ne(NC,I),ne(kC,T),ne(TC,A),ne(_C,N),ne(OC,z),ne(xC,K),ne(DC,At),ne(ZI,$),ne(Cl,J),ne(CC,Nt),pt(_))if(_.length){const qt=t.exposed||(t.exposed={});_.forEach(mt=>{Object.defineProperty(qt,mt,{get:()=>n[mt],set:tn=>n[mt]=tn})})}else t.exposed||(t.exposed={});at&&t.render===nr&&(t.render=at),ee!=null&&(t.inheritAttrs=ee),ye&&(t.components=ye),_n&&(t.directives=_n)}function VC(t,e,n,i=!1){pt(t)&&(t=yp(t));for(const o in t){const u=t[o];let c;ve(u)?"default"in u?c=Vd(u.from||o,u.default,!0):c=Vd(u.from||o):c=Vd(u),Ie(c)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>c.value,set:l=>c.value=l}):e[o]=c}}function k0(t,e,n){Tn(pt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function eE(t,e,n,i){const o=i.includes(".")?WI(n,i):()=>n[i];if(ge(t)){const u=e[t];vt(u)&&kc(o,u)}else if(vt(t))kc(o,t.bind(n));else if(ve(t))if(pt(t))t.forEach(u=>eE(u,e,n,i));else{const u=vt(t.handler)?t.handler.bind(n):e[t.handler];vt(u)&&kc(o,u,t)}}function nE(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:c}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(p=>Kc(f,p,c,!0)),Kc(f,e,c)),u.set(e,f),f}function Kc(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Kc(t,u,n,!0),o&&o.forEach(c=>Kc(t,c,n,!0));for(const c in e)if(!(i&&c==="expose")){const l=qC[c]||n&&n[c];t[c]=l?l(t[c],e[c]):e[c]}return t}const qC={data:C0,props:Di,emits:Di,methods:Di,computed:Di,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:Di,directives:Di,watch:KC,provide:C0,inject:BC};function C0(t,e){return e?t?function(){return Oe(vt(t)?t.call(this,this):t,vt(e)?e.call(this,this):e)}:e:t}function BC(t,e){return Di(yp(t),yp(e))}function yp(t){if(pt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Fe(t,e){return t?[...new Set([].concat(t,e))]:e}function Di(t,e){return t?Oe(Oe(Object.create(null),t),e):e}function KC(t,e){if(!t)return e;if(!e)return t;const n=Oe(Object.create(null),t);for(const i in e)n[i]=Fe(t[i],e[i]);return n}function HC(t,e,n,i=!1){const o={},u={};Uc(u,Dl,1),t.propsDefaults=Object.create(null),rE(t,e,o,u);for(const c in t.propsOptions[0])c in o||(o[c]=void 0);n?t.props=i?o:Xk(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function GC(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:c}}=t,l=Ot(o),[f]=t.propsOptions;let p=!1;if((i||c>0)&&!(c&16)){if(c&8){const g=t.vnode.dynamicProps;for(let y=0;y<g.length;y++){let w=g[y];if(Sl(t.emitsOptions,w))continue;const I=e[w];if(f)if(_t(u,w))I!==u[w]&&(u[w]=I,p=!0);else{const T=ir(w);o[T]=wp(f,l,T,I,t,!1)}else I!==u[w]&&(u[w]=I,p=!0)}}}else{rE(t,e,o,u)&&(p=!0);let g;for(const y in l)(!e||!_t(e,y)&&((g=cs(y))===y||!_t(e,g)))&&(f?n&&(n[y]!==void 0||n[g]!==void 0)&&(o[y]=wp(f,l,y,void 0,t,!0)):delete o[y]);if(u!==l)for(const y in u)(!e||!_t(e,y)&&!0)&&(delete u[y],p=!0)}p&&Tr(t,"set","$attrs")}function rE(t,e,n,i){const[o,u]=t.propsOptions;let c=!1,l;if(e)for(let f in e){if(Ac(f))continue;const p=e[f];let g;o&&_t(o,g=ir(f))?!u||!u.includes(g)?n[g]=p:(l||(l={}))[g]=p:Sl(t.emitsOptions,f)||(!(f in i)||p!==i[f])&&(i[f]=p,c=!0)}if(u){const f=Ot(n),p=l||jt;for(let g=0;g<u.length;g++){const y=u[g];n[y]=wp(o,f,y,p[y],t,!_t(p,y))}}return c}function wp(t,e,n,i,o,u){const c=t[n];if(c!=null){const l=_t(c,"default");if(l&&i===void 0){const f=c.default;if(c.type!==Function&&vt(f)){const{propsDefaults:p}=o;n in p?i=p[n]:(Ho(o),i=p[n]=f.call(null,e),qi())}else i=f}c[0]&&(u&&!l?i=!1:c[1]&&(i===""||i===cs(n))&&(i=!0))}return i}function iE(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,c={},l=[];let f=!1;if(!vt(t)){const g=y=>{f=!0;const[w,I]=iE(y,e,!0);Oe(c,w),I&&l.push(...I)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!f)return i.set(t,Vo),Vo;if(pt(u))for(let g=0;g<u.length;g++){const y=ir(u[g]);D0(y)&&(c[y]=jt)}else if(u)for(const g in u){const y=ir(g);if(D0(y)){const w=u[g],I=c[y]=pt(w)||vt(w)?{type:w}:w;if(I){const T=R0(Boolean,I.type),A=R0(String,I.type);I[0]=T>-1,I[1]=A<0||T<A,(T>-1||_t(I,"default"))&&l.push(y)}}}const p=[c,l];return i.set(t,p),p}function D0(t){return t[0]!=="$"}function x0(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function O0(t,e){return x0(t)===x0(e)}function R0(t,e){return pt(e)?e.findIndex(n=>O0(n,t)):vt(e)&&O0(e,t)?0:-1}const oE=t=>t[0]==="_"||t==="$stable",pg=t=>pt(t)?t.map(tr):[tr(t)],$C=(t,e,n)=>{if(e._n)return e;const i=hC((...o)=>pg(e(...o)),n);return i._c=!1,i},sE=(t,e,n)=>{const i=t._ctx;for(const o in t){if(oE(o))continue;const u=t[o];if(vt(u))e[o]=$C(o,u,i);else if(u!=null){const c=pg(u);e[o]=()=>c}}},uE=(t,e)=>{const n=pg(e);t.slots.default=()=>n},zC=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ot(e),Uc(e,"_",n)):sE(e,t.slots={})}else t.slots={},e&&uE(t,e);Uc(t.slots,Dl,1)},WC=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,c=jt;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(Oe(o,e),!n&&l===1&&delete o._):(u=!e.$stable,sE(e,o)),c=e}else e&&(uE(t,e),c={default:1});if(u)for(const l in o)!oE(l)&&!(l in c)&&delete o[l]};function aE(){return{app:null,config:{isNativeTag:vk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QC=0;function XC(t,e){return function(i,o=null){vt(i)||(i=Object.assign({},i)),o!=null&&!ve(o)&&(o=null);const u=aE(),c=new Set;let l=!1;const f=u.app={_uid:QC++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:mD,get config(){return u.config},set config(p){},use(p,...g){return c.has(p)||(p&&vt(p.install)?(c.add(p),p.install(f,...g)):vt(p)&&(c.add(p),p(f,...g))),f},mixin(p){return u.mixins.includes(p)||u.mixins.push(p),f},component(p,g){return g?(u.components[p]=g,f):u.components[p]},directive(p,g){return g?(u.directives[p]=g,f):u.directives[p]},mount(p,g,y){if(!l){const w=wr(i,o);return w.appContext=u,g&&e?e(w,p):t(w,p,y),l=!0,f._container=p,p.__vue_app__=f,xl(w.component)||w.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(p,g){return u.provides[p]=g,f}};return f}}function bp(t,e,n,i,o=!1){if(pt(t)){t.forEach((w,I)=>bp(w,e&&(pt(e)?e[I]:e),n,i,o));return}if(Cc(i)&&!o)return;const u=i.shapeFlag&4?xl(i.component)||i.component.proxy:i.el,c=o?null:u,{i:l,r:f}=t,p=e&&e.r,g=l.refs===jt?l.refs={}:l.refs,y=l.setupState;if(p!=null&&p!==f&&(ge(p)?(g[p]=null,_t(y,p)&&(y[p]=null)):Ie(p)&&(p.value=null)),vt(f))Xr(f,l,12,[c,g]);else{const w=ge(f),I=Ie(f);if(w||I){const T=()=>{if(t.f){const A=w?g[f]:f.value;o?pt(A)&&eg(A,u):pt(A)?A.includes(u)||A.push(u):w?(g[f]=[u],_t(y,f)&&(y[f]=g[f])):(f.value=[u],t.k&&(g[t.k]=f.value))}else w?(g[f]=c,_t(y,f)&&(y[f]=c)):Ie(f)&&(f.value=c,t.k&&(g[t.k]=c))};c?(T.id=-1,We(T,n)):T()}}}const We=mC;function YC(t){return JC(t)}function JC(t,e){const n=Ek();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:c,createText:l,createComment:f,setText:p,setElementText:g,parentNode:y,nextSibling:w,setScopeId:I=nr,cloneNode:T,insertStaticContent:A}=t,N=(E,S,D,O=null,P=null,V=null,W=!1,q=null,G=!!S.dynamicChildren)=>{if(E===S)return;E&&!Oi(E,S)&&(O=Lt(E),Sn(E,P,V,!0),E=null),S.patchFlag===-2&&(G=!1,S.dynamicChildren=null);const{type:j,ref:it,shapeFlag:tt}=S;switch(j){case gg:x(E,S,D,O);break;case yr:$(E,S,D,O);break;case Dc:E==null&&B(S,D,O,W);break;case In:_n(E,S,D,O,P,V,W,q,G);break;default:tt&1?K(E,S,D,O,P,V,W,q,G):tt&6?Nr(E,S,D,O,P,V,W,q,G):(tt&64||tt&128)&&j.process(E,S,D,O,P,V,W,q,G,kr)}it!=null&&P&&bp(it,E&&E.ref,V,S||E,!S)},x=(E,S,D,O)=>{if(E==null)i(S.el=l(S.children),D,O);else{const P=S.el=E.el;S.children!==E.children&&p(P,S.children)}},$=(E,S,D,O)=>{E==null?i(S.el=f(S.children||""),D,O):S.el=E.el},B=(E,S,D,O)=>{[E.el,E.anchor]=A(E.children,S,D,O,E.el,E.anchor)},J=({el:E,anchor:S},D,O)=>{let P;for(;E&&E!==S;)P=w(E),i(E,D,O),E=P;i(S,D,O)},at=({el:E,anchor:S})=>{let D;for(;E&&E!==S;)D=w(E),o(E),E=D;o(S)},K=(E,S,D,O,P,V,W,q,G)=>{W=W||S.type==="svg",E==null?At(S,D,O,P,V,W,q,G):_(E,S,P,V,W,q,G)},At=(E,S,D,O,P,V,W,q)=>{let G,j;const{type:it,props:tt,shapeFlag:ot,transition:ht,patchFlag:et,dirs:Dt}=E;if(E.el&&T!==void 0&&et===-1)G=E.el=T(E.el);else{if(G=E.el=c(E.type,V,tt&&tt.is,tt),ot&8?g(G,E.children):ot&16&&Nt(E.children,G,null,O,P,V&&it!=="foreignObject",W,q),Dt&&Ni(E,null,O,"created"),tt){for(const Mt in tt)Mt!=="value"&&!Ac(Mt)&&u(G,Mt,null,tt[Mt],V,E.children,O,P,gn);"value"in tt&&u(G,"value",null,tt.value),(j=tt.onVnodeBeforeMount)&&Qn(j,O,E)}z(G,E,E.scopeId,W,O)}Dt&&Ni(E,null,O,"beforeMount");const Et=(!P||P&&!P.pendingBranch)&&ht&&!ht.persisted;Et&&ht.beforeEnter(G),i(G,S,D),((j=tt&&tt.onVnodeMounted)||Et||Dt)&&We(()=>{j&&Qn(j,O,E),Et&&ht.enter(G),Dt&&Ni(E,null,O,"mounted")},P)},z=(E,S,D,O,P)=>{if(D&&I(E,D),O)for(let V=0;V<O.length;V++)I(E,O[V]);if(P){let V=P.subTree;if(S===V){const W=P.vnode;z(E,W,W.scopeId,W.slotScopeIds,P.parent)}}},Nt=(E,S,D,O,P,V,W,q,G=0)=>{for(let j=G;j<E.length;j++){const it=E[j]=q?Kr(E[j]):tr(E[j]);N(null,it,S,D,O,P,V,W,q)}},_=(E,S,D,O,P,V,W)=>{const q=S.el=E.el;let{patchFlag:G,dynamicChildren:j,dirs:it}=S;G|=E.patchFlag&16;const tt=E.props||jt,ot=S.props||jt;let ht;D&&ki(D,!1),(ht=ot.onVnodeBeforeUpdate)&&Qn(ht,D,S,E),it&&Ni(S,E,D,"beforeUpdate"),D&&ki(D,!0);const et=P&&S.type!=="foreignObject";if(j?ee(E.dynamicChildren,j,q,D,O,et,V):W||tn(E,S,q,null,D,O,et,V,!1),G>0){if(G&16)ye(q,S,tt,ot,D,O,P);else if(G&2&&tt.class!==ot.class&&u(q,"class",null,ot.class,P),G&4&&u(q,"style",tt.style,ot.style,P),G&8){const Dt=S.dynamicProps;for(let Et=0;Et<Dt.length;Et++){const Mt=Dt[Et],Ke=tt[Mt],Ut=ot[Mt];(Ut!==Ke||Mt==="value")&&u(q,Mt,Ke,Ut,P,E.children,D,O,gn)}}G&1&&E.children!==S.children&&g(q,S.children)}else!W&&j==null&&ye(q,S,tt,ot,D,O,P);((ht=ot.onVnodeUpdated)||it)&&We(()=>{ht&&Qn(ht,D,S,E),it&&Ni(S,E,D,"updated")},O)},ee=(E,S,D,O,P,V,W)=>{for(let q=0;q<S.length;q++){const G=E[q],j=S[q],it=G.el&&(G.type===In||!Oi(G,j)||G.shapeFlag&70)?y(G.el):D;N(G,j,it,null,O,P,V,W,!0)}},ye=(E,S,D,O,P,V,W)=>{if(D!==O){for(const q in O){if(Ac(q))continue;const G=O[q],j=D[q];G!==j&&q!=="value"&&u(E,q,j,G,W,S.children,P,V,gn)}if(D!==jt)for(const q in D)!Ac(q)&&!(q in O)&&u(E,q,D[q],null,W,S.children,P,V,gn);"value"in O&&u(E,"value",D.value,O.value)}},_n=(E,S,D,O,P,V,W,q,G)=>{const j=S.el=E?E.el:l(""),it=S.anchor=E?E.anchor:l("");let{patchFlag:tt,dynamicChildren:ot,slotScopeIds:ht}=S;ht&&(q=q?q.concat(ht):ht),E==null?(i(j,D,O),i(it,D,O),Nt(S.children,D,it,P,V,W,q,G)):tt>0&&tt&64&&ot&&E.dynamicChildren?(ee(E.dynamicChildren,ot,D,P,V,W,q),(S.key!=null||P&&S===P.subTree)&&cE(E,S,!0)):tn(E,S,D,it,P,V,W,q,G)},Nr=(E,S,D,O,P,V,W,q,G)=>{S.slotScopeIds=q,E==null?S.shapeFlag&512?P.ctx.activate(S,D,O,W,G):ur(S,D,O,P,V,W,G):ne(E,S,G)},ur=(E,S,D,O,P,V,W)=>{const q=E.component=cD(E,O,P);if(Nl(E)&&(q.ctx.renderer=kr),hD(q),q.asyncDep){if(P&&P.registerDep(q,qt),!E.el){const G=q.subTree=wr(yr);$(null,G,S,D)}return}qt(q,E,S,D,P,V,W)},ne=(E,S,D)=>{const O=S.component=E.component;if(pC(E,S,D))if(O.asyncDep&&!O.asyncResolved){mt(O,S,D);return}else O.next=S,oC(O.update),O.update();else S.el=E.el,O.vnode=S},qt=(E,S,D,O,P,V,W)=>{const q=()=>{if(E.isMounted){let{next:it,bu:tt,u:ot,parent:ht,vnode:et}=E,Dt=it,Et;ki(E,!1),it?(it.el=et.el,mt(E,it,W)):it=et,tt&&Nc(tt),(Et=it.props&&it.props.onVnodeBeforeUpdate)&&Qn(Et,ht,it,et),ki(E,!0);const Mt=Ud(E),Ke=E.subTree;E.subTree=Mt,N(Ke,Mt,y(Ke.el),Lt(Ke),E,P,V),it.el=Mt.el,Dt===null&&gC(E,Mt.el),ot&&We(ot,P),(Et=it.props&&it.props.onVnodeUpdated)&&We(()=>Qn(Et,ht,it,et),P)}else{let it;const{el:tt,props:ot}=S,{bm:ht,m:et,parent:Dt}=E,Et=Cc(S);if(ki(E,!1),ht&&Nc(ht),!Et&&(it=ot&&ot.onVnodeBeforeMount)&&Qn(it,Dt,S),ki(E,!0),tt&&Es){const Mt=()=>{E.subTree=Ud(E),Es(tt,E.subTree,E,P,null)};Et?S.type.__asyncLoader().then(()=>!E.isUnmounted&&Mt()):Mt()}else{const Mt=E.subTree=Ud(E);N(null,Mt,D,O,E,P,V),S.el=Mt.el}if(et&&We(et,P),!Et&&(it=ot&&ot.onVnodeMounted)){const Mt=S;We(()=>Qn(it,Dt,Mt),P)}(S.shapeFlag&256||Dt&&Cc(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&E.a&&We(E.a,P),E.isMounted=!0,S=D=O=null}},G=E.effect=new og(q,()=>qI(j),E.scope),j=E.update=()=>G.run();j.id=E.uid,ki(E,!0),j()},mt=(E,S,D)=>{S.component=E;const O=E.vnode.props;E.vnode=S,E.next=null,GC(E,S.props,O,D),WC(E,S.children,D),ls(),_l(void 0,E.update),hs()},tn=(E,S,D,O,P,V,W,q,G=!1)=>{const j=E&&E.children,it=E?E.shapeFlag:0,tt=S.children,{patchFlag:ot,shapeFlag:ht}=S;if(ot>0){if(ot&128){ar(j,tt,D,O,P,V,W,q,G);return}else if(ot&256){Vn(j,tt,D,O,P,V,W,q,G);return}}ht&8?(it&16&&gn(j,P,V),tt!==j&&g(D,tt)):it&16?ht&16?ar(j,tt,D,O,P,V,W,q,G):gn(j,P,V,!0):(it&8&&g(D,""),ht&16&&Nt(tt,D,O,P,V,W,q,G))},Vn=(E,S,D,O,P,V,W,q,G)=>{E=E||Vo,S=S||Vo;const j=E.length,it=S.length,tt=Math.min(j,it);let ot;for(ot=0;ot<tt;ot++){const ht=S[ot]=G?Kr(S[ot]):tr(S[ot]);N(E[ot],ht,D,null,P,V,W,q,G)}j>it?gn(E,P,V,!0,!1,tt):Nt(S,D,O,P,V,W,q,G,tt)},ar=(E,S,D,O,P,V,W,q,G)=>{let j=0;const it=S.length;let tt=E.length-1,ot=it-1;for(;j<=tt&&j<=ot;){const ht=E[j],et=S[j]=G?Kr(S[j]):tr(S[j]);if(Oi(ht,et))N(ht,et,D,null,P,V,W,q,G);else break;j++}for(;j<=tt&&j<=ot;){const ht=E[tt],et=S[ot]=G?Kr(S[ot]):tr(S[ot]);if(Oi(ht,et))N(ht,et,D,null,P,V,W,q,G);else break;tt--,ot--}if(j>tt){if(j<=ot){const ht=ot+1,et=ht<it?S[ht].el:O;for(;j<=ot;)N(null,S[j]=G?Kr(S[j]):tr(S[j]),D,et,P,V,W,q,G),j++}}else if(j>ot)for(;j<=tt;)Sn(E[j],P,V,!0),j++;else{const ht=j,et=j,Dt=new Map;for(j=et;j<=ot;j++){const Ae=S[j]=G?Kr(S[j]):tr(S[j]);Ae.key!=null&&Dt.set(Ae.key,j)}let Et,Mt=0;const Ke=ot-et+1;let Ut=!1,Ts=0;const en=new Array(Ke);for(j=0;j<Ke;j++)en[j]=0;for(j=ht;j<=tt;j++){const Ae=E[j];if(Mt>=Ke){Sn(Ae,P,V,!0);continue}let Bt;if(Ae.key!=null)Bt=Dt.get(Ae.key);else for(Et=et;Et<=ot;Et++)if(en[Et-et]===0&&Oi(Ae,S[Et])){Bt=Et;break}Bt===void 0?Sn(Ae,P,V,!0):(en[Bt-et]=j+1,Bt>=Ts?Ts=Bt:Ut=!0,N(Ae,S[Bt],D,null,P,V,W,q,G),Mt++)}const An=Ut?ZC(en):Vo;for(Et=An.length-1,j=Ke-1;j>=0;j--){const Ae=et+j,Bt=S[Ae],_s=Ae+1<it?S[Ae+1].el:O;en[j]===0?N(null,Bt,D,_s,P,V,W,q,G):Ut&&(Et<0||j!==An[Et]?cr(Bt,D,_s,2):Et--)}}},cr=(E,S,D,O,P=null)=>{const{el:V,type:W,transition:q,children:G,shapeFlag:j}=E;if(j&6){cr(E.component.subTree,S,D,O);return}if(j&128){E.suspense.move(S,D,O);return}if(j&64){W.move(E,S,D,kr);return}if(W===In){i(V,S,D);for(let tt=0;tt<G.length;tt++)cr(G[tt],S,D,O);i(E.anchor,S,D);return}if(W===Dc){J(E,S,D);return}if(O!==2&&j&1&&q)if(O===0)q.beforeEnter(V),i(V,S,D),We(()=>q.enter(V),P);else{const{leave:tt,delayLeave:ot,afterLeave:ht}=q,et=()=>i(V,S,D),Dt=()=>{tt(V,()=>{et(),ht&&ht()})};ot?ot(V,et,Dt):Dt()}else i(V,S,D)},Sn=(E,S,D,O=!1,P=!1)=>{const{type:V,props:W,ref:q,children:G,dynamicChildren:j,shapeFlag:it,patchFlag:tt,dirs:ot}=E;if(q!=null&&bp(q,null,D,E,!0),it&256){S.ctx.deactivate(E);return}const ht=it&1&&ot,et=!Cc(E);let Dt;if(et&&(Dt=W&&W.onVnodeBeforeUnmount)&&Qn(Dt,S,E),it&6)Is(E.component,D,O);else{if(it&128){E.suspense.unmount(D,O);return}ht&&Ni(E,null,S,"beforeUnmount"),it&64?E.type.remove(E,S,D,P,kr,O):j&&(V!==In||tt>0&&tt&64)?gn(j,S,D,!1,!0):(V===In&&tt&384||!P&&it&16)&&gn(G,S,D),O&&bs(E)}(et&&(Dt=W&&W.onVnodeUnmounted)||ht)&&We(()=>{Dt&&Qn(Dt,S,E),ht&&Ni(E,null,S,"unmounted")},D)},bs=E=>{const{type:S,el:D,anchor:O,transition:P}=E;if(S===In){ah(D,O);return}if(S===Dc){at(E);return}const V=()=>{o(D),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(E.shapeFlag&1&&P&&!P.persisted){const{leave:W,delayLeave:q}=P,G=()=>W(D,V);q?q(E.el,V,G):G()}else V()},ah=(E,S)=>{let D;for(;E!==S;)D=w(E),o(E),E=D;o(S)},Is=(E,S,D)=>{const{bum:O,scope:P,update:V,subTree:W,um:q}=E;O&&Nc(O),P.stop(),V&&(V.active=!1,Sn(W,E,S,D)),q&&We(q,S),We(()=>{E.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},gn=(E,S,D,O=!1,P=!1,V=0)=>{for(let W=V;W<E.length;W++)Sn(E[W],S,D,O,P)},Lt=E=>E.shapeFlag&6?Lt(E.component.subTree):E.shapeFlag&128?E.suspense.next():w(E.anchor||E.el),la=(E,S,D)=>{E==null?S._vnode&&Sn(S._vnode,null,null,!0):N(S._vnode||null,E,S,null,null,null,D),HI(),S._vnode=E},kr={p:N,um:Sn,m:cr,r:bs,mt:ur,mc:Nt,pc:tn,pbc:ee,n:Lt,o:t};let Cr,Es;return e&&([Cr,Es]=e(kr)),{render:la,hydrate:Cr,createApp:XC(la,Cr)}}function ki({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function cE(t,e,n=!1){const i=t.children,o=e.children;if(pt(i)&&pt(o))for(let u=0;u<i.length;u++){const c=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=Kr(o[u]),l.el=c.el),n||cE(c,l))}}function ZC(t){const e=t.slice(),n=[0];let i,o,u,c,l;const f=t.length;for(i=0;i<f;i++){const p=t[i];if(p!==0){if(o=n[n.length-1],t[o]<p){e[i]=o,n.push(i);continue}for(u=0,c=n.length-1;u<c;)l=u+c>>1,t[n[l]]<p?u=l+1:c=l;p<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,c=n[u-1];u-- >0;)n[u]=c,c=e[c];return n}const tD=t=>t.__isTeleport,In=Symbol(void 0),gg=Symbol(void 0),yr=Symbol(void 0),Dc=Symbol(void 0),gu=[];let Ln=null;function Jn(t=!1){gu.push(Ln=t?null:[])}function eD(){gu.pop(),Ln=gu[gu.length-1]||null}let Su=1;function P0(t){Su+=t}function nD(t){return t.dynamicChildren=Su>0?Ln||Vo:null,eD(),Su>0&&Ln&&Ln.push(t),t}function Zn(t,e,n,i,o,u){return nD(St(t,e,n,i,o,u,!0))}function rD(t){return t?t.__v_isVNode===!0:!1}function Oi(t,e){return t.type===e.type&&t.key===e.key}const Dl="__vInternal",lE=({key:t})=>t!=null?t:null,xc=({ref:t,ref_key:e,ref_for:n})=>t!=null?ge(t)||Ie(t)||vt(t)?{i:En,r:t,k:e,f:!!n}:t:null;function St(t,e=null,n=null,i=0,o=null,u=t===In?0:1,c=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lE(e),ref:e&&xc(e),scopeId:Al,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(mg(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=ge(n)?8:16),Su>0&&!c&&Ln&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&Ln.push(f),f}const wr=iD;function iD(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===LC)&&(t=yr),rD(t)){const l=ti(t,e,!0);return n&&mg(l,n),Su>0&&!u&&Ln&&(l.shapeFlag&6?Ln[Ln.indexOf(t)]=l:Ln.push(l)),l.patchFlag|=-2,l}if(vD(t)&&(t=t.__vccOpts),e){e=oD(e);let{class:l,style:f}=e;l&&!ge(l)&&(e.class=Zp(l)),ve(f)&&(PI(f)&&!pt(f)&&(f=Oe({},f)),e.style=ml(f))}const c=ge(t)?1:vC(t)?128:tD(t)?64:ve(t)?4:vt(t)?2:0;return St(t,e,n,i,o,c,u,!0)}function oD(t){return t?PI(t)||Dl in t?Oe({},t):t:null}function ti(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:c}=t,l=e?sD(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&lE(l),ref:e&&e.ref?n&&o?pt(o)?o.concat(xc(e)):[o,xc(e)]:xc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==In?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ti(t.ssContent),ssFallback:t.ssFallback&&ti(t.ssFallback),el:t.el,anchor:t.anchor}}function vg(t=" ",e=0){return wr(gg,null,t,e)}function hE(t,e){const n=wr(Dc,null,t);return n.staticCount=e,n}function tr(t){return t==null||typeof t=="boolean"?wr(yr):pt(t)?wr(In,null,t.slice()):typeof t=="object"?Kr(t):wr(gg,null,String(t))}function Kr(t){return t.el===null||t.memo?t:ti(t)}function mg(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(pt(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),mg(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Dl in e)?e._ctx=En:o===3&&En&&(En.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else vt(e)?(e={default:e,_ctx:En},n=32):(e=String(e),i&64?(n=16,e=[vg(e)]):n=8);t.children=e,t.shapeFlag|=n}function sD(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=Zp([e.class,i.class]));else if(o==="style")e.style=ml([e.style,i.style]);else if(yl(o)){const u=e[o],c=i[o];c&&u!==c&&!(pt(u)&&u.includes(c))&&(e[o]=u?[].concat(u,c):c)}else o!==""&&(e[o]=i[o])}return e}function Qn(t,e,n,i=null){Tn(t,e,7,[n,i])}const uD=aE();let aD=0;function cD(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||uD,u={uid:aD++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:iE(i,o),emitsOptions:$I(i,o),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:i.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=aC.bind(null,u),t.ce&&t.ce(u),u}let pe=null;const lD=()=>pe||En,Ho=t=>{pe=t,t.scope.on()},qi=()=>{pe&&pe.scope.off(),pe=null};function fE(t){return t.vnode.shapeFlag&4}let Au=!1;function hD(t,e=!1){Au=e;const{props:n,children:i}=t.vnode,o=fE(t);HC(t,n,o,e),zC(t,i);const u=o?fD(t,e):void 0;return Au=!1,u}function fD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=LI(new Proxy(t.ctx,jC));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?pD(t):null;Ho(t),ls();const u=Xr(i,t,0,[t.props,o]);if(hs(),qi(),bI(u)){if(u.then(qi,qi),e)return u.then(c=>{L0(t,c,e)}).catch(c=>{Tl(c,t,0)});t.asyncDep=u}else L0(t,u,e)}else dE(t,e)}function L0(t,e,n){vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ve(e)&&(t.setupState=jI(e)),dE(t,n)}let M0;function dE(t,e,n){const i=t.type;if(!t.render){if(!e&&M0&&!i.render){const o=i.template;if(o){const{isCustomElement:u,compilerOptions:c}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,p=Oe(Oe({isCustomElement:u,delimiters:l},c),f);i.render=M0(o,p)}}t.render=i.render||nr}Ho(t),ls(),UC(t),hs(),qi()}function dD(t){return new Proxy(t.attrs,{get(e,n){return dn(t,"get","$attrs"),e[n]}})}function pD(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=dD(t))},slots:t.slots,emit:t.emit,expose:e}}function xl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(jI(LI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bc)return Bc[n](t)}}))}function gD(t){return vt(t)&&t.displayName||t.name}function vD(t){return vt(t)&&"__vccOpts"in t}const pE=(t,e)=>nC(t,e,Au),mD="3.2.36",yD="http://www.w3.org/2000/svg",Ri=typeof document!="undefined"?document:null,F0=Ri&&Ri.createElement("template"),wD={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?Ri.createElementNS(yD,t):Ri.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>Ri.createTextNode(t),createComment:t=>Ri.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ri.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i,o,u){const c=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{F0.innerHTML=i?`<svg>${t}</svg>`:t;const l=F0.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[c?c.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function bD(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function ID(t,e,n){const i=t.style,o=ge(n);if(n&&!o){for(const u in n)Ip(i,u,n[u]);if(e&&!ge(e))for(const u in e)n[u]==null&&Ip(i,u,"")}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const j0=/\s*!important$/;function Ip(t,e,n){if(pt(n))n.forEach(i=>Ip(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=ED(t,e);j0.test(n)?t.setProperty(cs(i),n.replace(j0,""),"important"):t[i]=n}}const U0=["Webkit","Moz","ms"],Bd={};function ED(t,e){const n=Bd[e];if(n)return n;let i=ir(e);if(i!=="filter"&&i in t)return Bd[e]=i;i=Il(i);for(let o=0;o<U0.length;o++){const u=U0[o]+i;if(u in t)return Bd[e]=u}return e}const V0="http://www.w3.org/1999/xlink";function TD(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(V0,e.slice(6,e.length)):t.setAttributeNS(V0,e,n);else{const u=fk(e);n==null||u&&!mI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function _D(t,e,n,i,o,u,c){if(e==="innerHTML"||e==="textContent"){i&&c(i,o,u),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const f=n==null?"":n;(t.value!==f||t.tagName==="OPTION")&&(t.value=f),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=mI(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}const[gE,SD]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let Ep=0;const AD=Promise.resolve(),ND=()=>{Ep=0},kD=()=>Ep||(AD.then(ND),Ep=gE());function Po(t,e,n,i){t.addEventListener(e,n,i)}function CD(t,e,n,i){t.removeEventListener(e,n,i)}function DD(t,e,n,i,o=null){const u=t._vei||(t._vei={}),c=u[e];if(i&&c)c.value=i;else{const[l,f]=xD(e);if(i){const p=u[e]=OD(i,o);Po(t,l,p,f)}else c&&(CD(t,l,c,f),u[e]=void 0)}}const q0=/(?:Once|Passive|Capture)$/;function xD(t){let e;if(q0.test(t)){e={};let n;for(;n=t.match(q0);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[cs(t.slice(2)),e]}function OD(t,e){const n=i=>{const o=i.timeStamp||gE();(SD||o>=n.attached-1)&&Tn(RD(i,n.value),e,5,[i])};return n.value=t,n.attached=kD(),n}function RD(t,e){if(pt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const B0=/^on[a-z]/,PD=(t,e,n,i,o=!1,u,c,l,f)=>{e==="class"?bD(t,i,o):e==="style"?ID(t,n,i):yl(e)?tg(e)||DD(t,e,n,i,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):LD(t,e,i,o))?_D(t,e,i,u,c,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),TD(t,e,i,o))};function LD(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&B0.test(e)&&vt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||B0.test(e)&&ge(n)?!1:e in t}const MD={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};EC.props;const K0=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pt(e)?n=>Nc(e,n):e};function FD(t){t.target.composing=!0}function H0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jD={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t._assign=K0(o);const u=i||o.props&&o.props.type==="number";Po(t,e?"change":"input",c=>{if(c.target.composing)return;let l=t.value;n&&(l=l.trim()),u&&(l=sp(l)),t._assign(l)}),n&&Po(t,"change",()=>{t.value=t.value.trim()}),e||(Po(t,"compositionstart",FD),Po(t,"compositionend",H0),Po(t,"change",H0))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:o}},u){if(t._assign=K0(u),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(o||t.type==="number")&&sp(t.value)===e))return;const c=e==null?"":e;t.value!==c&&(t.value=c)}},UD=Oe({patchProp:PD},wD);let G0;function VD(){return G0||(G0=YC(UD))}const qD=(...t)=>{const e=VD().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=BD(i);if(!o)return;const u=e._component;!vt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const c=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},e};function BD(t){return ge(t)?document.querySelector(t):t}var Tp=function(t,e){return Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Tp(t,e)};function ut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Nu=function(){return Nu=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Nu.apply(this,arguments)};function M(t,e,n,i){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function l(g){try{p(i.next(g))}catch(y){c(y)}}function f(g){try{p(i.throw(g))}catch(y){c(y)}}function p(g){g.done?u(g.value):o(g.value).then(l,f)}p((i=i.apply(t,e||[])).next())})}function R(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(g){return f([p,g])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){n.label=p[1];break}if(p[0]===6&&n.label<u[1]){n.label=u[1],u=p;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(p);break}u[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],o=0}finally{i=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Kd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return u}function Yt(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vE=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},KD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],c=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(c&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},HD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],c=o+1<t.length,l=c?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,g=u>>2,y=(u&3)<<4|l>>4,w=(l&15)<<2|p>>6,I=p&63;f||(I=64,c||(w=64)),i.push(n[g],n[y],n[w],n[I])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vE(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],c=o<t.length,l=c?n[t.charAt(o)]:0;++o;var f=o<t.length,p=f?n[t.charAt(o)]:64;++o;var g=o<t.length,y=g?n[t.charAt(o)]:64;if(++o,u==null||l==null||p==null||y==null)throw Error();var w=u<<2|l>>4;if(i.push(w),p!==64){var I=l<<4&240|p>>2;if(i.push(I),y!==64){var T=p<<6&192|y;i.push(T)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},GD=function(t){var e=vE(t);return HD.encodeByteArray(e,!0)},$0=function(t){return GD(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){return ku(void 0,t)}function ku(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!zD(i)||(t[i]=ku(t[i],e[i]));return t}function zD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=Nu({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[$0(JSON.stringify(n)),$0(JSON.stringify(c)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XD(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gi())}function mE(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YD(){return typeof self=="object"&&self.self===self}function JD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tx(){return Gi().indexOf("Electron/")>=0}function ex(){var t=Gi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nx(){return Gi().indexOf("MSAppHost/")>=0}function rx(){return!mE()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ix="FirebaseError",ox=function(t){ut(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=ix,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,yg.prototype.create),u}return e}(Error),yg=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,c=this.errors[e],l=c?sx(c,o):"Error",f=this.serviceName+": "+l+" ("+u+").",p=new ox(u,f,o);return p},t}();function sx(t,e){return t.replace(ux,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var ux=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ax(t,e){var n=new cx(t,e);return n.subscribe.bind(n)}var cx=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lx(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Hd),u.error===void 0&&(u.error=Hd),u.complete===void 0&&(u.complete=Hd);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),c},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console!="undefined"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function lx(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t){return t&&t._delegate?t._delegate:t}var Ol=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hx=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new WD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(dx(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}try{for(var o=Kd(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var c=mc(u.value,2),l=c[0],f=c[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(y){n={error:y}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=xi),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return M(this,void 0,void 0,function(){var e;return R(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Yt(Yt([],mc(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),mc(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=xi),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=xi),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,c=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var f=Kd(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=mc(p.value,2),y=g[0],w=g[1],I=this.normalizeInstanceIdentifier(y);c===I&&w.resolve(l)}}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var c=this.instances.get(o);return c&&e(c,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(!!u)try{for(var c=Kd(u),l=c.next();!l.done;l=c.next()){var f=l.value;try{f(e,n)}catch{}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:fx(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=xi),this.component?this.component.multipleInstances?e:xi:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function fx(t){return t===xi?void 0:t}function dx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var px=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new hx(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Rn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)i[o]=u[c];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,wg=[],Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));var yE={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},gx=Ct.INFO,vx=(Ci={},Ci[Ct.DEBUG]="log",Ci[Ct.VERBOSE]="log",Ci[Ct.INFO]="info",Ci[Ct.WARN]="warn",Ci[Ct.ERROR]="error",Ci),mx=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=vx[e];if(u)console[u].apply(console,Rn(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},wE=function(){function t(e){this.name=e,this._logLevel=gx,this._logHandler=mx,this._userLogHandler=null,wg.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ct))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?yE[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Ct.DEBUG],e)),this._logHandler.apply(this,Rn([this,Ct.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Ct.VERBOSE],e)),this._logHandler.apply(this,Rn([this,Ct.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Ct.INFO],e)),this._logHandler.apply(this,Rn([this,Ct.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Ct.WARN],e)),this._logHandler.apply(this,Rn([this,Ct.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Ct.ERROR],e)),this._logHandler.apply(this,Rn([this,Ct.ERROR],e))},t}();function yx(t){wg.forEach(function(e){e.setLogLevel(t)})}function wx(t,e){for(var n=function(c){var l=null;e&&e.level&&(l=yE[e.level]),t===null?c.userLogHandler=null:c.userLogHandler=function(f,p){for(var g=[],y=2;y<arguments.length;y++)g[y-2]=arguments[y];var w=g.map(function(I){if(I==null)return null;if(typeof I=="string")return I;if(typeof I=="number"||typeof I=="boolean")return I.toString();if(I instanceof Error)return I.message;try{return JSON.stringify(I)}catch{return null}}).filter(function(I){return I}).join(" ");p>=(l!=null?l:f.logLevel)&&t({level:Ct[p].toLowerCase(),message:w,args:g,type:f.name})}},i=0,o=wg;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,bx=(Ur={},Ur["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ur["bad-app-name"]="Illegal App name: '{$appName}",Ur["duplicate-app"]="Firebase App named '{$appName}' already exists",Ur["app-deleted"]="Firebase App named '{$appName}' already deleted",Ur["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ur["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ur),Lo=new yg("app","Firebase",bx),bE="@firebase/app",Ix="0.6.30",Ex="@firebase/analytics",Tx="@firebase/app-check",_x="@firebase/auth",Sx="@firebase/database",Ax="@firebase/functions",Nx="@firebase/installations",kx="@firebase/messaging",Cx="@firebase/performance",Dx="@firebase/remote-config",xx="@firebase/storage",Ox="@firebase/firestore",Rx="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Hc="[DEFAULT]",Px=(Ne={},Ne[bE]="fire-core",Ne[Ex]="fire-analytics",Ne[Tx]="fire-app-check",Ne[_x]="fire-auth",Ne[Sx]="fire-rtdb",Ne[Ax]="fire-fn",Ne[Nx]="fire-iid",Ne[kx]="fire-fcm",Ne[Cx]="fire-perf",Ne[Dx]="fire-rc",Ne[xx]="fire-gcs",Ne[Ox]="fire-fst",Ne["fire-js"]="fire-js",Ne[Rx]="fire-js-all",Ne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=new wE("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=$D(e),this.container=new px(n.name),this._addComponent(new Ol("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=Hc),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Hc),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Go.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Lo.create("app-deleted",{appName:this.name_})},t}();Oc.prototype.name&&Oc.prototype.options||Oc.prototype.delete||console.log("dc");var Lx="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t){var e={},n=new Map,i={__esModule:!0,initializeApp:c,app:u,registerVersion:p,setLogLevel:yx,onLog:g,apps:null,SDK_VERSION:Lx,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:y}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(w){delete e[w]}function u(w){if(w=w||Hc,!z0(e,w))throw Lo.create("no-app",{appName:w});return e[w]}u.App=t;function c(w,I){if(I===void 0&&(I={}),typeof I!="object"||I===null){var T=I;I={name:T}}var A=I;A.name===void 0&&(A.name=Hc);var N=A.name;if(typeof N!="string"||!N)throw Lo.create("bad-app-name",{appName:String(N)});if(z0(e,N))throw Lo.create("duplicate-app",{appName:N});var x=new t(w,A,i);return e[N]=x,x}function l(){return Object.keys(e).map(function(w){return e[w]})}function f(w){var I=w.name;if(n.has(I))return Go.debug("There were multiple attempts to register component "+I+"."),w.type==="PUBLIC"?i[I]:null;if(n.set(I,w),w.type==="PUBLIC"){var T=function($){if($===void 0&&($=u()),typeof $[I]!="function")throw Lo.create("invalid-app-argument",{appName:I});return $[I]()};w.serviceProps!==void 0&&ku(T,w.serviceProps),i[I]=T,t.prototype[I]=function(){for(var $=[],B=0;B<arguments.length;B++)$[B]=arguments[B];var J=this._getService.bind(this,I);return J.apply(this,w.multipleInstances?$:[])}}for(var A=0,N=Object.keys(e);A<N.length;A++){var x=N[A];e[x]._addComponent(w)}return w.type==="PUBLIC"?i[I]:null}function p(w,I,T){var A,N=(A=Px[w])!==null&&A!==void 0?A:w;T&&(N+="-"+T);var x=N.match(/\s|\//),$=I.match(/\s|\//);if(x||$){var B=['Unable to register library "'+N+'" with version "'+I+'":'];x&&B.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),x&&$&&B.push("and"),$&&B.push('version name "'+I+'" contains illegal characters (whitespace or "/")'),Go.warn(B.join(" "));return}f(new Ol(N+"-version",function(){return{library:N,version:I}},"VERSION"))}function g(w,I){if(w!==null&&typeof w!="function")throw Lo.create("invalid-log-argument");wx(w,I)}function y(w,I){if(I==="serverAuth")return null;var T=I;return T}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){var t=Mx(Oc);t.INTERNAL=Nu(Nu({},t.INTERNAL),{createFirebaseNamespace:IE,extendNamespace:e,createSubscribe:ax,ErrorFactory:yg,deepExtend:ku});function e(n){ku(t,n)}return t}var bg=IE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fx=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(jx(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function jx(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){t.INTERNAL.registerComponent(new Ol("platform-logger",function(n){return new Fx(n)},"PRIVATE")),t.registerVersion(bE,Ix,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(YD()&&self.firebase!==void 0){Go.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var W0=self.firebase.SDK_VERSION;W0&&W0.indexOf("LITE")>=0&&Go.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var Vx=bg.initializeApp;bg.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mE()&&Go.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),Vx.apply(void 0,t)};var ct=bg;Ux(ct);var qx="firebase",EE="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct.registerVersion(qx,EE,"app");ct.SDK_VERSION=EE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,a){r!=Array.prototype&&r!=Object.prototype&&(r[s]=a.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var a=r[s];if(a&&a.Math==Math)return a}return globalThis}var i=n(this);function o(r,s){if(s){var a=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var d=r[h];d in a||(a[d]={}),a=a[d]}r=r[r.length-1],h=a[r],s=s(h),s!=h&&s!=null&&e(a,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function c(r){var s=typeof Symbol!="undefined"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(m){this.b=0,this.c=void 0,this.a=[];var b=this.f();try{m(b.resolve,b.reject)}catch(C){b.reject(C)}}function a(){this.a=null}function h(m){return m instanceof s?m:new s(function(b){b(m)})}if(r)return r;a.prototype.b=function(m){if(this.a==null){this.a=[];var b=this;this.c(function(){b.g()})}this.a.push(m)};var d=i.setTimeout;a.prototype.c=function(m){d(m,0)},a.prototype.g=function(){for(;this.a&&this.a.length;){var m=this.a;this.a=[];for(var b=0;b<m.length;++b){var C=m[b];m[b]=null;try{C()}catch(L){this.f(L)}}}this.a=null},a.prototype.f=function(m){this.c(function(){throw m})},s.prototype.f=function(){function m(L){return function(ft){C||(C=!0,L.call(b,ft))}}var b=this,C=!1;return{resolve:m(this.m),reject:m(this.g)}},s.prototype.m=function(m){if(m===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof s)this.s(m);else{t:switch(typeof m){case"object":var b=m!=null;break t;case"function":b=!0;break t;default:b=!1}b?this.v(m):this.h(m)}},s.prototype.v=function(m){var b=void 0;try{b=m.then}catch(C){this.g(C);return}typeof b=="function"?this.u(b,m):this.h(m)},s.prototype.g=function(m){this.i(2,m)},s.prototype.h=function(m){this.i(1,m)},s.prototype.i=function(m,b){if(this.b!=0)throw Error("Cannot settle("+m+", "+b+"): Promise already settled in state"+this.b);this.b=m,this.c=b,this.l()},s.prototype.l=function(){if(this.a!=null){for(var m=0;m<this.a.length;++m)v.b(this.a[m]);this.a=null}};var v=new a;return s.prototype.s=function(m){var b=this.f();m.Ra(b.resolve,b.reject)},s.prototype.u=function(m,b){var C=this.f();try{m.call(b,C.resolve,C.reject)}catch(L){C.reject(L)}},s.prototype.then=function(m,b){function C(kt,fe){return typeof kt=="function"?function(pr){try{L(kt(pr))}catch(Fd){ft(Fd)}}:fe}var L,ft,Pt=new s(function(kt,fe){L=kt,ft=fe});return this.Ra(C(m,L),C(b,ft)),Pt},s.prototype.catch=function(m){return this.then(void 0,m)},s.prototype.Ra=function(m,b){function C(){switch(L.b){case 1:m(L.c);break;case 2:b(L.c);break;default:throw Error("Unexpected state: "+L.b)}}var L=this;this.a==null?v.b(C):this.a.push(C)},s.resolve=h,s.reject=function(m){return new s(function(b,C){C(m)})},s.race=function(m){return new s(function(b,C){for(var L=c(m),ft=L.next();!ft.done;ft=L.next())h(ft.value).Ra(b,C)})},s.all=function(m){var b=c(m),C=b.next();return C.done?h([]):new s(function(L,ft){function Pt(pr){return function(Fd){kt[pr]=Fd,fe--,fe==0&&L(kt)}}var kt=[],fe=0;do kt.push(void 0),fe++,h(C.value).Ra(Pt(kt.length-1),ft),C=b.next();while(!C.done)})},s});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function y(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&p.test(r)?r:""}function w(){}function I(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function T(r){var s=I(r);return s=="array"||s=="object"&&typeof r.length=="number"}function A(r){return I(r)=="function"}function N(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,$)&&r[$]||(r[$]=++B)}var $="closure_uid_"+(1e9*Math.random()>>>0),B=0;function J(r,s,a){return r.call.apply(r.bind,arguments)}function at(r,s,a){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,h),r.apply(s,d)}}return function(){return r.apply(s,arguments)}}function K(r,s,a){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?K=J:K=at,K.apply(null,arguments)}function At(r,s){var a=Array.prototype.slice.call(arguments,1);return function(){var h=a.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function z(r,s){function a(){}a.prototype=s.prototype,r.bb=s.prototype,r.prototype=new a,r.prototype.constructor=r}function Nt(r){return r}function _(r,s,a){this.code=ye+r,this.message=s||_n[r]||"",this.a=a||null}z(_,Error),_.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},_.prototype.toJSON=function(){return this.w()};function ee(r){var s=r&&r.code;return s?new _(s.substring(ye.length),r.message,r.serverResponse):null}var ye="auth/",_n={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Nr={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ur(r){for(var s in Nr)if(Nr[s].id===r)return r=Nr[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var ne;ne=ur("__EID__")?"__EID__":void 0;function qt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function mt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,mt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}z(mt,Error),mt.prototype.name="CustomError";function tn(r,s){r=r.split("%s");for(var a="",h=r.length-1,d=0;d<h;d++)a+=r[d]+(d<s.length?s[d]:"%s");mt.call(this,a+r[h])}z(tn,mt),tn.prototype.name="AssertionError";function Vn(r,s){throw new tn("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function ar(r,s){this.c=r,this.f=s,this.b=0,this.a=null}ar.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function cr(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function Sn(){this.b=this.a=null}var bs=new ar(function(){return new Is},function(r){r.reset()});Sn.prototype.add=function(r,s){var a=bs.get();a.set(r,s),this.b?this.b.next=a:this.a=a,this.b=a};function ah(){var r=Jv,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function Is(){this.next=this.b=this.a=null}Is.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},Is.prototype.reset=function(){this.next=this.b=this.a=null};var gn=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var a=0;a<r.length;a++)if(a in r&&r[a]===s)return a;return-1},Lt=Array.prototype.forEach?function(r,s,a){Array.prototype.forEach.call(r,s,a)}:function(r,s,a){for(var h=r.length,d=typeof r=="string"?r.split(""):r,v=0;v<h;v++)v in d&&s.call(a,d[v],v,r)};function la(r,s){for(var a=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in a&&s.call(void 0,a[h],h,r)}var kr=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var a=r.length,h=[],d=0,v=typeof r=="string"?r.split(""):r,m=0;m<a;m++)if(m in v){var b=v[m];s.call(void 0,b,m,r)&&(h[d++]=b)}return h},Cr=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var a=r.length,h=Array(a),d=typeof r=="string"?r.split(""):r,v=0;v<a;v++)v in d&&(h[v]=s.call(void 0,d[v],v,r));return h},Es=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var a=r.length,h=typeof r=="string"?r.split(""):r,d=0;d<a;d++)if(d in h&&s.call(void 0,h[d],d,r))return!0;return!1};function E(r){t:{for(var s=VS,a=r.length,h=typeof r=="string"?r.split(""):r,d=0;d<a;d++)if(d in h&&s.call(void 0,h[d],d,r)){s=d;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function S(r,s){return 0<=gn(r,s)}function D(r,s){s=gn(r,s);var a;return(a=0<=s)&&Array.prototype.splice.call(r,s,1),a}function O(r,s){var a=0;la(r,function(h,d){s.call(void 0,h,d,r)&&Array.prototype.splice.call(r,d,1).length==1&&a++})}function P(r){return Array.prototype.concat.apply([],arguments)}function V(r){var s=r.length;if(0<s){for(var a=Array(s),h=0;h<s;h++)a[h]=r[h];return a}return[]}var W=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},q=/&/g,G=/</g,j=/>/g,it=/"/g,tt=/'/g,ot=/\x00/g,ht=/[\x00&<>"']/;function et(r,s){return r.indexOf(s)!=-1}function Dt(r,s){return r<s?-1:r>s?1:0}var Et;t:{var Mt=f.navigator;if(Mt){var Ke=Mt.userAgent;if(Ke){Et=Ke;break t}}Et=""}function Ut(r){return et(Et,r)}function Ts(r,s){for(var a in r)s.call(void 0,r[a],a,r)}function en(r){for(var s in r)return!1;return!0}function An(r){var s={},a;for(a in r)s[a]=r[a];return s}var Ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bt(r,s){for(var a,h,d=1;d<arguments.length;d++){h=arguments[d];for(a in h)r[a]=h[a];for(var v=0;v<Ae.length;v++)a=Ae[v],Object.prototype.hasOwnProperty.call(h,a)&&(r[a]=h[a])}}function _s(r,s){t:{try{var a=r&&r.ownerDocument,h=a&&(a.defaultView||a.parentWindow);if(h=h||f,h.Element&&h.Location){var d=h;break t}}catch{}d=null}if(d&&typeof d[s]!="undefined"&&(!r||!(r instanceof d[s])&&(r instanceof d.Location||r instanceof d.Element))){if(N(r))try{var v=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{v="<object could not be stringified>"}else v=r===void 0?"undefined":r===null?"null":typeof r;Vn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,v)}}function qn(r,s){this.a=r===ha&&s||"",this.b=Rv}qn.prototype.ta=!0,qn.prototype.sa=function(){return this.a},qn.prototype.toString=function(){return"Const{"+this.a+"}"};function ch(r){return r instanceof qn&&r.constructor===qn&&r.b===Rv?r.a:(Vn("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Rv={},ha={},fa;function Pv(){if(fa===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:Nt,createScript:Nt,createScriptURL:Nt})}catch(a){f.console&&f.console.error(a.message)}fa=r}else fa=r}return fa}function so(r,s){this.a=s===Mv?r:""}so.prototype.ta=!0,so.prototype.sa=function(){return this.a.toString()},so.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Lv(r){return r instanceof so&&r.constructor===so?r.a:(Vn("expected object of type TrustedResourceUrl, got '"+r+"' of type "+I(r)),"type_error:TrustedResourceUrl")}function lh(r,s){var a=ch(r);if(!v1.test(a))throw Error("Invalid TrustedResourceUrl format: "+a);return r=a.replace(g1,function(h,d){if(!Object.prototype.hasOwnProperty.call(s,d))throw Error('Found marker, "'+d+'", in format string, "'+a+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[d],h instanceof qn?ch(h):encodeURIComponent(String(h))}),m1(r)}var g1=/%{(\w+)}/g,v1=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Mv={};function m1(r){var s=Pv();return r=s?s.createScriptURL(r):r,new so(r,Mv)}function He(r,s){this.a=s===Ss?r:""}He.prototype.ta=!0,He.prototype.sa=function(){return this.a.toString()},He.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function da(r){return r instanceof He&&r.constructor===He?r.a:(Vn("expected object of type SafeUrl, got '"+r+"' of type "+I(r)),"type_error:SafeUrl")}var y1=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,w1=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Fv=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jv(r){if(r instanceof He)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Fv.test(r))r=new He(r,Ss);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(w1);r=s&&y1.test(s[1])?new He(r,Ss):null}return r}function Uv(r){return r instanceof He?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Fv.test(r)||(r="about:invalid#zClosurez"),new He(r,Ss))}var Ss={},Vv=new He("about:invalid#zClosurez",Ss);function uo(r,s,a){this.a=a===qv?r:""}uo.prototype.ta=!0,uo.prototype.sa=function(){return this.a.toString()},uo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function b1(r){return r instanceof uo&&r.constructor===uo?r.a:(Vn("expected object of type SafeHtml, got '"+r+"' of type "+I(r)),"type_error:SafeHtml")}var qv={};function I1(r,s){_s(r,"HTMLScriptElement"),r.src=Lv(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=y(s.document):(g===null&&(g=y(f.document)),s=g),s&&r.setAttribute("nonce",s)}function Bv(r,s,a,h){return r=r instanceof He?r:Uv(r),s=s||f,a=a instanceof qn?ch(a):a||"",s.open(da(r),a,h,void 0)}function Kv(r,s){for(var a=r.split("%s"),h="",d=Array.prototype.slice.call(arguments,1);d.length&&1<a.length;)h+=a.shift()+d.shift();return h+a.join("%s")}function hh(r){return ht.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(q,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(G,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(j,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(it,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(tt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(ot,"&#0;"))),r}function fh(r){return fh[" "](r),r}fh[" "]=w;function E1(r,s){var a=A1;return Object.prototype.hasOwnProperty.call(a,r)?a[r]:a[r]=s(r)}var T1=Ut("Opera"),Nn=Ut("Trident")||Ut("MSIE"),Hv=Ut("Edge"),_1=Hv||Nn,Gv=Ut("Gecko")&&!(et(Et.toLowerCase(),"webkit")&&!Ut("Edge"))&&!(Ut("Trident")||Ut("MSIE"))&&!Ut("Edge"),S1=et(Et.toLowerCase(),"webkit")&&!Ut("Edge");function $v(){var r=f.document;return r?r.documentMode:void 0}var pa;t:{var dh="",ph=function(){var r=Et;if(Gv)return/rv:([^\);]+)(\)|;)/.exec(r);if(Hv)return/Edge\/([\d\.]+)/.exec(r);if(Nn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(S1)return/WebKit\/(\S+)/.exec(r);if(T1)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(ph&&(dh=ph?ph[1]:""),Nn){var gh=$v();if(gh!=null&&gh>parseFloat(dh)){pa=String(gh);break t}}pa=dh}var A1={};function zv(r){return E1(r,function(){for(var s=0,a=W(String(pa)).split("."),h=W(String(r)).split("."),d=Math.max(a.length,h.length),v=0;s==0&&v<d;v++){var m=a[v]||"",b=h[v]||"";do{if(m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],m[0].length==0&&b[0].length==0)break;s=Dt(m[1].length==0?0:parseInt(m[1],10),b[1].length==0?0:parseInt(b[1],10))||Dt(m[2].length==0,b[2].length==0)||Dt(m[2],b[2]),m=m[3],b=b[3]}while(s==0)}return 0<=s})}var vh;if(f.document&&Nn){var Wv=$v();vh=Wv||parseInt(pa,10)||void 0}else vh=void 0;var Dr=vh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var N1=!Nn||9<=Number(Dr);function As(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function Qv(r,s){Ts(s,function(a,h){a&&typeof a=="object"&&a.ta&&(a=a.sa()),h=="style"?r.style.cssText=a:h=="class"?r.className=a:h=="for"?r.htmlFor=a:Xv.hasOwnProperty(h)?r.setAttribute(Xv[h],a):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,a):r[h]=a})}var Xv={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function k1(r,s,a){var h=arguments,d=document,v=String(h[0]),m=h[1];if(!N1&&m&&(m.name||m.type)){if(v=["<",v],m.name&&v.push(' name="',hh(m.name),'"'),m.type){v.push(' type="',hh(m.type),'"');var b={};Bt(b,m),delete b.type,m=b}v.push(">"),v=v.join("")}return v=ga(d,v),m&&(typeof m=="string"?v.className=m:Array.isArray(m)?v.className=m.join(" "):Qv(v,m)),2<h.length&&C1(d,v,h),v}function C1(r,s,a){function h(b){b&&s.appendChild(typeof b=="string"?r.createTextNode(b):b)}for(var d=2;d<a.length;d++){var v=a[d];if(!T(v)||N(v)&&0<v.nodeType)h(v);else{t:{if(v&&typeof v.length=="number"){if(N(v)){var m=typeof v.item=="function"||typeof v.item=="string";break t}if(A(v)){m=typeof v.item=="function";break t}}m=!1}Lt(m?V(v):v,h)}}}function ga(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function Yv(r){f.setTimeout(function(){throw r},0)}var mh;function D1(){var r=f.MessageChannel;if(typeof r=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Ut("Presto")&&(r=function(){var d=ga(document,"IFRAME");d.style.display="none",document.documentElement.appendChild(d);var v=d.contentWindow;d=v.document,d.open(),d.close();var m="callImmediate"+Math.random(),b=v.location.protocol=="file:"?"*":v.location.protocol+"//"+v.location.host;d=K(function(C){(b=="*"||C.origin==b)&&C.data==m&&this.port1.onmessage()},this),v.addEventListener("message",d,!1),this.port1={},this.port2={postMessage:function(){v.postMessage(m,b)}}}),typeof r!="undefined"&&!Ut("Trident")&&!Ut("MSIE")){var s=new r,a={},h=a;return s.port1.onmessage=function(){if(a.next!==void 0){a=a.next;var d=a.Hb;a.Hb=null,d()}},function(d){h.next={Hb:d},h=h.next,s.port2.postMessage(0)}}return function(d){f.setTimeout(d,0)}}function va(r,s){ma||x1(),yh||(ma(),yh=!0),Jv.add(r,s)}var ma;function x1(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);ma=function(){r.then(Zv)}}else ma=function(){var s=Zv;!A(f.setImmediate)||f.Window&&f.Window.prototype&&!Ut("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(mh||(mh=D1()),mh(s)):f.setImmediate(s)}}var yh=!1,Jv=new Sn;function Zv(){for(var r;r=ah();){try{r.a.call(r.b)}catch(s){Yv(s)}cr(bs,r)}yh=!1}function wt(r,s){if(this.a=ai,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=w)try{var a=this;r.call(s,function(h){ci(a,Ns,h)},function(h){if(!(h instanceof ao))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}ci(a,lr,h)})}catch(h){ci(this,lr,h)}}var ai=0,Ns=2,lr=3;function tm(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}tm.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var em=new ar(function(){return new tm},function(r){r.reset()});function wh(r,s,a){var h=em.get();return h.g=r,h.b=s,h.f=a,h}function st(r){if(r instanceof wt)return r;var s=new wt(w);return ci(s,Ns,r),s}function Ht(r){return new wt(function(s,a){a(r)})}function nm(r,s,a){sm(r,s,a,null)||va(At(s,r))}function O1(r){return new wt(function(s,a){var h=r.length,d=[];if(h)for(var v=function(L,ft){h--,d[L]=ft,h==0&&s(d)},m=function(L){a(L)},b=0,C;b<r.length;b++)C=r[b],nm(C,At(v,b),m);else s(d)})}function rm(r){return new wt(function(s){var a=r.length,h=[];if(a)for(var d=function(b,C,L){a--,h[b]=C?{Qb:!0,value:L}:{Qb:!1,reason:L},a==0&&s(h)},v=0,m;v<r.length;v++)m=r[v],nm(m,At(d,v,!0),At(d,v,!1));else s(h)})}wt.prototype.then=function(r,s,a){return om(this,A(r)?r:null,A(s)?s:null,a)},wt.prototype.$goog_Thenable=!0,t=wt.prototype,t.oa=function(r,s){return r=wh(r,r,s),r.c=!0,bh(this,r),this},t.o=function(r,s){return om(this,null,r,s)},t.cancel=function(r){if(this.a==ai){var s=new ao(r);va(function(){im(this,s)},this)}};function im(r,s){if(r.a==ai)if(r.c){var a=r.c;if(a.b){for(var h=0,d=null,v=null,m=a.b;m&&(m.c||(h++,m.a==r&&(d=m),!(d&&1<h)));m=m.next)d||(v=m);d&&(a.a==ai&&h==1?im(a,s):(v?(h=v,h.next==a.f&&(a.f=h),h.next=h.next.next):am(a),cm(a,d,lr,s)))}r.c=null}else ci(r,lr,s)}function bh(r,s){r.b||r.a!=Ns&&r.a!=lr||um(r),r.f?r.f.next=s:r.b=s,r.f=s}function om(r,s,a,h){var d=wh(null,null,null);return d.a=new wt(function(v,m){d.g=s?function(b){try{var C=s.call(h,b);v(C)}catch(L){m(L)}}:v,d.b=a?function(b){try{var C=a.call(h,b);C===void 0&&b instanceof ao?m(b):v(C)}catch(L){m(L)}}:m}),d.a.c=r,bh(r,d),d.a}t.$c=function(r){this.a=ai,ci(this,Ns,r)},t.ad=function(r){this.a=ai,ci(this,lr,r)};function ci(r,s,a){r.a==ai&&(r===a&&(s=lr,a=new TypeError("Promise cannot resolve to itself")),r.a=1,sm(a,r.$c,r.ad,r)||(r.i=a,r.a=s,r.c=null,um(r),s!=lr||a instanceof ao||P1(r,a)))}function sm(r,s,a,h){if(r instanceof wt)return bh(r,wh(s||w,a||null,h)),!0;if(qt(r))return r.then(s,a,h),!0;if(N(r))try{var d=r.then;if(A(d))return R1(r,d,s,a,h),!0}catch(v){return a.call(h,v),!0}return!1}function R1(r,s,a,h,d){function v(C){b||(b=!0,h.call(d,C))}function m(C){b||(b=!0,a.call(d,C))}var b=!1;try{s.call(r,m,v)}catch(C){v(C)}}function um(r){r.h||(r.h=!0,va(r.gc,r))}function am(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=am(this);)cm(this,r,this.a,this.i);this.h=!1};function cm(r,s,a,h){if(a==lr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,lm(s,a,h);else try{s.c?s.g.call(s.f):lm(s,a,h)}catch(d){hm.call(null,d)}cr(em,s)}function lm(r,s,a){s==Ns?r.g.call(r.f,a):r.b&&r.b.call(r.f,a)}function P1(r,s){r.g=!0,va(function(){r.g&&hm.call(null,s)})}var hm=Yv;function ao(r){mt.call(this,r)}z(ao,mt),ao.prototype.name="cancel";function ya(){this.ya=this.ya,this.pa=this.pa}var L1=0;ya.prototype.ya=!1;function fm(r){!r.ya&&(r.ya=!0,r.Da(),L1!=0)&&x(r)}ya.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var M1=Object.freeze||function(r){return r},dm=!Nn||9<=Number(Dr),F1=Nn&&!zv("9"),j1=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",w,s),f.removeEventListener("test",w,s)}catch{}return r}();function Ge(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0};function li(r,s){if(Ge.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var a=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(Gv){t:{try{fh(s.nodeName);var d=!0;break t}catch{}d=!1}d||(s=null)}}else a=="mouseover"?s=r.fromElement:a=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:U1[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}z(li,Ge);var U1=M1({2:"touch",3:"pen",4:"mouse"});li.prototype.preventDefault=function(){li.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,F1)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},li.prototype.g=function(){return this.a};var ks="closure_listenable_"+(1e6*Math.random()|0),V1=0;function q1(r,s,a,h,d){this.listener=r,this.proxy=null,this.src=s,this.type=a,this.capture=!!h,this.Wa=d,this.key=++V1,this.wa=this.Qa=!1}function wa(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function ba(r){this.src=r,this.a={},this.b=0}ba.prototype.add=function(r,s,a,h,d){var v=r.toString();r=this.a[v],r||(r=this.a[v]=[],this.b++);var m=Eh(r,s,h,d);return-1<m?(s=r[m],a||(s.Qa=!1)):(s=new q1(s,this.src,v,!!h,d),s.Qa=a,r.push(s)),s};function Ih(r,s){var a=s.type;a in r.a&&D(r.a[a],s)&&(wa(s),r.a[a].length==0&&(delete r.a[a],r.b--))}function Eh(r,s,a,h){for(var d=0;d<r.length;++d){var v=r[d];if(!v.wa&&v.listener==s&&v.capture==!!a&&v.Wa==h)return d}return-1}var Th="closure_lm_"+(1e6*Math.random()|0),_h={};function vn(r,s,a,h,d){if(h&&h.once)Sh(r,s,a,h,d);else if(Array.isArray(s))for(var v=0;v<s.length;v++)vn(r,s[v],a,h,d);else a=Nh(a),r&&r[ks]?wm(r,s,a,N(h)?!!h.capture:!!h,d):pm(r,s,a,!1,h,d)}function pm(r,s,a,h,d,v){if(!s)throw Error("Invalid event type");var m=N(d)?!!d.capture:!!d,b=Ia(r);if(b||(r[Th]=b=new ba(r)),a=b.add(s,a,h,m,v),!a.proxy)if(h=B1(),a.proxy=h,h.src=r,h.listener=a,r.addEventListener)j1||(d=m),d===void 0&&(d=!1),r.addEventListener(s.toString(),h,d);else if(r.attachEvent)r.attachEvent(vm(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function B1(){var r=K1,s=dm?function(a){return r.call(s.src,s.listener,a)}:function(a){if(a=r.call(s.src,s.listener,a),!a)return a};return s}function Sh(r,s,a,h,d){if(Array.isArray(s))for(var v=0;v<s.length;v++)Sh(r,s[v],a,h,d);else a=Nh(a),r&&r[ks]?kh(r,s,a,N(h)?!!h.capture:!!h,d):pm(r,s,a,!0,h,d)}function nn(r,s,a,h,d){if(Array.isArray(s))for(var v=0;v<s.length;v++)nn(r,s[v],a,h,d);else h=N(h)?!!h.capture:!!h,a=Nh(a),r&&r[ks]?(r=r.v,s=String(s).toString(),s in r.a&&(v=r.a[s],a=Eh(v,a,h,d),-1<a&&(wa(v[a]),Array.prototype.splice.call(v,a,1),v.length==0&&(delete r.a[s],r.b--)))):r&&(r=Ia(r))&&(s=r.a[s.toString()],r=-1,s&&(r=Eh(s,a,h,d)),(a=-1<r?s[r]:null)&&gm(a))}function gm(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[ks])Ih(s.v,r);else{var a=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(a,h,r.capture):s.detachEvent?s.detachEvent(vm(a),h):s.addListener&&s.removeListener&&s.removeListener(h),(a=Ia(s))?(Ih(a,r),a.b==0&&(a.src=null,s[Th]=null)):wa(r)}}}function vm(r){return r in _h?_h[r]:_h[r]="on"+r}function mm(r,s,a,h){var d=!0;if((r=Ia(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var v=s[r];v&&v.capture==a&&!v.wa&&(v=ym(v,h),d=d&&v!==!1)}return d}function ym(r,s){var a=r.listener,h=r.Wa||r.src;return r.Qa&&gm(r),a.call(h,s)}function K1(r,s){if(r.wa)return!0;if(!dm){if(!s)t:{s=["window","event"];for(var a=f,h=0;h<s.length;h++)if(a=a[s[h]],a==null){s=null;break t}s=a}if(h=s,s=new li(h,this),a=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var d=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{d=!0}(d||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],d=s.b;d;d=d.parentNode)h.push(d);for(r=r.type,d=h.length-1;0<=d;d--){s.b=h[d];var v=mm(h[d],r,!0,s);a=a&&v}for(d=0;d<h.length;d++)s.b=h[d],v=mm(h[d],r,!1,s),a=a&&v}return a}return ym(r,new li(s,this))}function Ia(r){return r=r[Th],r instanceof ba?r:null}var Ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nh(r){return A(r)?r:(r[Ah]||(r[Ah]=function(s){return r.handleEvent(s)}),r[Ah])}function Le(){ya.call(this),this.v=new ba(this),this.bc=this,this.hb=null}z(Le,ya),Le.prototype[ks]=!0,Le.prototype.addEventListener=function(r,s,a,h){vn(this,r,s,a,h)},Le.prototype.removeEventListener=function(r,s,a,h){nn(this,r,s,a,h)},Le.prototype.dispatchEvent=function(r){var s,a=this.hb;if(a)for(s=[];a;a=a.hb)s.push(a);a=this.bc;var h=r.type||r;if(typeof r=="string")r=new Ge(r,a);else if(r instanceof Ge)r.target=r.target||a;else{var d=r;r=new Ge(h,a),Bt(r,d)}if(d=!0,s)for(var v=s.length-1;0<=v;v--){var m=r.b=s[v];d=Ea(m,h,!0,r)&&d}if(m=r.b=a,d=Ea(m,h,!0,r)&&d,d=Ea(m,h,!1,r)&&d,s)for(v=0;v<s.length;v++)m=r.b=s[v],d=Ea(m,h,!1,r)&&d;return d},Le.prototype.Da=function(){if(Le.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var a=r.a[s],h=0;h<a.length;h++)wa(a[h]);delete r.a[s],r.b--}}this.hb=null};function wm(r,s,a,h,d){r.v.add(String(s),a,!1,h,d)}function kh(r,s,a,h,d){r.v.add(String(s),a,!0,h,d)}function Ea(r,s,a,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var d=!0,v=0;v<s.length;++v){var m=s[v];if(m&&!m.wa&&m.capture==a){var b=m.listener,C=m.Wa||m.src;m.Qa&&Ih(r.v,m),d=b.call(C,h)!==!1&&d}}return d&&!h.defaultPrevented}function Ch(r,s,a){if(A(r))a&&(r=K(r,a));else if(r&&typeof r.handleEvent=="function")r=K(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function co(r){var s=null;return new wt(function(a,h){s=Ch(function(){a(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(a){throw f.clearTimeout(s),a})}function bm(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(T(r)){for(var s=[],a=r.length,h=0;h<a;h++)s.push(r[h]);return s}s=[],a=0;for(h in r)s[a++]=r[h];return s}function Im(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(T(r)||typeof r=="string"){var s=[];r=r.length;for(var a=0;a<r;a++)s.push(a);return s}s=[],a=0;for(var h in r)s[a++]=h;return s}}function H1(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(T(r)||typeof r=="string")Lt(r,s,void 0);else for(var a=Im(r),h=bm(r),d=h.length,v=0;v<d;v++)s.call(void 0,h[v],a&&a[v],r)}function lo(r,s){this.b={},this.a=[],this.c=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var h=0;h<a;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof lo)for(a=r.Y(),h=0;h<a.length;h++)this.set(a[h],r.get(a[h]));else for(h in r)this.set(h,r[h])}t=lo.prototype,t.X=function(){Dh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Dh(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Dh(r){if(r.c!=r.a.length){for(var s=0,a=0;s<r.a.length;){var h=r.a[s];hi(r.b,h)&&(r.a[a++]=h),s++}r.a.length=a}if(r.c!=r.a.length){var d={};for(a=s=0;s<r.a.length;)h=r.a[s],hi(d,h)||(r.a[a++]=h,d[h]=1),s++;r.a.length=a}}t.get=function(r,s){return hi(this.b,r)?this.b[r]:s},t.set=function(r,s){hi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var a=this.Y(),h=0;h<a.length;h++){var d=a[h],v=this.get(d);r.call(s,v,d,this)}};function hi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Em=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function G1(r,s){if(r){r=r.split("&");for(var a=0;a<r.length;a++){var h=r[a].indexOf("="),d=null;if(0<=h){var v=r[a].substring(0,h);d=r[a].substring(h+1)}else v=r[a];s(v,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function xr(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var a;r instanceof xr?(this.i=s!==void 0?s:r.i,Cs(this,r.c),this.l=r.l,this.a=r.a,Ds(this,r.g),this.f=r.f,xh(this,Am(r.b)),this.h=r.h):r&&(a=String(r).match(Em))?(this.i=!!s,Cs(this,a[1]||"",!0),this.l=xs(a[2]||""),this.a=xs(a[3]||"",!0),Ds(this,a[4]),this.f=xs(a[5]||"",!0),xh(this,a[6]||"",!0),this.h=xs(a[7]||"")):(this.i=!!s,this.b=new fi(null,this.i))}xr.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Os(s,Tm,!0),":");var a=this.a;return(a||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Os(s,Tm,!0),"@"),r.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.g,a!=null&&r.push(":",String(a))),(a=this.f)&&(this.a&&a.charAt(0)!="/"&&r.push("/"),r.push(Os(a,a.charAt(0)=="/"?W1:z1,!0))),(a=this.b.toString())&&r.push("?",a),(a=this.h)&&r.push("#",Os(a,X1)),r.join("")},xr.prototype.resolve=function(r){var s=new xr(this),a=!!r.c;a?Cs(s,r.c):a=!!r.l,a?s.l=r.l:a=!!r.a,a?s.a=r.a:a=r.g!=null;var h=r.f;if(a)Ds(s,r.g);else if(a=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var d=s.f.lastIndexOf("/");d!=-1&&(h=s.f.substr(0,d+1)+h)}if(d=h,d==".."||d==".")h="";else if(et(d,"./")||et(d,"/.")){h=d.lastIndexOf("/",0)==0,d=d.split("/");for(var v=[],m=0;m<d.length;){var b=d[m++];b=="."?h&&m==d.length&&v.push(""):b==".."?((1<v.length||v.length==1&&v[0]!="")&&v.pop(),h&&m==d.length&&v.push("")):(v.push(b),h=!0)}h=v.join("/")}else h=d}return a?s.f=h:a=r.b.toString()!=="",a?xh(s,Am(r.b)):a=!!r.h,a&&(s.h=r.h),s};function Cs(r,s,a){r.c=a?xs(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Ds(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function xh(r,s,a){s instanceof fi?(r.b=s,Y1(r.b,r.i)):(a||(s=Os(s,Q1)),r.b=new fi(s,r.i))}function Jt(r,s,a){r.b.set(s,a)}function mn(r,s){return r.b.get(s)}function $e(r){return r instanceof xr?new xr(r):new xr(r,void 0)}function Ta(r,s,a,h){var d=new xr(null,void 0);return r&&Cs(d,r),s&&(d.a=s),a&&Ds(d,a),h&&(d.f=h),d}function xs(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Os(r,s,a){return typeof r=="string"?(r=encodeURI(r).replace(s,$1),a&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function $1(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Tm=/[#\/\?@]/g,z1=/[#\?:]/g,W1=/[#\?]/g,Q1=/[#\?@]/g,X1=/#/g;function fi(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function Or(r){r.a||(r.a=new lo,r.b=0,r.c&&G1(r.c,function(s,a){r.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}function _m(r){var s=Im(r);if(typeof s=="undefined")throw Error("Keys are undefined");var a=new fi(null,void 0);r=bm(r);for(var h=0;h<s.length;h++){var d=s[h],v=r[h];Array.isArray(v)?Sm(a,d,v):a.add(d,v)}return a}t=fi.prototype,t.add=function(r,s){Or(this),this.c=null,r=ho(this,r);var a=this.a.get(r);return a||this.a.set(r,a=[]),a.push(s),this.b+=1,this};function Bn(r,s){Or(r),s=ho(r,s),hi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,hi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Dh(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Oh(r,s){return Or(r),s=ho(r,s),hi(r.a.b,s)}t.forEach=function(r,s){Or(this),this.a.forEach(function(a,h){Lt(a,function(d){r.call(s,d,h,this)},this)},this)},t.Y=function(){Or(this);for(var r=this.a.X(),s=this.a.Y(),a=[],h=0;h<s.length;h++)for(var d=r[h],v=0;v<d.length;v++)a.push(s[h]);return a},t.X=function(r){Or(this);var s=[];if(typeof r=="string")Oh(this,r)&&(s=P(s,this.a.get(ho(this,r))));else{r=this.a.X();for(var a=0;a<r.length;a++)s=P(s,r[a])}return s},t.set=function(r,s){return Or(this),this.c=null,r=ho(this,r),Oh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Sm(r,s,a){Bn(r,s),0<a.length&&(r.c=null,r.a.set(ho(r,s),V(a)),r.b+=a.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),a=0;a<s.length;a++){var h=s[a],d=encodeURIComponent(String(h));h=this.X(h);for(var v=0;v<h.length;v++){var m=d;h[v]!==""&&(m+="="+encodeURIComponent(String(h[v]))),r.push(m)}}return this.c=r.join("&")};function Am(r){var s=new fi;return s.c=r.c,r.a&&(s.a=new lo(r.a),s.b=r.b),s}function ho(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function Y1(r,s){s&&!r.f&&(Or(r),r.c=null,r.a.forEach(function(a,h){var d=h.toLowerCase();h!=d&&(Bn(this,h),Sm(this,d,a))},r)),r.f=s}function Nm(r){var s=[];return Rh(new J1,r,s),s.join("")}function J1(){}function Rh(r,s,a){if(s==null)a.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,a.push("[");for(var d="",v=0;v<s;v++)a.push(d),Rh(r,h[v],a),d=",";a.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{a.push("{"),d="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(v=s[h],typeof v!="function"&&(a.push(d),Cm(h,a),a.push(":"),Rh(r,v,a),d=","));a.push("}");return}}switch(typeof s){case"string":Cm(s,a);break;case"number":a.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":a.push(String(s));break;case"function":a.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var km={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Z1=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Cm(r,s){s.push('"',r.replace(Z1,function(a){var h=km[a];return h||(h="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),km[a]=h),h}),'"')}function Ph(){var r=we();return Nn&&!!Dr&&Dr==11||/Edge\/\d+/.test(r)}function Rs(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Dm(r,s){s=s||f.window;var a="about:blank";r&&(a=da(jv(r)||Vv)),s.location.href=a}function xm(r,s){var a=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?a.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<xm(r[h],s[h]).length&&a.push(h):r[h]!==s[h]&&a.push(h):a.push(h);for(h in s)h in r||a.push(h);return a}function tS(){var r=we();return r=fo(r)!=Lm?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!Nn||!Dr||9<Dr}function Om(r){return r=(r||we()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function di(r){r=r||f.window;try{r.close()}catch{}}function Rm(r,s,a){var h=Math.floor(1e9*Math.random()).toString();s=s||500,a=a||600;var d=(window.screen.availHeight-a)/2,v=(window.screen.availWidth-s)/2;s={width:s,height:a,top:0<d?d:0,left:0<v?v:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},a=we().toLowerCase(),h&&(s.target=h,et(a,"crios/")&&(s.target="_blank")),fo(we())==Fh&&(r=r||"http://localhost",s.scrollbars=!0),a=r||"",(r=s)||(r={}),h=window,s=a instanceof He?a:jv(typeof a.href!="undefined"?a.href:String(a))||Vv,a=r.target||a.target,d=[];for(m in r)switch(m){case"width":case"height":case"top":case"left":d.push(m+"="+r[m]);break;case"target":case"noopener":case"noreferrer":break;default:d.push(m+"="+(r[m]?1:0))}var m=d.join(",");if((Ut("iPhone")&&!Ut("iPod")&&!Ut("iPad")||Ut("iPad")||Ut("iPod"))&&h.navigator&&h.navigator.standalone&&a&&a!="_self"?(m=ga(document,"A"),_s(m,"HTMLAnchorElement"),s=s instanceof He?s:Uv(s),m.href=da(s),m.setAttribute("target",a),r.noreferrer&&m.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),m.dispatchEvent(r),m={}):r.noreferrer?(m=Bv("",h,a,m),r=da(s),m&&(_1&&et(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),m.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+hh(r)+'">',r=(h=Pv())?h.createHTML(r):r,r=new uo(r,null,qv),h=m.document)&&(h.write(b1(r)),h.close())):(m=Bv(s,h,a,m))&&r.noopener&&(m.opener=null),m)try{m.focus()}catch{}return m}function eS(r){return new wt(function(s){function a(){co(2e3).then(function(){if(!r||r.closed)s();else return a()})}return a()})}var nS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rS=/^[^@]+@[^@]+$/;function _a(){var r=null;return new wt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Sh(window,"load",r))}).o(function(s){throw nn(window,"load",r),s})}function iS(){return Lh(void 0)?_a().then(function(){return new wt(function(r,s){var a=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);a.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):Ht(Error("Cordova must run in an Android or iOS file scheme."))}function Lh(r){return r=r||we(),!(go()!=="file:"&&go()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function kn(){return typeof f.WorkerGlobalScope!="undefined"&&typeof f.importScripts=="function"}function Kn(){return ct.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ct.INTERNAL.hasOwnProperty("node")?"Node":kn()?"Worker":"Browser"}function Pm(){var r=Kn();return r==="ReactNative"||r==="Node"}function oS(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Fh="Firefox",Lm="Chrome";function fo(r){var s=r.toLowerCase();if(et(s,"opera/")||et(s,"opr/")||et(s,"opios/"))return"Opera";if(et(s,"iemobile"))return"IEMobile";if(et(s,"msie")||et(s,"trident/"))return"IE";if(et(s,"edge/"))return"Edge";if(et(s,"firefox/"))return Fh;if(et(s,"silk/"))return"Silk";if(et(s,"blackberry"))return"Blackberry";if(et(s,"webos"))return"Webos";if(!et(s,"safari/")||et(s,"chrome/")||et(s,"crios/")||et(s,"android"))if(!et(s,"chrome/")&&!et(s,"crios/")||et(s,"edge/")){if(et(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Lm;else return"Safari";return"Other"}var Mm={md:"FirebaseCore-web",od:"FirebaseUI-web"};function po(r,s){s=s||[];var a=[],h={},d;for(d in Mm)h[Mm[d]]=!0;for(d=0;d<s.length;d++)typeof h[s[d]]!="undefined"&&(delete h[s[d]],a.push(s[d]));return a.sort(),s=a,s.length||(s=["FirebaseCore-web"]),a=Kn(),a==="Browser"?(h=we(),a=fo(h)):a==="Worker"&&(h=we(),a=fo(h)+"-"+a),a+"/JsCore/"+r+"/"+s.join(",")}function we(){return f.navigator&&f.navigator.userAgent||""}function Gt(r,s){r=r.split("."),s=s||f;for(var a=0;a<r.length&&typeof s=="object"&&s!=null;a++)s=s[r[a]];return a!=r.length&&(s=void 0),s}function jh(){try{var r=f.localStorage,s=gi();if(r)return r.setItem(s,"1"),r.removeItem(s),Ph()?!!f.indexedDB:!0}catch{return kn()&&!!f.indexedDB}return!1}function pi(){return(Sa()||go()==="chrome-extension:"||Lh())&&!Pm()&&jh()&&!kn()}function Sa(){return go()==="http:"||go()==="https:"}function go(){return f.location&&f.location.protocol||null}function Ps(r){return r=r||we(),!(Om(r)||fo(r)==Fh)}function Ls(r){return typeof r=="undefined"?null:Nm(r)}function Fm(r){var s={},a;for(a in r)r.hasOwnProperty(a)&&r[a]!==null&&r[a]!==void 0&&(s[a]=r[a]);return s}function vo(r){if(r!==null)return JSON.parse(r)}function gi(r){return r||Math.floor(1e9*Math.random()).toString()}function jm(r){return r=r||we(),!(fo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Um(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var a=0;a<r.CP.length;a++)r.CP[a]=null}}function Rr(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=we(),s=Kn(),this.b=Om(r)||s==="ReactNative"}Rr.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Sa()||go()==="chrome-extension:"||typeof r.connection!="undefined"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Uh(){var r=f.document;return r&&typeof r.visibilityState!="undefined"?r.visibilityState=="visible":!0}function sS(){var r=f.document,s=null;return Uh()||!r?st():new wt(function(a){s=function(){Uh()&&(r.removeEventListener("visibilitychange",s,!1),a())},r.addEventListener("visibilitychange",s,!1)}).o(function(a){throw r.removeEventListener("visibilitychange",s,!1),a})}function Ms(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function Vm(){return!(!Gt("fireauth.oauthhelper",f)&&!Gt("fireauth.iframe",f))}function uS(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function aS(){var r=f.navigator;return r&&r.serviceWorker?st().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):st(null)}var qm={};function Vh(r){qm[r]||(qm[r]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(r))}var qh;try{var Bh={};Object.defineProperty(Bh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Bh,"abcd",{configurable:!0,enumerable:!0,value:2}),qh=Bh.abcd==2}catch{qh=!1}function Z(r,s,a){qh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:a}):r[s]=a}function Me(r,s){if(s)for(var a in s)s.hasOwnProperty(a)&&Z(r,a,s[a])}function Hn(r){var s={};return Me(s,r),s}function cS(r){var s={},a;for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);return s}function lS(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var a=0;a<s.length;a++){var h=r[s[a]];if(h==null||h==="")return!1}return!0}function Kh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var a in r)Z(s,a,Kh(r[a]))}return s}function Hh(r){var s=r&&(r[Wh]?"phone":null);if(s&&r&&r[zh]){Z(this,"uid",r[zh]),Z(this,"displayName",r[Bm]||null);var a=null;r[$h]&&(a=new Date(r[$h]).toUTCString()),Z(this,"enrollmentTime",a),Z(this,"factorId",s)}else throw new _("internal-error","Internal assert: invalid MultiFactorInfo object")}Hh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gh(r){try{var s=new Fs(r)}catch{s=null}return s}var Bm="displayName",$h="enrolledAt",zh="mfaEnrollmentId",Wh="phoneInfo";function Fs(r){Hh.call(this,r),Z(this,"phoneNumber",r[Wh])}z(Fs,Hh),Fs.prototype.w=function(){var r=Fs.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function hS(r){var s={},a=r[fS],h=r[pS],d=r[gS];if(r=Gh(r[dS]),!d||d!=Aa&&d!=js&&!a||d==js&&!h||d==Qh&&!r)throw Error("Invalid checkActionCode response!");d==js?(s[Hm]=a||null,s[Gm]=a||null,s[Km]=h):(s[Hm]=h||null,s[Gm]=h||null,s[Km]=a||null),s[vS]=r||null,Z(this,yS,d),Z(this,mS,Kh(s))}var Qh="REVERT_SECOND_FACTOR_ADDITION",Aa="EMAIL_SIGNIN",js="VERIFY_AND_CHANGE_EMAIL",fS="email",dS="mfaInfo",pS="newEmail",gS="requestType",Km="email",Hm="fromEmail",vS="multiFactorInfo",Gm="previousEmail",mS="data",yS="operation";function Xh(r){r=$e(r);var s=mn(r,$m)||null,a=mn(r,zm)||null,h=mn(r,Wm)||null;if(h=h&&ES[h]||null,!s||!a||!h)throw new _("argument-error",$m+", "+zm+"and "+Wm+" are required in a valid action code URL.");Me(this,{apiKey:s,operation:h,code:a,continueUrl:mn(r,wS)||null,languageCode:mn(r,bS)||null,tenantId:mn(r,IS)||null})}var $m="apiKey",zm="oobCode",wS="continueUrl",bS="languageCode",Wm="mode",IS="tenantId",ES={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Qh,signIn:Aa,verifyAndChangeEmail:js,verifyEmail:"VERIFY_EMAIL"};function Qm(r){try{return new Xh(r)}catch{return null}}function Na(r){var s=r[TS];if(typeof s=="undefined")throw new _("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new _("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var a=r[Xm];if(a&&typeof a=="object"){s=a[ey];var h=a[Zm];if(a=a[ty],typeof s=="string"&&s.length){if(this.a=s,typeof h!="undefined"&&typeof h!="boolean")throw new _("argument-error",Zm+" property must be a boolean when specified.");if(this.g=!!h,typeof a!="undefined"&&(typeof a!="string"||typeof a=="string"&&!a.length))throw new _("argument-error",ty+" property must be a non empty string when specified.");this.b=a||null}else{if(typeof s!="undefined")throw new _("argument-error",ey+" property must be a non empty string when specified.");if(typeof h!="undefined"||typeof a!="undefined")throw new _("missing-android-pkg-name")}}else if(typeof a!="undefined")throw new _("argument-error",Xm+" property must be a non null object when specified.");if(this.f=null,(s=r[Jm])&&typeof s=="object"){if(s=s[ny],typeof s=="string"&&s.length)this.f=s;else if(typeof s!="undefined")throw new _("argument-error",ny+" property must be a non empty string when specified.")}else if(typeof s!="undefined")throw new _("argument-error",Jm+" property must be a non null object when specified.");if(s=r[Yh],typeof s!="undefined"&&typeof s!="boolean")throw new _("argument-error",Yh+" property must be a boolean when specified.");if(this.c=!!s,r=r[Ym],typeof r!="undefined"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new _("argument-error",Ym+" property must be a non empty string when specified.");this.i=r||null}var Xm="android",Ym="dynamicLinkDomain",Yh="handleCodeInApp",Jm="iOS",TS="url",Zm="installApp",ty="minimumVersion",ey="packageName",ny="bundleId";function ka(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var a in s)s[a]===null&&delete s[a];return s}function _S(r){return Cr(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Us=null;function SS(r){var s=[];return AS(r,function(a){s.push(a)}),s}function AS(r,s){function a(C){for(;h<r.length;){var L=r.charAt(h++),ft=Us[L];if(ft!=null)return ft;if(!/^[\s\xa0]*$/.test(L))throw Error("Unknown base64 encoding at char: "+L)}return C}NS();for(var h=0;;){var d=a(-1),v=a(0),m=a(64),b=a(64);if(b===64&&d===-1)break;s(d<<2|v>>4),m!=64&&(s(v<<4&240|m>>2),b!=64&&s(m<<6&192|b))}}function NS(){if(!Us){Us={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],a=0;5>a;a++)for(var h=r.concat(s[a].split("")),d=0;d<h.length;d++){var v=h[d];Us[v]===void 0&&(Us[v]=d)}}}function Ca(r){var s=ry(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Ca.prototype.T=function(){return this.f},Ca.prototype.l=function(){return this.c},Ca.prototype.toString=function(){return this.h};function Da(r){try{return new Ca(r)}catch{return null}}function ry(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,a=0;a<s;a++)r+=".";try{var h=SS(r);for(r=[],a=s=0;s<h.length;){var d=h[s++];if(128>d)r[a++]=String.fromCharCode(d);else if(191<d&&224>d){var v=h[s++];r[a++]=String.fromCharCode((d&31)<<6|v&63)}else if(239<d&&365>d){v=h[s++];var m=h[s++],b=h[s++],C=((d&7)<<18|(v&63)<<12|(m&63)<<6|b&63)-65536;r[a++]=String.fromCharCode(55296+(C>>10)),r[a++]=String.fromCharCode(56320+(C&1023))}else v=h[s++],m=h[s++],r[a++]=String.fromCharCode((d&15)<<12|(v&63)<<6|m&63)}return JSON.parse(r.join(""))}catch{}return null}var iy="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),xa=["client_id","response_type","scope","redirect_uri","state"],Jh={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:xa},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:xa},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:xa},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:iy},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zh(r){for(var s in Jh)if(Jh[s].fa==r)return Jh[s];return null}function oy(r){var s={};s["facebook.com"]=uy,s["google.com"]=cy,s["github.com"]=ay,s["twitter.com"]=ly;var a=r&&r[sy];try{if(a)return s[a]?new s[a](r):new Gn(r);if(typeof r[tf]!="undefined")return new ef(r)}catch{}return null}var tf="idToken",sy="providerId";function ef(r){var s=r[sy];if(!s&&r[tf]){var a=Da(r[tf]);a&&a.b&&(s=a.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),a=!1,typeof r.isNewUser!="undefined"?a=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(a=!0),Z(this,"providerId",s),Z(this,"isNewUser",a)}function Gn(r){ef.call(this,r),r=vo(r.rawUserInfo||"{}"),Z(this,"profile",Kh(r||{}))}z(Gn,ef);function uy(r){if(Gn.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(uy,Gn);function ay(r){if(Gn.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");Z(this,"username",this.profile&&this.profile.login||null)}z(ay,Gn);function cy(r){if(Gn.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(cy,Gn);function ly(r){if(Gn.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Z(this,"username",r.screenName||null)}z(ly,Gn);function hy(r){var s=$e(r),a=mn(s,"link"),h=mn($e(a),"link");return s=mn(s,"deep_link_id"),mn($e(s),"link")||s||h||a||r}function Oa(r,s){if(!r&&!s)throw new _("internal-error","Internal assert: no raw session string available");if(r&&s)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Vs:Ra}var Vs="enroll",Ra="signin";Oa.prototype.Ha=function(){return this.a?st(this.a):st(this.b)},Oa.prototype.w=function(){return this.type==Vs?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function mo(){}mo.prototype.ka=function(){},mo.prototype.b=function(){},mo.prototype.c=function(){},mo.prototype.w=function(){};function yo(r,s){return r.then(function(a){if(a[xn]){var h=Da(a[xn]);if(!h||s!=h.i)throw new _("user-mismatch");return a}throw new _("user-mismatch")}).o(function(a){throw a&&a.code&&a.code==ye+"user-not-found"?new _("user-mismatch"):a})}function vi(r,s){if(s)this.a=s;else throw new _("internal-error","failed to construct a credential");Z(this,"providerId",r),Z(this,"signInMethod",r)}vi.prototype.ka=function(r){return Af(r,nf(this))},vi.prototype.b=function(r,s){var a=nf(this);return a.idToken=s,Nf(r,a)},vi.prototype.c=function(r,s){return yo(kf(r,nf(this)),s)};function nf(r){return{pendingToken:r.a,requestUri:"http://localhost"}}vi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function kS(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new vi(r.providerId,r.pendingToken)}catch{}return null}function hr(r,s,a){if(this.a=null,s.idToken||s.accessToken)s.idToken&&Z(this,"idToken",s.idToken),s.accessToken&&Z(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&Z(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)Z(this,"accessToken",s.oauthToken),Z(this,"secret",s.oauthTokenSecret);else throw new _("internal-error","failed to construct a credential");Z(this,"providerId",r),Z(this,"signInMethod",a)}hr.prototype.ka=function(r){return Af(r,rf(this))},hr.prototype.b=function(r,s){var a=rf(this);return a.idToken=s,Nf(r,a)},hr.prototype.c=function(r,s){var a=rf(this);return yo(kf(r,a),s)};function rf(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:_m(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}hr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function CS(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new hr(r.providerId,s,r.signInMethod)}catch{}}return null}function mi(r,s){this.Qc=s||[],Me(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Zh(r)||{}).Ja||null,this.pb=null}mi.prototype.Ka=function(r){return this.Jb=An(r),this};function fy(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');mi.call(this,r,[])}z(fy,mi);function rn(r){mi.call(this,r,xa),this.a=[]}z(rn,mi),rn.prototype.Ca=function(r){return S(this.a,r)||this.a.push(r),this},rn.prototype.Rb=function(){return V(this.a)},rn.prototype.credential=function(r,s){var a;if(N(r)?a={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:a={idToken:r||null,accessToken:s||null},!a.idToken&&!a.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new hr(this.providerId,a,this.providerId)};function yi(){rn.call(this,"facebook.com")}z(yi,rn),Z(yi,"PROVIDER_ID","facebook.com"),Z(yi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function dy(r){if(!r)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new yi().credential({accessToken:s})}function wi(){rn.call(this,"github.com")}z(wi,rn),Z(wi,"PROVIDER_ID","github.com"),Z(wi,"GITHUB_SIGN_IN_METHOD","github.com");function py(r){if(!r)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new wi().credential({accessToken:s})}function bi(){rn.call(this,"google.com"),this.Ca("profile")}z(bi,rn),Z(bi,"PROVIDER_ID","google.com"),Z(bi,"GOOGLE_SIGN_IN_METHOD","google.com");function gy(r,s){var a=r;return N(r)&&(a=r.idToken,s=r.accessToken),new bi().credential({idToken:a,accessToken:s})}function wo(){mi.call(this,"twitter.com",iy)}z(wo,mi),Z(wo,"PROVIDER_ID","twitter.com"),Z(wo,"TWITTER_SIGN_IN_METHOD","twitter.com");function vy(r,s){var a=r;if(N(a)||(a={oauthToken:r,oauthTokenSecret:s}),!a.oauthToken||!a.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new hr("twitter.com",a,"twitter.com")}function Pr(r,s,a){this.a=r,this.f=s,Z(this,"providerId","password"),Z(this,"signInMethod",a===yn.EMAIL_LINK_SIGN_IN_METHOD?yn.EMAIL_LINK_SIGN_IN_METHOD:yn.EMAIL_PASSWORD_SIGN_IN_METHOD)}Pr.prototype.ka=function(r){return this.signInMethod==yn.EMAIL_LINK_SIGN_IN_METHOD?bt(r,dA,{email:this.a,oobCode:this.f}):bt(r,Hy,{email:this.a,password:this.f})},Pr.prototype.b=function(r,s){return this.signInMethod==yn.EMAIL_LINK_SIGN_IN_METHOD?bt(r,pA,{idToken:s,email:this.a,oobCode:this.f}):bt(r,Ky,{idToken:s,email:this.a,password:this.f})},Pr.prototype.c=function(r,s){return yo(this.ka(r),s)},Pr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function DS(r){return r&&r.email&&r.password?new Pr(r.email,r.password,r.signInMethod):null}function yn(){Me(this,{providerId:"password",isOAuthProvider:!1})}function my(r,s){if(s=of(s),!s)throw new _("argument-error","Invalid email link!");return new Pr(r,s.code,yn.EMAIL_LINK_SIGN_IN_METHOD)}function of(r){return r=hy(r),(r=Qm(r))&&r.operation===Aa?r:null}Me(yn,{PROVIDER_ID:"password"}),Me(yn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Me(yn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Lr(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new _("internal-error");this.a=r,Z(this,"providerId","phone"),this.fa="phone",Z(this,"signInMethod","phone")}Lr.prototype.ka=function(r){return r.gb(qs(this))},Lr.prototype.b=function(r,s){var a=qs(this);return a.idToken=s,bt(r,PA,a)},Lr.prototype.c=function(r,s){var a=qs(this);return a.operation="REAUTH",r=bt(r,LA,a),yo(r,s)},Lr.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function xS(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return Lt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(a){r[a]&&(s[a]=r[a])}),new Lr(s)}return null}function qs(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function fr(r){try{this.a=r||ct.auth()}catch{throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Me(this,{providerId:"phone",isOAuthProvider:!1})}fr.prototype.gb=function(r,s){var a=this.a.a;return st(s.verify()).then(function(h){if(typeof h!="string")throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var d=N(r)?r.session:null,v=N(r)?r.phoneNumber:r,m;return d&&d.type==Vs?m=d.Ha().then(function(b){return iA(a,{idToken:b,phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:h}})}):d&&d.type==Ra?m=d.Ha().then(function(b){return oA(a,{mfaPendingCredential:b,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):m=rA(a,{phoneNumber:v,recaptchaToken:h}),m.then(function(b){return typeof s.reset=="function"&&s.reset(),b},function(b){throw typeof s.reset=="function"&&s.reset(),b});default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function yy(r,s){if(!r)throw new _("missing-verification-id");if(!s)throw new _("missing-verification-code");return new Lr({fb:r,eb:s})}Me(fr,{PROVIDER_ID:"phone"}),Me(fr,{PHONE_SIGN_IN_METHOD:"phone"});function sf(r){if(r.temporaryProof&&r.phoneNumber)return new Lr({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var a=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,d=r&&r.nonce,v=r&&r.oauthIdToken,m=r&&r.pendingToken;try{switch(s){case"google.com":return gy(v,a);case"facebook.com":return dy(a);case"github.com":return py(a);case"twitter.com":return vy(a,h);default:return a||h||v||m?m?s.indexOf("saml.")==0?new vi(s,m):new hr(s,{pendingToken:m,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new rn(s).credential({idToken:v,accessToken:a,rawNonce:d}):null}}catch{return null}}function uf(r){if(!r.isOAuthProvider)throw new _("invalid-oauth-provider")}function Cn(r,s,a,h,d,v,m){if(this.c=r,this.b=s||null,this.g=a||null,this.f=h||null,this.i=v||null,this.h=m||null,this.a=d||null,this.g||this.a){if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}else throw new _("invalid-auth-event")}Cn.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},Cn.prototype.T=function(){return this.h},Cn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function wy(r){return r=r||{},r.type?new Cn(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&ee(r.error),r.postBody,r.tenantId):null}function OS(){this.b=null,this.a=[]}var af=null;function RS(r){var s=af;s.a.push(r),s.b||(s.b=function(a){for(var h=0;h<s.a.length;h++)s.a[h](a)},r=Gt("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function cf(r){var s="unauthorized-domain",a=void 0,h=$e(r);r=h.a,h=h.c,h=="chrome-extension"?a=Kv("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?a=Kv("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",_.call(this,s,a)}z(cf,_);function Bs(r,s,a){_.call(this,r,a),r=s||{},r.Kb&&Z(this,"email",r.Kb),r.ea&&Z(this,"phoneNumber",r.ea),r.credential&&Z(this,"credential",r.credential),r.$b&&Z(this,"tenantId",r.$b)}z(Bs,_),Bs.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Bt(r,s),r},Bs.prototype.toJSON=function(){return this.w()};function Pa(r){if(r.code){var s=r.code||"";s.indexOf(ye)==0&&(s=s.substring(ye.length));var a={credential:sf(r),$b:r.tenantId};if(r.email)a.Kb=r.email;else if(r.phoneNumber)a.ea=r.phoneNumber;else if(!a.credential)return new _(s,r.message||void 0);return new Bs(s,a,r.message)}return null}function Ks(){}Ks.prototype.c=null;function by(r){return r.c||(r.c=r.b())}var lf;function La(){}z(La,Ks),La.prototype.a=function(){var r=Iy(this);return r?new ActiveXObject(r):new XMLHttpRequest},La.prototype.b=function(){var r={};return Iy(this)&&(r[0]=!0,r[1]=!0),r};function Iy(r){if(!r.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a=0;a<s.length;a++){var h=s[a];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}lf=new La;function Ma(){}z(Ma,Ks),Ma.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest!="undefined")return new Ey;throw Error("Unsupported browser")},Ma.prototype.b=function(){return{}};function Ey(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=K(this.qc,this),this.a.onerror=K(this.Tb,this),this.a.onprogress=K(this.rc,this),this.a.ontimeout=K(this.vc,this)}t=Ey.prototype,t.open=function(r,s,a){if(a!=null&&!a)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,hf(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",hf(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,hf(this,1)};function hf(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ff(r,s,a){this.reset(r,s,a,void 0,void 0)}ff.prototype.a=null,ff.prototype.reset=function(r,s,a,h,d){delete this.a};function df(r){this.f=r,this.b=this.c=this.a=null}function Hs(r,s){this.name=r,this.value=s}Hs.prototype.toString=function(){return this.name};var Ty=new Hs("SEVERE",1e3),pf=new Hs("WARNING",900),PS=new Hs("CONFIG",700),LS=new Hs("FINE",500);function _y(r){return r.c?r.c:r.a?_y(r.a):(Vn("Root logger has no level set."),null)}df.prototype.log=function(r,s,a){if(r.value>=_y(this).value)for(A(s)&&(s=s()),r=new ff(r,String(s),this.f),a&&(r.a=a),a=this;a;)a=a.a};var gf={},Fa=null;function vf(r){Fa||(Fa=new df(""),gf[""]=Fa,Fa.c=PS);var s;if(!(s=gf[r])){s=new df(r);var a=r.lastIndexOf("."),h=r.substr(a+1);a=vf(r.substr(0,a)),a.b||(a.b={}),a.b[h]=s,s.a=a,gf[r]=s}return s}function wn(r,s){r&&r.log(LS,s,void 0)}function ja(r){this.f=r}z(ja,Ks),ja.prototype.a=function(){return new Ua(this.f)},ja.prototype.b=function(r){return function(){return r}}({});function Ua(r){Le.call(this),this.u=r,this.h=void 0,this.readyState=mf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=vf("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}z(Ua,Le);var mf=0;t=Ua.prototype,t.open=function(r,s){if(this.readyState!=mf)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,$s(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Gs(this)),this.readyState=mf},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,$s(this)),this.a&&(this.readyState=3,$s(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream!="undefined"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Sy(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Sy(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Gs(this):$s(this),this.readyState==3&&Sy(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Gs(this))},t.sc=function(r){this.a&&(this.response=r,Gs(this))},t.Va=function(r){var s=this.i;s&&s.log(pf,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Gs(this)};function Gs(r){r.readyState=4,r.g=null,r.c=null,r.m=null,$s(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(pf,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(pf,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),a=s.next();!a.done;)a=a.value,r.push(a[0]+": "+a[1]),a=s.next();return r.join(`\r
`)};function $s(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function zs(r){Le.call(this),this.headers=new lo,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ay,this.u=this.S=!1}z(zs,Le);var Ay="";zs.prototype.b=vf("goog.net.XhrIo");var MS=/^https?$/i,FS=["POST","PUT"];function jS(r,s,a,h,d){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);a=a?a.toUpperCase():"GET",r.l=s,r.h="",r.P=a,r.J=!1,r.c=!0,r.a=r.D?r.D.a():lf.a(),r.C=r.D?by(r.D):by(lf),r.a.onreadystatechange=K(r.Wb,r);try{wn(r.b,dr(r,"Opening Xhr")),r.N=!0,r.a.open(a,String(s),!0),r.N=!1}catch(m){wn(r.b,dr(r,"Error opening Xhr: "+m.message)),Ny(r,m);return}s=h||"";var v=new lo(r.headers);d&&H1(d,function(m,b){v.set(b,m)}),d=E(v.Y()),h=f.FormData&&s instanceof f.FormData,!S(FS,a)||d||h||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),v.forEach(function(m,b){this.a.setRequestHeader(b,m)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Dy(r),0<r.g&&(r.u=US(r.a),wn(r.b,dr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=K(r.Ma,r)):r.s=Ch(r.Ma,r.g,r)),wn(r.b,dr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(m){wn(r.b,dr(r,"Send error: "+m.message)),Ny(r,m)}}function US(r){return Nn&&zv(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function VS(r){return r.toLowerCase()=="content-type"}t=zs.prototype,t.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",wn(this.b,dr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Ny(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,ky(r),Va(r)}function ky(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(wn(this.b,dr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Va(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Va(this,!0)),zs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Cy(this):this.Jc())},t.Jc=function(){Cy(this)};function Cy(r){if(r.c&&typeof l!="undefined"){if(r.C[1]&&Ws(r)==4&&qa(r)==2)wn(r.b,dr(r,"Local request error detected and ignored"));else if(r.i&&Ws(r)==4)Ch(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Ws(r)==4){wn(r.b,dr(r,"Request complete")),r.c=!1;try{var s=qa(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}var h;if(!(h=a)){var d;if(d=s===0){var v=String(r.l).match(Em)[1]||null;if(!v&&f.self&&f.self.location){var m=f.self.location.protocol;v=m.substr(0,m.length-1)}d=!MS.test(v?v.toLowerCase():"")}h=d}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var b=2<Ws(r)?r.a.statusText:""}catch(C){wn(r.b,"Can not get status: "+C.message),b=""}r.h=b+" ["+qa(r)+"]",ky(r)}}finally{Va(r)}}}}function Va(r,s){if(r.a){Dy(r);var a=r.a,h=r.C[0]?w:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{a.onreadystatechange=h}catch(d){(r=r.b)&&r.log(Ty,"Problem encountered resetting onreadystatechange: "+d.message,void 0)}}}function Dy(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Ws(r){return r.a?r.a.readyState:0}function qa(r){try{return 2<Ws(r)?r.a.status:-1}catch{return-1}}function qS(r){try{return r.a?r.a.responseText:""}catch(s){return wn(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ay:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Ty,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return wn(this.b,"Can not get response: "+s.message),null}};function dr(r,s){return s+" ["+r.P+" "+r.l+" "+qa(r)+"]"}function Ii(r){var s=HS;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ii.prototype.cancel=function(r){if(this.a)this.c instanceof Ii&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Xs(this),Ba(this),Qs(this,!1,r))}},Ii.prototype.m=function(r,s){this.i=!1,Qs(this,r,s)};function Qs(r,s,a){r.a=!0,r.c=a,r.f=!s,Oy(r)}function Ba(r){if(r.a){if(!r.v)throw new Ka(r);r.v=!1}}function BS(r,s){yf(r,null,s,void 0)}function yf(r,s,a,h){r.g.push([s,a,h]),r.a&&Oy(r)}Ii.prototype.then=function(r,s,a){var h,d,v=new wt(function(m,b){h=m,d=b});return yf(this,h,function(m){m instanceof Xs?v.cancel():d(m)}),v.then(r,s,a)},Ii.prototype.$goog_Thenable=!0;function xy(r){return Es(r.g,function(s){return A(s[1])})}function Oy(r){if(r.h&&r.a&&xy(r)){var s=r.h,a=Ha[s];a&&(f.clearTimeout(a.a),delete Ha[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=a=!1;r.g.length&&!r.i;){var d=r.g.shift(),v=d[0],m=d[1];if(d=d[2],v=r.f?m:v)try{var b=v.call(d||r.s,s);b!==void 0&&(r.f=r.f&&(b==s||b instanceof Error),r.c=s=b),(qt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(C){s=C,r.f=!0,xy(r)||(a=!0)}}r.c=s,h&&(b=K(r.m,r,!0),h=K(r.m,r,!1),s instanceof Ii?(yf(s,b,h),s.C=!0):s.then(b,h)),a&&(s=new Ry(s),Ha[s.a]=s,r.h=s.a)}function Ka(){mt.call(this)}z(Ka,mt),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError";function Xs(){mt.call(this)}z(Xs,mt),Xs.prototype.message="Deferred was canceled",Xs.prototype.name="CanceledError";function Ry(r){this.a=f.setTimeout(K(this.c,this),0),this.b=r}Ry.prototype.c=function(){throw delete Ha[this.a],this.b};var Ha={};function wf(r){var s={},a=s.document||document,h=Lv(r).toString(),d=ga(document,"SCRIPT"),v={Xb:d,Ma:void 0},m=new Ii(v),b=null,C=s.timeout!=null?s.timeout:5e3;return 0<C&&(b=window.setTimeout(function(){Ga(d,!0);var L=new bf($S,"Timeout reached for loading script "+h);Ba(m),Qs(m,!1,L)},C),v.Ma=b),d.onload=d.onreadystatechange=function(){d.readyState&&d.readyState!="loaded"&&d.readyState!="complete"||(Ga(d,s.xd||!1,b),Ba(m),Qs(m,!0,null))},d.onerror=function(){Ga(d,!0,b);var L=new bf(GS,"Error while loading script "+h);Ba(m),Qs(m,!1,L)},v=s.attributes||{},Bt(v,{type:"text/javascript",charset:"UTF-8"}),Qv(d,v),I1(d,r),KS(a).appendChild(d),m}function KS(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function HS(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&Ga(r,!0,this.Ma)}}function Ga(r,s,a){a!=null&&f.clearTimeout(a),r.onload=w,r.onerror=w,r.onreadystatechange=w,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var GS=0,$S=1;function bf(r,s){var a="Jsloader error (code #"+r+")";s&&(a+=": "+s),mt.call(this,a),this.code=r}z(bf,mt);function $a(r){this.f=r}z($a,Ks),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};function Dn(r,s,a){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||zS,this.g=An(r.secureTokenHeaders||WS),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||QS,this.a=An(r.firebaseHeaders||XS),a&&(this.a["X-Client-Version"]=a,this.g["X-Client-Version"]=a),a=Kn()=="Node",a=f.XMLHttpRequest||a&&ct.INTERNAL.node&&ct.INTERNAL.node.XMLHttpRequest,!a&&!kn())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,kn()?this.f=new ja(self):Pm()?this.f=new $a(a):this.f=new Ma,this.b=null}var If,xn="idToken",zS=new Rr(3e4,6e4),WS={"Content-Type":"application/x-www-form-urlencoded"},QS=new Rr(3e4,6e4),XS={"Content-Type":"application/json"};function Py(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function za(r,s){s&&(r.l=Ef("https://securetoken.googleapis.com/v1/token",s),r.h=Ef("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Ef("https://identitytoolkit.googleapis.com/v2/",s))}function Ef(r,s){return r=$e(r),s=$e(s.url),r.f=r.a+r.f,Cs(r,s.c),r.a=s.a,Ds(r,s.g),r.toString()}function Ly(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}Dn.prototype.T=function(){return this.b};function My(r,s,a,h,d,v,m){tS()||kn()?r=K(r.u,r):(If||(If=new wt(function(b,C){JS(b,C)})),r=K(r.s,r)),r(s,a,h,d,v,m)}Dn.prototype.u=function(r,s,a,h,d,v){if(kn()&&(typeof f.fetch=="undefined"||typeof f.Headers=="undefined"||typeof f.Request=="undefined"))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var m=new zs(this.f);if(v){m.g=Math.max(0,v);var b=setTimeout(function(){m.dispatchEvent("timeout")},v)}wm(m,"complete",function(){b&&clearTimeout(b);var C=null;try{C=JSON.parse(qS(this))||null}catch{C=null}s&&s(C)}),kh(m,"ready",function(){b&&clearTimeout(b),fm(this)}),kh(m,"timeout",function(){b&&clearTimeout(b),fm(this),s&&s(null)}),jS(m,r,a,h,d)};var YS=new qn(ha,"https://apis.google.com/js/client.js?onload=%{onload}"),Fy="__fcb"+Math.floor(1e6*Math.random()).toString();function JS(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[Fy]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var a=lh(YS,{onload:Fy});BS(wf(a),function(){s(Error("CORS_UNSUPPORTED"))})}}Dn.prototype.s=function(r,s,a,h,d){var v=this;If.then(function(){window.gapi.client.setApiKey(v.c);var m=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:a,body:h,headers:d,authType:"none",callback:function(b){window.gapi.auth.setToken(m),s&&s(b)}})}).o(function(m){s&&s({error:{message:m&&m.message||"CORS_UNSUPPORTED"}})})};function ZS(r,s){return new wt(function(a,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?My(r,r.l+"?key="+encodeURIComponent(r.c),function(d){d?d.error?h(Df(d)):d.access_token&&d.refresh_token?a(d):h(new _("internal-error")):h(new _("network-request-failed"))},"POST",_m(s).toString(),r.g,r.m.get()):h(new _("internal-error"))})}function jy(r,s,a,h,d,v,m){var b=$e(s+a);Jt(b,"key",r.c),m&&Jt(b,"cb",Date.now().toString());var C=h=="GET";if(C)for(var L in d)d.hasOwnProperty(L)&&Jt(b,L,d[L]);return new wt(function(ft,Pt){My(r,b.toString(),function(kt){kt?kt.error?Pt(Df(kt,v||{})):ft(kt):Pt(new _("network-request-failed"))},h,C?void 0:Nm(Fm(d)),r.a,r.v.get())})}function Ei(r){if(r=r.email,typeof r!="string"||!rS.test(r))throw new _("invalid-email")}function Uy(r){"email"in r&&Ei(r)}function tA(r,s){return bt(r,lA,{identifier:s,continueUri:Sa()?Rs():"http://localhost"}).then(function(a){return a.signinMethods||[]})}function eA(r){return bt(r,EA,{}).then(function(s){return s.authorizedDomains||[]})}function ze(r){if(!r[xn])throw r.mfaPendingCredential?new _("multi-factor-auth-required",null,An(r)):new _("internal-error")}function Tf(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new _("internal-error")}else{if(!r.sessionInfo)throw new _("missing-verification-id");if(!r.code)throw new _("missing-verification-code")}}Dn.prototype.Ab=function(){return bt(this,AA,{})},Dn.prototype.Cb=function(r,s){return bt(this,By,{idToken:r,email:s})},Dn.prototype.Db=function(r,s){return bt(this,Ky,{idToken:r,password:s})};var nA={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Dn.prototype,t.Eb=function(r,s){var a={idToken:r},h=[];return Ts(nA,function(d,v){var m=s[v];m===null?h.push(d):v in s&&(a[v]=m)}),h.length&&(a.deleteAttribute=h),bt(this,By,a)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Bt(r,s),bt(this,IA,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Bt(r,s),bt(this,yA,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Bt(r,s),bt(this,wA,r)},t.Fb=function(r,s,a){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Bt(r,a),bt(this,bA,r)};function rA(r,s){return bt(r,SA,s)}t.gb=function(r){return bt(this,RA,r)};function iA(r,s){return bt(r,NA,s).then(function(a){return a.phoneSessionInfo.sessionInfo})}function Vy(r){if(!r.phoneVerificationInfo)throw new _("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new _("missing-verification-code")}function oA(r,s){return bt(r,kA,s).then(function(a){return a.phoneResponseInfo.sessionInfo})}function sA(r,s,a){return bt(r,fA,{idToken:s,deleteProvider:a})}function _f(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new _("internal-error")}function Sf(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new fi(r.postBody),Oh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function qy(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Pa(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Pa(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Pa(r)):r.errorMessage&&(s=Gy(r.errorMessage)),s)throw s;ze(r)}function Af(r,s){return s.returnIdpCredential=!0,bt(r,CA,s)}function Nf(r,s){return s.returnIdpCredential=!0,bt(r,xA,s)}function kf(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,bt(r,DA,s)}function Cf(r){if(!r.oobCode)throw new _("invalid-action-code")}t.ob=function(r,s){return bt(this,_A,{oobCode:r,newPassword:s})},t.Sa=function(r){return bt(this,aA,{oobCode:r})},t.kb=function(r){return bt(this,uA,{oobCode:r})};var uA={endpoint:"setAccountInfo",A:Cf,Z:"email",B:!0},aA={endpoint:"resetPassword",A:Cf,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new _("internal-error")},B:!0},cA={endpoint:"signupNewUser",A:function(r){if(Ei(r),!r.password)throw new _("weak-password")},G:ze,V:!0,B:!0},lA={endpoint:"createAuthUri",B:!0},hA={endpoint:"deleteAccount",O:["idToken"]},fA={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new _("internal-error")}},dA={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ei,G:ze,V:!0,B:!0},pA={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ei,G:ze,V:!0},gA={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Vy,G:ze,B:!0,Na:!0},vA={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Vy,G:ze,B:!0,Na:!0},mA={endpoint:"getAccountInfo"},yA={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new _("internal-error");Ei(r)},Z:"email",B:!0},wA={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new _("internal-error")},Z:"email",B:!0},bA={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new _("internal-error")},Z:"email",B:!0},IA={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new _("internal-error");Ei(r)},Z:"email",B:!0},EA={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},TA={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new _("internal-error")}},_A={endpoint:"resetPassword",A:Cf,Z:"email",B:!0},SA={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},By={endpoint:"setAccountInfo",O:["idToken"],A:Uy,V:!0},Ky={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(Uy(r),!r.password)throw new _("weak-password")},G:ze,V:!0},AA={endpoint:"signupNewUser",G:ze,V:!0,B:!0},NA={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new _("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new _("internal-error")},B:!0,Na:!0},kA={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new _("internal-error")},B:!0,Na:!0},CA={endpoint:"verifyAssertion",A:_f,Za:Sf,G:qy,V:!0,B:!0},DA={endpoint:"verifyAssertion",A:_f,Za:Sf,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new _("user-not-found");if(r.errorMessage)throw Gy(r.errorMessage);ze(r)},V:!0,B:!0},xA={endpoint:"verifyAssertion",A:function(r){if(_f(r),!r.idToken)throw new _("internal-error")},Za:Sf,G:qy,V:!0},OA={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new _("invalid-custom-token")},G:ze,V:!0,B:!0},Hy={endpoint:"verifyPassword",A:function(r){if(Ei(r),!r.password)throw new _("wrong-password")},G:ze,V:!0,B:!0},RA={endpoint:"verifyPhoneNumber",A:Tf,G:ze,B:!0},PA={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new _("internal-error");Tf(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Pa(r);ze(r)}},LA={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Tf,G:ze,B:!0},MA={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[xn]^!!r.refreshToken)throw new _("internal-error")},B:!0,Na:!0};function bt(r,s,a){if(!lS(a,s.O))return Ht(new _("internal-error"));var h=!!s.Na,d=s.Vb||"POST",v;return st(a).then(s.A).then(function(){return s.V&&(a.returnSecureToken=!0),s.B&&r.b&&typeof a.tenantId=="undefined"&&(a.tenantId=r.b),h?jy(r,r.i,s.endpoint,d,a,s.Ib,s.mb||!1):jy(r,r.h,s.endpoint,d,a,s.Ib,s.mb||!1)}).then(function(m){return v=m,s.Za?s.Za(a,v):v}).then(s.G).then(function(){if(!s.Z)return v;if(!(s.Z in v))throw new _("internal-error");return v[s.Z]})}function Gy(r){return Df({error:{errors:[{message:r}],code:400,message:r}})}function Df(r,s){var a=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(a=h[a]?new _(h[a]):null)return a;a=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Bt(h,s||{}),s=(s=a.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var d in h)if(a.indexOf(d)===0)return new _(h[d],s);return!s&&r&&(s=Ls(r)),new _("internal-error",s)}function FA(r){this.b=r,this.a=null,this.sb=jA(this)}function jA(r){return HA().then(function(){return new wt(function(s,a){Gt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:Gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function d(){clearTimeout(v),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var v=setTimeout(function(){a(Error("Network Error"))},KA.get());h.ping(d).then(d,function(){a(Error("Network Error"))})})})})}function UA(r,s){return r.sb.then(function(){return new wt(function(a){r.a.send(s.type,s,a,Gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function VA(r,s){r.sb.then(function(){r.a.register("authEvent",s,Gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var qA=new qn(ha,"https://apis.google.com/js/api.js?onload=%{onload}"),BA=new Rr(3e4,6e4),KA=new Rr(5e3,15e3),Wa=null;function HA(){return Wa||(Wa=new wt(function(r,s){function a(){Um(),Gt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Um(),s(Error("Network Error"))},timeout:BA.get()})}if(Gt("gapi.iframes.Iframe"))r();else if(Gt("gapi.load"))a();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){Gt("gapi.load")?a():s(Error("Network Error"))},h=lh(qA,{onload:h}),st(wf(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw Wa=null,r}))}function $y(r,s,a,h){this.l=r,this.h=s,this.i=a,this.g=h,this.f=null,this.g?(r=$e(this.g.url),r=Ta(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Ta("https",this.l,null,"/__/auth/iframe"),this.a=r,Jt(this.a,"apiKey",this.h),Jt(this.a,"appName",this.i),this.b=null,this.c=[]}$y.prototype.toString=function(){return this.f?Jt(this.a,"v",this.f):Bn(this.a.b,"v"),this.b?Jt(this.a,"eid",this.b):Bn(this.a.b,"eid"),this.c.length?Jt(this.a,"fw",this.c.join(",")):Bn(this.a.b,"fw"),this.a.toString()};function xf(r,s,a,h,d,v){this.u=r,this.s=s,this.c=a,this.m=h,this.v=v,this.i=this.g=this.l=null,this.a=d,this.h=this.f=null}xf.prototype.zb=function(r){return this.h=r,this},xf.prototype.toString=function(){if(this.v){var r=$e(this.v.url);r=Ta(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Ta("https",this.u,null,"/__/auth/handler");if(Jt(r,"apiKey",this.s),Jt(r,"appName",this.c),Jt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var a=ct.app(this.c).auth().la()}catch{a=null}s.pb=a,Jt(r,"providerId",this.a.providerId),a=this.a,s=Fm(a.Jb);for(var h in s)s[h]=s[h].toString();h=a.Qc,s=An(s);for(var d=0;d<h.length;d++){var v=h[d];v in s&&delete s[v]}a.qb&&a.pb&&!s[a.qb]&&(s[a.qb]=a.pb),en(s)||Jt(r,"customParameters",Ls(s))}if(typeof this.a.Rb=="function"&&(a=this.a.Rb(),a.length&&Jt(r,"scopes",a.join(","))),this.l?Jt(r,"redirectUrl",this.l):Bn(r.b,"redirectUrl"),this.g?Jt(r,"eventId",this.g):Bn(r.b,"eventId"),this.i?Jt(r,"v",this.i):Bn(r.b,"v"),this.b)for(var m in this.b)this.b.hasOwnProperty(m)&&!mn(r,m)&&Jt(r,m,this.b[m]);return this.h?Jt(r,"tid",this.h):Bn(r.b,"tid"),this.f?Jt(r,"eid",this.f):Bn(r.b,"eid"),m=Of(this.c),m.length&&Jt(r,"fw",m.join(",")),r.toString()};function Of(r){try{return ct.app(r).auth().Ga()}catch{return[]}}function zy(r,s,a,h,d,v){this.s=r,this.g=s,this.b=a,this.f=v,this.c=h||null,this.i=d||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Wy(r){var s=Rs();return eA(r).then(function(a){t:{var h=$e(s),d=h.c;h=h.a;for(var v=0;v<a.length;v++){var m=a[v],b=h,C=d;if(m.indexOf("chrome-extension://")==0?b=$e(m).a==b&&C=="chrome-extension":C!="http"&&C!="https"?b=!1:nS.test(m)?b=b==m:(m=m.split(".").join("\\."),b=new RegExp("^(.+\\."+m+"|"+m+")$","i").test(b)),b){a=!0;break t}}a=!1}if(!a)throw new cf(Rs())})}function Qy(r){return r.m||(r.m=_a().then(function(){if(!r.u){var s=r.c,a=r.i,h=Of(r.b),d=new $y(r.s,r.g,r.b,r.f);d.f=s,d.b=a,d.c=V(h||[]),r.u=d.toString()}r.v=new FA(r.u),GA(r)})),r.m}t=zy.prototype,t.Pb=function(r,s,a){var h=new _("popup-closed-by-user"),d=new _("web-storage-unsupported"),v=this,m=!1;return this.ma().then(function(){$A(v).then(function(b){b||(r&&di(r),s(d),m=!0)})}).o(function(){}).then(function(){if(!m)return eS(r)}).then(function(){if(!m)return co(a).then(function(){s(h)})})},t.Yb=function(){var r=we();return!Ps(r)&&!jm(r)},t.Ub=function(){return!1},t.Nb=function(r,s,a,h,d,v,m,b){if(!r)return Ht(new _("popup-blocked"));if(m&&!Ps())return this.ma().o(function(L){di(r),d(L)}),h(),st();this.a||(this.a=Wy(Xy(this)));var C=this;return this.a.then(function(){var L=C.ma().o(function(ft){throw di(r),d(ft),ft});return h(),L}).then(function(){if(uf(a),!m){var L=Ys(C.s,C.g,C.b,s,a,null,v,C.c,void 0,C.i,b,C.f);Dm(L,r)}}).o(function(L){throw L.code=="auth/network-request-failed"&&(C.a=null),L})};function Xy(r){return r.l||(r.C=r.c?po(r.c,Of(r.b)):null,r.l=new Dn(r.g,ur(r.i),r.C),r.f&&za(r.l,r.f)),r.l}t.Ob=function(r,s,a,h){this.a||(this.a=Wy(Xy(this)));var d=this;return this.a.then(function(){uf(s);var v=Ys(d.s,d.g,d.b,r,s,Rs(),a,d.c,void 0,d.i,h,d.f);Dm(v)}).o(function(v){throw v.code=="auth/network-request-failed"&&(d.a=null),v})},t.ma=function(){var r=this;return Qy(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new _("network-request-failed")})},t.ac=function(){return!0};function Ys(r,s,a,h,d,v,m,b,C,L,ft,Pt){return r=new xf(r,s,a,h,d,Pt),r.l=v,r.g=m,r.i=b,r.b=An(C||null),r.f=L,r.zb(ft).toString()}function GA(r){if(!r.v)throw Error("IfcHandler must be initialized!");VA(r.v,function(s){var a={};if(s&&s.authEvent){var h=!1;for(s=wy(s.authEvent),a=0;a<r.h.length;a++)h=r.h[a](s)||h;return a={},a.status=h?"ACK":"ERROR",st(a)}return a.status="ERROR",st(a)})}function $A(r){var s={type:"webStorageSupport"};return Qy(r).then(function(){return UA(r.v,s)}).then(function(a){if(a&&a.length&&typeof a[0].webStorageSupport!="undefined")return a[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){O(this.h,function(s){return s==r})};function Yy(r){if(this.a=r||ct.INTERNAL.reactNative&&ct.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Yy.prototype,t.get=function(r){return st(this.a.getItem(r)).then(function(s){return s&&vo(s)})},t.set=function(r,s){return st(this.a.setItem(r,Ls(s)))},t.U=function(r){return st(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function Jy(r){this.b=r,this.a={},this.f=K(this.c,this)}var Zy=[];function zA(){var r=kn()?self:null;if(Lt(Zy,function(a){a.b==r&&(s=a)}),!s){var s=new Jy(r);Zy.push(s)}return s}Jy.prototype.c=function(r){var s=r.data.eventType,a=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:a,eventType:s,response:null});var d=[];Lt(h,function(v){d.push(st().then(function(){return v(r.origin,r.data.data)}))}),rm(d).then(function(v){var m=[];Lt(v,function(b){m.push({fulfilled:b.Qb,value:b.value,reason:b.reason?b.reason.message:void 0})}),Lt(m,function(b){for(var C in b)typeof b[C]=="undefined"&&delete b[C]}),r.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:m})})}};function tw(r,s,a){en(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]=="undefined"&&(r.a[s]=[]),r.a[s].push(a)}function ew(r){this.a=r}ew.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function nw(r){this.c=r,this.b=!1,this.a=[]}function rw(r,s,a,h){var d,v=a||{},m,b,C,L=null;if(r.b)return Ht(Error("connection_unavailable"));var ft=h?800:50,Pt=typeof MessageChannel!="undefined"?new MessageChannel:null;return new wt(function(kt,fe){Pt?(d=Math.floor(Math.random()*Math.pow(10,20)).toString(),Pt.port1.start(),b=setTimeout(function(){fe(Error("unsupported_event"))},ft),m=function(pr){pr.data.eventId===d&&(pr.data.status==="ack"?(clearTimeout(b),C=setTimeout(function(){fe(Error("timeout"))},3e3)):pr.data.status==="done"?(clearTimeout(C),typeof pr.data.response!="undefined"?kt(pr.data.response):fe(Error("unknown_error"))):(clearTimeout(b),clearTimeout(C),fe(Error("invalid_response"))))},L={messageChannel:Pt,onMessage:m},r.a.push(L),Pt.port1.addEventListener("message",m),r.c.postMessage({eventType:s,eventId:d,data:v},[Pt.port2])):fe(Error("connection_unavailable"))}).then(function(kt){return Rf(r,L),kt}).o(function(kt){throw Rf(r,L),kt})}function Rf(r,s){if(s){var a=s.messageChannel,h=s.onMessage;a&&(a.port1.removeEventListener("message",h),a.port1.close()),O(r.a,function(d){return d==s})}}nw.prototype.close=function(){for(;0<this.a.length;)Rf(this,this.a[0]);this.b=!0};function iw(){if(!Mf())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;kn()&&self?(this.v=zA(),tw(this.v,"keyChanged",function(s,a){return uw(r).then(function(h){return 0<h.length&&Lt(r.a,function(d){d(h)}),{keyProcessed:S(h,a.key)}})}),tw(this.v,"ping",function(){return st(["keyChanged"])})):aS().then(function(s){(r.h=s)&&(r.g=new nw(new ew(s)),rw(r.g,"ping",null,!0).then(function(a){a[0].fulfilled&&S(a[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Pf;function WA(r){return new wt(function(s,a){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(d){a(Error(d.target.error))}})}function ow(r){return new wt(function(s,a){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(d){try{d.preventDefault()}catch{}a(Error(d.target.error))},h.onupgradeneeded=function(d){d=d.target.result;try{d.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(v){a(v)}},h.onsuccess=function(d){d=d.target.result,d.objectStoreNames.contains("firebaseLocalStorage")?s(d):WA(r).then(function(){return ow(r)}).then(function(v){s(v)}).o(function(v){a(v)})}})}function Lf(r){return r.i||(r.i=ow(r)),r.i}function Qa(r,s){function a(d,v){Lf(r).then(s).then(d).o(function(m){if(3<++h)v(m);else return Lf(r).then(function(b){return b.close(),r.i=void 0,a(d,v)}).o(function(b){v(b)})})}var h=0;return new wt(a)}function Mf(){try{return!!f.indexedDB}catch{return!1}}function Js(r){return r.objectStore("firebaseLocalStorage")}function Zs(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function bo(r){return new wt(function(s,a){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){a(h.target.error)}})}t=iw.prototype,t.set=function(r,s){var a=this,h=!1;return Qa(this,function(d){return d=Js(Zs(d,!0)),bo(d.get(r))}).then(function(d){return Qa(a,function(v){if(v=Js(Zs(v,!0)),d)return d.value=s,bo(v.put(d));a.b++,h=!0;var m={};return m.fbase_key=r,m.value=s,bo(v.add(m))})}).then(function(){return a.c[r]=s,sw(a,r)}).oa(function(){h&&a.b--})};function sw(r,s){return r.g&&r.h&&uS()===r.h?rw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):st()}t.get=function(r){return Qa(this,function(s){return bo(Js(Zs(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,a=!1;return Qa(this,function(h){return a=!0,s.b++,bo(Js(Zs(h,!0)).delete(r))}).then(function(){return delete s.c[r],sw(s,r)}).oa(function(){a&&s.b--})};function uw(r){return Lf(r).then(function(s){var a=Js(Zs(s,!1));return a.getAll?bo(a.getAll()):new wt(function(h,d){var v=[],m=a.openCursor();m.onsuccess=function(b){(b=b.target.result)?(v.push(b.value),b.continue()):h(v)},m.onerror=function(b){d(b.target.error)}})}).then(function(s){var a={},h=[];if(r.b==0){for(h=0;h<s.length;h++)a[s[h].fbase_key]=s[h].value;h=xm(r.c,a),r.c=a}return h})}t.ca=function(r){this.a.length==0&&QA(this),this.a.push(r)},t.ia=function(r){O(this.a,function(s){return s==r}),this.a.length==0&&aw(this)};function QA(r){function s(){r.f=setTimeout(function(){r.l=uw(r).then(function(a){0<a.length&&Lt(r.a,function(h){h(a)})}).then(function(){s()}).o(function(a){a.message!="STOP_EVENT"&&s()})},800)}aw(r),s()}function aw(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function cw(r){var s=this,a=null;this.a=[],this.type="indexedDB",this.c=r,this.b=st().then(function(){if(Mf()){var h=gi(),d="__sak"+h;return Pf||(Pf=new iw),a=Pf,a.set(d,h).then(function(){return a.get(d)}).then(function(v){if(v!==h)throw Error("indexedDB not supported!");return a.U(d)}).then(function(){return a}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(d){Lt(s.a,function(v){v(d)})}),h})}t=cw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(a){return a.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){O(this.a,function(s){return s==r})};function tu(){this.a={},this.type="inMemory"}t=tu.prototype,t.get=function(r){return st(this.a[r])},t.set=function(r,s){return this.a[r]=s,st()},t.U=function(r){return delete this.a[r],st()},t.ca=function(){},t.ia=function(){};function Xa(){if(!XA())throw Kn()=="Node"?new _("internal-error","The LocalStorage compatibility library was not found."):new _("web-storage-unsupported");this.a=lw()||ct.INTERNAL.node.localStorage,this.type="localStorage"}function lw(){try{var r=f.localStorage,s=gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function XA(){var r=Kn()=="Node";if(r=lw()||r&&ct.INTERNAL.node&&ct.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Xa.prototype,t.get=function(r){var s=this;return st().then(function(){var a=s.a.getItem(r);return vo(a)})},t.set=function(r,s){var a=this;return st().then(function(){var h=Ls(s);h===null?a.U(r):a.a.setItem(r,h)})},t.U=function(r){var s=this;return st().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&vn(f.window,"storage",r)},t.ia=function(r){f.window&&nn(f.window,"storage",r)};function Ff(){this.type="nullStorage"}t=Ff.prototype,t.get=function(){return st(null)},t.set=function(){return st()},t.U=function(){return st()},t.ca=function(){},t.ia=function(){};function jf(){if(!YA())throw Kn()=="Node"?new _("internal-error","The SessionStorage compatibility library was not found."):new _("web-storage-unsupported");this.a=hw()||ct.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hw(){try{var r=f.sessionStorage,s=gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function YA(){var r=Kn()=="Node";if(r=hw()||r&&ct.INTERNAL.node&&ct.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=jf.prototype,t.get=function(r){var s=this;return st().then(function(){var a=s.a.getItem(r);return vo(a)})},t.set=function(r,s){var a=this;return st().then(function(){var h=Ls(s);h===null?a.U(r):a.a.setItem(r,h)})},t.U=function(r){var s=this;return st().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function JA(){var r={};r.Browser=ZA,r.Node=tN,r.ReactNative=eN,r.Worker=nN,this.a=r[Kn()]}var Uf,ZA={F:Xa,cb:jf},tN={F:Xa,cb:jf},eN={F:Yy,cb:Ff},nN={F:Xa,cb:Ff},Io={rd:"local",NONE:"none",td:"session"};function rN(r){var s=new _("invalid-persistence-type"),a=new _("unsupported-persistence-type");t:{for(h in Io)if(Io[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(Kn()){case"ReactNative":if(r==="session")throw a;break;case"Node":if(r!=="none")throw a;break;case"Worker":if(r==="session"||!Mf()&&r!=="none")throw a;break;default:if(!jh()&&r!=="none")throw a}}function fw(){var r=!!(!jm(we())&&Mh()),s=Ps(),a=jh();this.m=r,this.h=s,this.l=a,this.a={},Uf||(Uf=new JA),r=Uf;try{this.g=!Ph()&&Vm()||!f.indexedDB?new r.a.F:new cw(kn()?new tu:new r.a.F)}catch{this.g=new tu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new tu}this.v=new tu,this.f=K(this.Zb,this),this.b={}}var Vf;function eu(){return Vf||(Vf=new fw),Vf}function Ti(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function Eo(r,s){return"firebase:"+r.name+(s?":"+s:"")}function iN(r,s,a){var h=Eo(s,a),d=Ti(r,s.F);return r.get(s,a).then(function(v){var m=null;try{m=vo(f.localStorage.getItem(h))}catch{}if(m&&!v)return f.localStorage.removeItem(h),r.set(s,m,a);m&&v&&d.type!="localStorage"&&f.localStorage.removeItem(h)})}t=fw.prototype,t.get=function(r,s){return Ti(this,r.F).get(Eo(r,s))};function To(r,s,a){return a=Eo(s,a),s.F=="local"&&(r.b[a]=null),Ti(r,s.F).U(a)}t.set=function(r,s,a){var h=Eo(r,a),d=this,v=Ti(this,r.F);return v.set(h,s).then(function(){return v.get(h)}).then(function(m){r.F=="local"&&(d.b[h]=m)})},t.addListener=function(r,s,a){r=Eo(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),en(this.a)&&(Ti(this,"local").ca(this.f),this.h||(Ph()||!Vm())&&f.indexedDB||!this.l||oN(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(a)},t.removeListener=function(r,s,a){r=Eo(r,s),this.a[r]&&(O(this.a[r],function(h){return h==a}),this.a[r].length==0&&delete this.a[r]),en(this.a)&&(Ti(this,"local").ia(this.f),qf(this))};function oN(r){qf(r),r.c=setInterval(function(){for(var s in r.a){var a=f.localStorage.getItem(s),h=r.b[s];a!=h&&(r.b[s]=a,a=new li({type:"storage",key:s,target:window,oldValue:h,newValue:a,a:!0}),r.Zb(a))}},1e3)}function qf(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var a in this.a){var h=this.b[a];typeof h=="undefined"&&(h=null);var d=f.localStorage.getItem(a);d!==h&&(this.b[a]=d,this.nb(a))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a!="undefined"?Ti(this,"local").ia(this.f):qf(this),this.m){if(a=f.localStorage.getItem(s),h=r.a.newValue,h!==a)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a=="undefined")return}var v=this;a=function(){(typeof r.a.a!="undefined"||v.b[s]!==f.localStorage.getItem(s))&&(v.b[s]=f.localStorage.getItem(s),v.nb(s))},Nn&&Dr&&Dr==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(a,10):a()}}else Lt(r,K(this.nb,this))},t.nb=function(r){this.a[r]&&Lt(this.a[r],function(s){s()})};function sN(r){this.a=r,this.b=eu()}var Bf={name:"authEvent",F:"local"};function uN(r){return r.b.get(Bf,r.a).then(function(s){return wy(s)})}function aN(){this.a=eu()}function cN(){this.b=-1}function Ya(r,s){this.b=dw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Ja===void 0&&(f.Int32Array?Ja=new Int32Array(vw):Ja=vw),this.reset()}var Ja;z(Ya,cN);for(var dw=64,lN=dw-1,pw=[],Kf=0;Kf<lN;Kf++)pw[Kf]=0;var gw=P(128,pw);Ya.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):V(this.h)};function Hf(r){for(var s=r.f,a=r.l,h=0,d=0;d<s.length;)a[h++]=s[d]<<24|s[d+1]<<16|s[d+2]<<8|s[d+3],d=4*h;for(s=16;64>s;s++){d=a[s-15]|0,h=a[s-2]|0;var v=(a[s-16]|0)+((d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3)|0,m=(a[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;a[s]=v+m|0}h=r.a[0]|0,d=r.a[1]|0;var b=r.a[2]|0,C=r.a[3]|0,L=r.a[4]|0,ft=r.a[5]|0,Pt=r.a[6]|0;for(v=r.a[7]|0,s=0;64>s;s++){var kt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&d^h&b^d&b)|0;m=L&ft^~L&Pt,v=v+((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))|0,m=m+(Ja[s]|0)|0,m=v+(m+(a[s]|0)|0)|0,v=Pt,Pt=ft,ft=L,L=C+m|0,C=b,b=d,d=h,h=m+kt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+d|0,r.a[2]=r.a[2]+b|0,r.a[3]=r.a[3]+C|0,r.a[4]=r.a[4]+L|0,r.a[5]=r.a[5]+ft|0,r.a[6]=r.a[6]+Pt|0,r.a[7]=r.a[7]+v|0}function Gf(r,s,a){a===void 0&&(a=s.length);var h=0,d=r.c;if(typeof s=="string")for(;h<a;)r.f[d++]=s.charCodeAt(h++),d==r.b&&(Hf(r),d=0);else if(T(s))for(;h<a;){var v=s[h++];if(!(typeof v=="number"&&0<=v&&255>=v&&v==(v|0)))throw Error("message must be a byte array");r.f[d++]=v,d==r.b&&(Hf(r),d=0)}else throw Error("message must be string or array");r.c=d,r.g+=a}var vw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mw(){Ya.call(this,8,hN)}z(mw,Ya);var hN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yw(r,s,a,h,d,v){this.v=r,this.i=s,this.l=a,this.m=h||null,this.u=d||null,this.s=v,this.h=s+":"+a,this.C=new aN,this.g=new sN(this.h),this.f=null,this.b=[],this.a=this.c=null}function Za(r){return new _("invalid-cordova-configuration",r)}t=yw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=iS().then(function(){if(typeof Gt("universalLinks.subscribe",f)!="function")throw Za("cordova-universal-links-plugin-fix is not installed");if(typeof Gt("BuildInfo.packageName",f)=="undefined")throw Za("cordova-plugin-buildinfo is not installed");if(typeof Gt("cordova.plugins.browsertab.openUrl",f)!="function")throw Za("cordova-plugin-browsertab is not installed");if(typeof Gt("cordova.InAppBrowser.open",f)!="function")throw Za("cordova-plugin-inappbrowser is not installed")},function(){throw new _("cordova-not-ready")})};function fN(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function dN(r){var s=new mw;Gf(s,r),r=[];var a=8*s.g;56>s.c?Gf(s,gw,56-s.c):Gf(s,gw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=a&255,a/=256;for(Hf(s),h=a=0;h<s.i;h++)for(var d=24;0<=d;d-=8)r[a++]=s.a[h]>>d&255;return _S(r)}t.Pb=function(r,s){return s(new _("operation-not-supported-in-this-environment")),st()},t.Nb=function(){return Ht(new _("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,a,h){if(this.c)return Ht(new _("redirect-operation-pending"));var d=this,v=f.document,m=null,b=null,C=null,L=null;return this.c=st().then(function(){return uf(s),bw(d)}).then(function(){return pN(d,r,s,a,h)}).then(function(){return new wt(function(ft,Pt){b=function(){var kt=Gt("cordova.plugins.browsertab.close",f);return ft(),typeof kt=="function"&&kt(),d.a&&typeof d.a.close=="function"&&(d.a.close(),d.a=null),!1},d.Ea(b),C=function(){m||(m=co(2e3).then(function(){Pt(new _("redirect-cancelled-by-user"))}))},L=function(){Uh()&&C()},v.addEventListener("resume",C,!1),we().toLowerCase().match(/android/)||v.addEventListener("visibilitychange",L,!1)}).o(function(ft){return $f(d).then(function(){throw ft})})}).oa(function(){C&&v.removeEventListener("resume",C,!1),L&&v.removeEventListener("visibilitychange",L,!1),m&&m.cancel(),b&&d.Ta(b),d.c=null})};function pN(r,s,a,h,d){var v=fN(),m=new Cn(s,h,null,v,new _("no-auth-event"),null,d),b=Gt("BuildInfo.packageName",f);if(typeof b!="string")throw new _("invalid-cordova-configuration");var C=Gt("BuildInfo.displayName",f),L={};if(we().toLowerCase().match(/iphone|ipad|ipod/))L.ibi=b;else if(we().toLowerCase().match(/android/))L.apn=b;else return Ht(new _("operation-not-supported-in-this-environment"));C&&(L.appDisplayName=C),v=dN(v),L.sessionId=v;var ft=Ys(r.v,r.i,r.l,s,a,null,h,r.m,L,r.u,d,r.s);return r.ma().then(function(){var Pt=r.h;return r.C.a.set(Bf,m.w(),Pt)}).then(function(){var Pt=Gt("cordova.plugins.browsertab.isAvailable",f);if(typeof Pt!="function")throw new _("invalid-cordova-configuration");var kt=null;Pt(function(fe){if(fe){if(kt=Gt("cordova.plugins.browsertab.openUrl",f),typeof kt!="function")throw new _("invalid-cordova-configuration");kt(ft)}else{if(kt=Gt("cordova.InAppBrowser.open",f),typeof kt!="function")throw new _("invalid-cordova-configuration");fe=we(),r.a=kt(ft,fe.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||fe.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function ww(r,s){for(var a=0;a<r.b.length;a++)try{r.b[a](s)}catch{}}function bw(r){return r.f||(r.f=r.ma().then(function(){return new wt(function(s){function a(h){return s(h),r.Ta(a),!1}r.Ea(a),gN(r)})})),r.f}function $f(r){var s=null;return uN(r.g).then(function(a){return s=a,a=r.g,To(a.b,Bf,a.a)}).then(function(){return s})}function gN(r){function s(m){h=!0,d&&d.cancel(),$f(r).then(function(b){var C=a;if(b&&m&&m.url){var L=null;C=hy(m.url),C.indexOf("/__/auth/callback")!=-1&&(L=$e(C),L=vo(mn(L,"firebaseError")||null),L=(L=typeof L=="object"?ee(L):null)?new Cn(b.c,b.b,null,null,L,null,b.T()):new Cn(b.c,b.b,C,b.f,null,null,b.T())),C=L||a}ww(r,C)})}var a=new Cn("unknown",null,null,null,new _("no-auth-event")),h=!1,d=co(500).then(function(){return $f(r).then(function(){h||ww(r,a)})}),v=f.handleOpenURL;f.handleOpenURL=function(m){if(m.toLowerCase().indexOf(Gt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:m}),typeof v=="function")try{v(m)}catch(b){console.error(b)}},af||(af=new OS),RS(s)}t.Ea=function(r){this.b.push(r),bw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new Cn("unknown",null,null,null,new _("no-auth-event")),r(s))})},t.Ta=function(r){O(this.b,function(s){return s==r})};function vN(r){this.a=r,this.b=eu()}var zf={name:"pendingRedirect",F:"session"};function mN(r){return r.b.set(zf,"pending",r.a)}function Wf(r){return To(r.b,zf,r.a)}function yN(r){return r.b.get(zf,r.a).then(function(s){return s=="pending"})}function tc(r,s,a,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=a,this.J=h,this.h=[],this.f=!1,this.l=K(this.s,this),this.b=new nc,this.C=new Dw,this.g=new vN(Nw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Iw(this.D,this.v,this.m,ne,this.J)}function Iw(r,s,a,h,d){var v=ct.SDK_VERSION||null;return Lh()?new yw(r,s,a,v,h,d):new zy(r,s,a,v,h,d)}tc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Iw(this.D,this.v,this.m,null,this.J),this.i={}};function Ew(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(a){throw r.a==s&&r.reset(),a})}function Tw(r){r.a.Yb()&&Ew(r).o(function(s){var a=new Cn("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Xf(s)&&r.s(a)}),r.a.Ub()||kw(r.b)}function ec(r,s){S(r.h,s)||r.h.push(s),r.f||yN(r.g).then(function(a){a?Wf(r.g).then(function(){Ew(r).o(function(h){var d=new Cn("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Xf(h)&&r.s(d)})}):Tw(r)}).o(function(){Tw(r)})}function Qf(r,s){O(r.h,function(a){return a==s})}tc.prototype.s=function(r){if(!r)throw new _("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,a=0;a<this.h.length;a++){var h=this.h[a];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return kw(this.b),s};var wN=new Rr(2e3,1e4),bN=new Rr(3e4,6e4);tc.prototype.ra=function(){return this.b.ra()};function _w(r,s,a,h,d,v,m){return r.a.Nb(s,a,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},d,v,m)}function Xf(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Sw(r,s,a,h,d){var v;return mN(r.g).then(function(){return r.a.Ob(s,a,h,d).o(function(m){if(Xf(m))throw new _("operation-not-supported-in-this-environment");return v=m,Wf(r.g).then(function(){throw v})}).then(function(){return r.a.ac()?new wt(function(){}):Wf(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Aw(r,s,a,h,d){return r.a.Pb(h,function(v){s.na(a,null,v,d)},wN.get())}var Yf={};function Nw(r,s,a){return r=r+":"+s,a&&(r=r+":"+a.url),r}function Jf(r,s,a,h){var d=Nw(s,a,h);return Yf[d]||(Yf[d]=new tc(r,s,a,h)),Yf[d]}function nc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}nc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var a=r.c,h=r.b,d=r.a&&r.a.code=="auth/web-storage-unsupported",v=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!d&&!v),a!="unknown"||d||v?r.a?(_i(this,!0,null,r.a),st()):s.Fa(a,h)?IN(this,r,s):Ht(new _("invalid-auth-event")):(_i(this,!1,null,null),st())}else Ht(new _("invalid-auth-event"))};function kw(r){r.g||(r.g=!0,_i(r,!1,null,null))}function rc(r){r.g&&!r.i&&_i(r,!1,null,null)}function IN(r,s,a){a=a.Fa(s.c,s.b);var h=s.g,d=s.f,v=s.i,m=s.T(),b=!!s.c.match(/Redirect$/);a(h,d,m,v).then(function(C){_i(r,b,C,null)}).o(function(C){_i(r,b,null,C)})}function EN(r,s){if(r.b=function(){return Ht(s)},r.c.length)for(var a=0;a<r.c.length;a++)r.c[a](s)}function Cw(r,s){if(r.b=function(){return st(s)},r.f.length)for(var a=0;a<r.f.length;a++)r.f[a](s)}function _i(r,s,a,h){s?h?EN(r,h):Cw(r,a):Cw(r,{user:null}),r.f=[],r.c=[]}nc.prototype.ra=function(){var r=this;return new wt(function(s,a){r.b?r.b().then(s,a):(r.f.push(s),r.c.push(a),TN(r))})};function TN(r){var s=new _("timeout");r.a&&r.a.cancel(),r.a=co(bN.get()).then(function(){r.b||(r.g=!0,_i(r,!0,null,s))})}function Dw(){}Dw.prototype.h=function(r,s){if(r){var a=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),st()):s.Fa(a,h)?_N(r,s):Ht(new _("invalid-auth-event"))}else Ht(new _("invalid-auth-event"))};function _N(r,s){var a=r.b,h=r.c;s.Fa(h,a)(r.g,r.f,r.T(),r.i).then(function(d){s.na(h,d,null,a)}).o(function(d){s.na(h,null,d,a)})}function xw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Zf(r,s){this.a=s,Z(this,"verificationId",r)}Zf.prototype.confirm=function(r){return r=yy(this.verificationId,r),this.a(r)};function td(r,s,a,h){return new fr(r).gb(s,a).then(function(d){return new Zf(d,h)})}function SN(r){var s=ry(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Me(this,{token:r,expirationTime:Ms(1e3*s.exp),authTime:Ms(1e3*s.auth_time),issuedAtTime:Ms(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function ed(r,s,a){var h=s&&s[Rw];if(!h)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=An(s),this.g=a,this.c=new Oa(null,h),this.b=[];var d=this;Lt(s[Ow]||[],function(v){(v=Gh(v))&&d.b.push(v)}),Z(this,"auth",this.a),Z(this,"session",this.c),Z(this,"hints",this.b)}var Ow="mfaInfo",Rw="mfaPendingCredential";ed.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(a){var h=An(s.f);return delete h[Ow],delete h[Rw],Bt(h,a),s.g(h)})};function nd(r,s,a,h){_.call(this,"multi-factor-auth-required",h,s),this.b=new ed(r,s,a),Z(this,"resolver",this.b)}z(nd,_);function Pw(r,s,a){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new nd(s,r.serverResponse,a,r.message)}catch{}return null}function Lw(){}Lw.prototype.tb=function(r,s,a){return s.type==Vs?AN(this,r,s,a):NN(this,r,s)};function AN(r,s,a,h){return a.Ha().then(function(d){return d={idToken:d},typeof h!="undefined"&&(d.displayName=h),Bt(d,{phoneVerificationInfo:qs(r.a)}),bt(s,gA,d)})}function NN(r,s,a){return a.Ha().then(function(h){return h={mfaPendingCredential:h},Bt(h,{phoneVerificationInfo:qs(r.a)}),bt(s,vA,h)})}function rd(r){Z(this,"factorId",r.fa),this.a=r}z(rd,Lw);function Mw(r){if(rd.call(this,r),this.a.fa!=fr.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(Mw,rd);function _o(r,s){Ge.call(this,r);for(var a in s)this[a]=s[a]}z(_o,Ge);function id(r,s){this.a=r,this.b=[],this.c=K(this.yc,this),vn(this.a,"userReloaded",this.c);var a=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&Lt(s.multiFactor.enrolledFactors,function(h){var d=null,v={};if(h){h.uid&&(v[zh]=h.uid),h.displayName&&(v[Bm]=h.displayName),h.enrollmentTime&&(v[$h]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(v[Wh]=h.phoneNumber);try{d=new Fs(v)}catch{}h=d}else h=null;h&&a.push(h)}),ic(this,a)}function kN(r){var s=[];return Lt(r.mfaInfo||[],function(a){(a=Gh(a))&&s.push(a)}),s}t=id.prototype,t.yc=function(r){ic(this,kN(r.hd))};function ic(r,s){r.b=s,Z(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new Oa(r,null)})},t.fc=function(r,s){var a=this,h=this.a.a;return this.Sb().then(function(d){return r.tb(h,d,s)}).then(function(d){return $n(a.a,d),a.a.reload()})},t.bd=function(r){var s=this,a=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(d){return bt(h,MA,{idToken:d,mfaEnrollmentId:a})}).then(function(d){var v=kr(s.b,function(m){return m.uid!=a});return ic(s,v),$n(s.a,d),s.a.reload().o(function(m){if(m.code!="auth/user-token-expired")throw m})})},t.w=function(){return{multiFactor:{enrolledFactors:Cr(this.b,function(r){return r.w()})}}};function od(r,s,a){if(this.h=r,this.i=s,this.g=a,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}od.prototype.start=function(){this.a=this.c,sd(this,!0)};function CN(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function sd(r,s){r.stop(),r.b=co(CN(r,s)).then(function(){return sS()}).then(function(){return r.h()}).then(function(){sd(r,!0)}).o(function(a){r.i(a)&&sd(r,!1)})}od.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function ud(r){this.f=r,this.b=this.a=null,this.c=Date.now()}ud.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Fw(r,s){typeof s=="undefined"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function jw(r,s){r.b=Da(s[xn]||""),r.a=s.refreshToken,s=s.expiresIn,Fw(r,typeof s!="undefined"?Number(s):void 0)}function DN(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function xN(r,s){return ZS(r.f,s).then(function(a){return r.b=Da(a.access_token),r.a=a.refresh_token,Fw(r,a.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(a){throw a.code=="auth/user-token-expired"&&(r.a=null),a})}ud.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?Ht(new _("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?xN(this,{grant_type:"refresh_token",refresh_token:this.a}):st(null):st({accessToken:this.b.toString(),refreshToken:this.a})};function oc(r,s){this.a=r||null,this.b=s||null,Me(this,{lastSignInTime:Ms(s||null),creationTime:Ms(r||null)})}function ON(r){return new oc(r.a,r.b)}oc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function RN(r,s,a,h,d,v){Me(this,{uid:r,displayName:h||null,photoURL:d||null,email:a||null,phoneNumber:v||null,providerId:s})}function on(r,s,a){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=ct.SDK_VERSION?po(ct.SDK_VERSION):null;this.a=new Dn(this.l,ur(ne),h),(this.u=r.emulatorConfig||null)&&za(this.a,this.u),this.h=new ud(this.a),pd(this,s[xn]),jw(this.h,s),Z(this,"refreshToken",this.h.a),Vw(this,a||{}),Le.call(this),this.P=!1,this.s&&pi()&&(this.b=Jf(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=PN(this),this.ba=K(this.ib,this);var d=this;this.za=null,this.Pa=function(v){d.xa(v.h)},this.qa=null,this.Ba=function(v){ad(d,v.c)},this.$=null,this.aa=[],this.Oa=function(v){nu(d,v.f)},this.ja=null,this.S=new id(this,a),Z(this,"multiFactor",this.S)}z(on,Le),on.prototype.xa=function(r){this.za=r,Py(this.a,r)};function ad(r,s){r.u=s,za(r.a,s),r.b&&(s=r.b,r.b=Jf(r.s,r.l,r.m,r.u),r.P&&(Qf(s,r),ec(r.b,r)))}on.prototype.la=function(){return this.za};function cd(r,s){r.qa&&nn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&vn(s,"languageCodeChanged",r.Pa)}function ld(r,s){r.$&&nn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&vn(s,"emulatorConfigChanged",r.Ba)}function nu(r,s){r.aa=s,Ly(r.a,ct.SDK_VERSION?po(ct.SDK_VERSION,r.aa):null)}on.prototype.Ga=function(){return V(this.aa)};function hd(r,s){r.ja&&nn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&vn(s,"frameworkChanged",r.Oa)}on.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function fd(r){try{return ct.app(r.m).auth()}catch{throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function PN(r){return new od(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function Uw(r){r.J||r.D.b||(r.D.start(),nn(r,"tokenChanged",r.ba),vn(r,"tokenChanged",r.ba))}function dd(r){nn(r,"tokenChanged",r.ba),r.D.stop()}function pd(r,s){r.Aa=s,Z(r,"_lat",s)}function LN(r,s){O(r.W,function(a){return a==s})}function Si(r){for(var s=[],a=0;a<r.W.length;a++)s.push(r.W[a](r));return rm(s).then(function(){return r})}function ru(r){r.b&&!r.P&&(r.P=!0,ec(r.b,r))}function Vw(r,s){Me(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new oc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}Z(on.prototype,"providerId","firebase");function qw(){}function gd(r){return st().then(function(){if(r.J)throw new _("app-deleted")})}function vd(r){return Cr(r.providerData,function(s){return s.providerId})}function md(r,s){s&&(Bw(r,s.providerId),r.providerData.push(s))}function Bw(r,s){O(r.providerData,function(a){return a.providerId==s})}function Mr(r,s,a){(s!="uid"||a)&&r.hasOwnProperty(s)&&Z(r,s,a)}function sc(r,s){r!=s&&(Me(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?Z(r,"metadata",ON(s.metadata)):Z(r,"metadata",new oc),Lt(s.providerData,function(a){md(r,a)}),DN(r.h,s.h),Z(r,"refreshToken",r.h.a),ic(r.S,s.S.b))}t=on.prototype,t.reload=function(){var r=this;return ce(this,gd(this).then(function(){return yd(r).then(function(){return Si(r)}).then(qw)}))};function yd(r){return r.I().then(function(s){var a=r.isAnonymous;return MN(r,s).then(function(){return a||Mr(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new SN(s)})},t.I=function(r){var s=this;return ce(this,gd(this).then(function(){return s.h.getToken(r)}).then(function(a){if(!a)throw new _("internal-error");return a.accessToken!=s.Aa&&(pd(s,a.accessToken),s.dispatchEvent(new _o("tokenChanged"))),Mr(s,"refreshToken",a.refreshToken),a.accessToken}))};function $n(r,s){s[xn]&&r.Aa!=s[xn]&&(jw(r.h,s),r.dispatchEvent(new _o("tokenChanged")),pd(r,s[xn]),Mr(r,"refreshToken",r.h.a))}function MN(r,s){return bt(r.a,mA,{idToken:s}).then(K(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new _("internal-error");r=r[0],Vw(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=FN(r),a=0;a<s.length;a++)md(this,s[a]);Mr(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new _o("userReloaded",{hd:r}))};function FN(r){return(r=r.providerUserInfo)&&r.length?Cr(r,function(s){return new RN(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return Vh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,a=null;return ce(this,r.c(this.a,this.uid).then(function(h){return $n(s,h),a=iu(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return a}),!0)};function uc(r,s){return yd(r).then(function(){if(S(vd(r),s))return Si(r).then(function(){throw new _("provider-already-linked")})})}t.Cc=function(r){return Vh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,a=null;return ce(this,uc(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return a=iu(s,h,"link"),Kw(s,h)}).then(function(){return a}))},t.Dc=function(r,s){var a=this;return ce(this,uc(this,"phone").then(function(){return td(fd(a),r,s,K(a.rb,a))}))},t.Mc=function(r,s){var a=this;return ce(this,st().then(function(){return td(fd(a),r,s,K(a.ub,a))}),!0)};function iu(r,s,a){var h=sf(s);return s=oy(s),Hn({user:r,credential:h,additionalUserInfo:s,operationType:a})}function Kw(r,s){return $n(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return ce(this,this.I().then(function(a){return s.a.Cb(a,r)}).then(function(a){return $n(s,a),s.reload()}))},t.ed=function(r){var s=this;return ce(this,this.I().then(function(a){return r.b(s.a,a)}).then(function(a){return $n(s,a),s.reload()}))},t.Db=function(r){var s=this;return ce(this,this.I().then(function(a){return s.a.Db(a,r)}).then(function(a){return $n(s,a),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return gd(this);var s=this;return ce(this,this.I().then(function(a){return s.a.Eb(a,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(a){return $n(s,a),Mr(s,"displayName",a.displayName||null),Mr(s,"photoURL",a.photoUrl||null),Lt(s.providerData,function(h){h.providerId==="password"&&(Z(h,"displayName",s.displayName),Z(h,"photoURL",s.photoURL))}),Si(s)}).then(qw))},t.cd=function(r){var s=this;return ce(this,yd(this).then(function(a){return S(vd(s),r)?sA(s.a,a,[r]).then(function(h){var d={};return Lt(h.providerUserInfo||[],function(v){d[v.providerId]=!0}),Lt(vd(s),function(v){d[v]||Bw(s,v)}),d[fr.PROVIDER_ID]||Z(s,"phoneNumber",null),Si(s)}):Si(s).then(function(){throw new _("no-such-provider")})}))},t.delete=function(){var r=this;return ce(this,this.I().then(function(s){return bt(r.a,hA,{idToken:s})}).then(function(){r.dispatchEvent(new _o("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");cd(r,null),ld(r,null),hd(r,null),r.N=[],r.J=!0,dd(r),Z(r,"refreshToken",null),r.b&&Qf(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,a,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(a&&this.C?this.C(a):s&&!a&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?K(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?K(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?K(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?K(this.Mb,this):null},t.Ec=function(r){var s=this;return Hw(this,"linkViaPopup",r,function(){return uc(s,r.providerId).then(function(){return Si(s)})},!1)},t.Nc=function(r){return Hw(this,"reauthViaPopup",r,function(){return st()},!0)};function Hw(r,s,a,h,d){if(!pi())return Ht(new _("operation-not-supported-in-this-environment"));if(r.i&&!d)return Ht(r.i);var v=Zh(a.providerId),m=gi(r.uid+":::"),b=null;(!Ps()||Mh())&&r.s&&a.isOAuthProvider&&(b=Ys(r.s,r.l,r.m,s,a,null,m,ct.SDK_VERSION||null,null,null,r.tenantId,r.u));var C=Rm(b,v&&v.va,v&&v.ua);return h=h().then(function(){if($w(r),!d)return r.I().then(function(){})}).then(function(){return _w(r.b,C,s,a,m,!!b,r.tenantId)}).then(function(){return new wt(function(L,ft){r.na(s,null,new _("cancelled-popup-request"),r.g||null),r.f=L,r.C=ft,r.g=m,r.c=Aw(r.b,r,s,C,m)})}).then(function(L){return C&&di(C),L?Hn(L):null}).o(function(L){throw C&&di(C),L}),ce(r,h,d)}t.Fc=function(r){var s=this;return Gw(this,"linkViaRedirect",r,function(){return uc(s,r.providerId)},!1)},t.Oc=function(r){return Gw(this,"reauthViaRedirect",r,function(){return st()},!0)};function Gw(r,s,a,h,d){if(!pi())return Ht(new _("operation-not-supported-in-this-environment"));if(r.i&&!d)return Ht(r.i);var v=null,m=gi(r.uid+":::");return h=h().then(function(){if($w(r),!d)return r.I().then(function(){})}).then(function(){return r.ga=m,Si(r)}).then(function(b){return r.ha&&(b=r.ha,b=b.b.set(wd,r.w(),b.a)),b}).then(function(){return Sw(r.b,s,a,m,r.tenantId)}).o(function(b){if(v=b,r.ha)return Ww(r.ha);throw v}).then(function(){if(v)throw v}),ce(r,h,d)}function $w(r){if(!r.b||!r.P)throw r.b&&!r.P?new _("internal-error"):new _("auth-domain-config-required")}t.Lb=function(r,s,a,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var v=null;return a=this.I().then(function(m){return Nf(d.a,{requestUri:r,postBody:h,sessionId:s,idToken:m})}).then(function(m){return v=iu(d,m,"link"),Kw(d,m)}).then(function(){return v}),ce(this,a)},t.Mb=function(r,s,a,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var v=null,m=st().then(function(){return yo(kf(d.a,{requestUri:r,sessionId:s,postBody:h,tenantId:a}),d.uid)}).then(function(b){return v=iu(d,b,"reauthenticate"),$n(d,b),d.i=null,d.reload()}).then(function(){return v});return ce(this,m,!0)},t.vb=function(r){var s=this,a=null;return ce(this,this.I().then(function(h){return a=h,typeof r=="undefined"||en(r)?{}:ka(new Na(r))}).then(function(h){return s.a.vb(a,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var a=this,h=null;return ce(this,this.I().then(function(d){return h=d,typeof s=="undefined"||en(s)?{}:ka(new Na(s))}).then(function(d){return a.a.Fb(h,r,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))};function ce(r,s,a){var h=jN(r,s,a);return r.N.push(h),h.oa(function(){D(r.N,h)}),h.o(function(d){var v=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(v=Pw(d.w(),fd(r),K(r.jc,r))),v||d})}t.jc=function(r){var s=null,a=this;return r=yo(st(r),a.uid).then(function(h){return s=iu(a,h,"reauthenticate"),$n(a,h),a.i=null,a.reload()}).then(function(){return s}),ce(this,r,!0)};function jN(r,s,a){return r.i&&!a?(s.cancel(),Ht(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new _o("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Bt(r,this.metadata.w()),Lt(this.providerData,function(s){r.providerData.push(cS(s))}),Bt(r,this.S.w()),r};function zw(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},a={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){a[xn]=r.stsTokenManager.accessToken,a.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(a.expiresIn=(h-Date.now())/1e3)}else return null;var d=new on(s,a,r);return r.providerData&&Lt(r.providerData,function(v){v&&md(d,Hn(v))}),r.redirectEventId&&(d.ga=r.redirectEventId),d}function UN(r,s,a,h){var d=new on(r,s);return a&&(d.ha=a),h&&nu(d,h),d.reload().then(function(){return d})}function VN(r,s,a,h){var d=r.h,v={};return v[xn]=d.b&&d.b.toString(),v.refreshToken=d.a,s=new on(s||{apiKey:r.l,authDomain:r.s,appName:r.m},v),a&&(s.ha=a),h&&nu(s,h),sc(s,r),s}function qN(r){this.a=r,this.b=eu()}var wd={name:"redirectUser",F:"session"};function Ww(r){return To(r.b,wd,r.a)}function BN(r,s){return r.b.get(wd,r.a).then(function(a){return a&&s&&(a.authDomain=s),zw(a||{})})}function bd(r){this.a=r,this.b=eu(),this.c=null,this.f=KN(this),this.b.addListener(zn("local"),this.a,K(this.g,this))}bd.prototype.g=function(){var r=this,s=zn("local");So(this,function(){return st().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(a){if(a)return Id(r,"local").then(function(){r.c=s})})})};function Id(r,s){var a=[],h;for(h in Io)Io[h]!==s&&a.push(To(r.b,zn(Io[h]),r.a));return a.push(To(r.b,Ed,r.a)),O1(a)}function KN(r){var s=zn("local"),a=zn("session"),h=zn("none");return iN(r.b,s,r.a).then(function(){return r.b.get(a,r.a)}).then(function(d){return d?a:r.b.get(h,r.a).then(function(v){return v?h:r.b.get(s,r.a).then(function(m){return m?s:r.b.get(Ed,r.a).then(function(b){return b?zn(b):s})})})}).then(function(d){return r.c=d,Id(r,d.F)}).o(function(){r.c||(r.c=s)})}var Ed={name:"persistence",F:"session"};function zn(r){return{name:"authUser",F:r}}bd.prototype.yb=function(r){var s=null,a=this;return rN(r),So(this,function(){return r!=a.c.F?a.b.get(a.c,a.a).then(function(h){return s=h,Id(a,r)}).then(function(){if(a.c=zn(r),s)return a.b.set(a.c,s,a.a)}):st()})};function HN(r){return So(r,function(){return r.b.set(Ed,r.c.F,r.a)})}function Qw(r,s){return So(r,function(){return r.b.set(r.c,s.w(),r.a)})}function Xw(r){return So(r,function(){return To(r.b,r.c,r.a)})}function Yw(r,s,a){return So(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&a&&(h.emulatorConfig=a),zw(h||{})})})}function So(r,s){return r.f=r.f.then(s,s),r.f}function On(r){if(this.l=!1,Z(this,"settings",new xw),Z(this,"app",r),Ft(this).options&&Ft(this).options.apiKey)r=ct.SDK_VERSION?po(ct.SDK_VERSION):null,this.a=new Dn(Ft(this).options&&Ft(this).options.apiKey,ur(ne),r);else throw new _("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ct.INTERNAL.createSubscribe(K(this.zc,this)),this.W=void 0,this.ib=ct.INTERNAL.createSubscribe(K(this.Ac,this)),Ao(this,null),this.i=new bd(Ft(this).options.apiKey+":"+Ft(this).name),this.D=new qN(Ft(this).options.apiKey+":"+Ft(this).name),this.$=Qt(this,XN(this)),this.h=Qt(this,YN(this)),this.ba=!1,this.ja=K(this.Zc,this),this.Ba=K(this.da,this),this.qa=K(this.mc,this),this.za=K(this.wc,this),this.Aa=K(this.xc,this),this.b=null,zN(this),this.INTERNAL={},this.INTERNAL.delete=K(this.delete,this),this.INTERNAL.logFramework=K(this.Gc,this),this.u=0,Le.call(this),$N(this),this.J=[],this.R=null}z(On,Le);function Jw(r){Ge.call(this,"languageCodeChanged"),this.h=r}z(Jw,Ge);function Zw(r){Ge.call(this,"emulatorConfigChanged"),this.c=r}z(Zw,Ge);function t0(r){Ge.call(this,"frameworkChanged"),this.f=r}z(t0,Ge),t=On.prototype,t.yb=function(r){return r=this.i.yb(r),Qt(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,Py(this.a,this.aa),this.dispatchEvent(new Jw(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new _("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,GN(s),this.R={url:r,ec:s},this.settings.jb=!0,za(this.a,this.R),this.dispatchEvent(new Zw(this.R))}};function GN(r){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&_a().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),Ly(this.a,ct.SDK_VERSION?po(ct.SDK_VERSION,this.J):null),this.dispatchEvent(new t0(this.J))},t.Ga=function(){return V(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function $N(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=$e(this.R.url);s=Hn({protocol:s.c,host:s.a,port:s.g,options:Hn({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:Ft(this).options.apiKey,authDomain:Ft(this).options.authDomain,appName:Ft(this).name,currentUser:gt(this)&&gt(this).w()}};function Td(r){return r.Oa||Ht(new _("auth-domain-config-required"))}function zN(r){var s=Ft(r).options.authDomain,a=Ft(r).options.apiKey;s&&pi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Jf(s,a,Ft(r).name,r.R),ec(r.b,r),gt(r)&&ru(gt(r)),r.m){ru(r.m);var h=r.m;h.xa(r.la()),cd(h,r),h=r.m,nu(h,r.J),hd(h,r),h=r.m,ad(h,r.R),ld(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,a,h){r=="signInViaPopup"&&this.g==h&&(a&&this.C?this.C(a):s&&!a&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?K(this.ic,this):null},t.ic=function(r,s,a,h){var d=this,v={requestUri:r,postBody:h,sessionId:s,tenantId:a};return this.c&&(this.c.cancel(),this.c=null),d.$.then(function(){return Ai(d,Af(d.a,v))})},t.Xc=function(r){if(!pi())return Ht(new _("operation-not-supported-in-this-environment"));var s=this,a=Zh(r.providerId),h=gi(),d=null;(!Ps()||Mh())&&Ft(this).options.authDomain&&r.isOAuthProvider&&(d=Ys(Ft(this).options.authDomain,Ft(this).options.apiKey,Ft(this).name,"signInViaPopup",r,null,h,ct.SDK_VERSION||null,null,null,this.T(),this.R));var v=Rm(d,a&&a.va,a&&a.ua);return a=Td(this).then(function(m){return _w(m,v,"signInViaPopup",r,h,!!d,s.T())}).then(function(){return new wt(function(m,b){s.na("signInViaPopup",null,new _("cancelled-popup-request"),s.g),s.f=m,s.C=b,s.g=h,s.c=Aw(s.b,s,"signInViaPopup",v,h)})}).then(function(m){return v&&di(v),m?Hn(m):null}).o(function(m){throw v&&di(v),m}),Qt(this,a)},t.Yc=function(r){if(!pi())return Ht(new _("operation-not-supported-in-this-environment"));var s=this,a=Td(this).then(function(){return HN(s.i)}).then(function(){return Sw(s.b,"signInViaRedirect",r,void 0,s.T())});return Qt(this,a)};function e0(r){if(!pi())return Ht(new _("operation-not-supported-in-this-environment"));var s=Td(r).then(function(){return r.b.ra()}).then(function(a){return a?Hn(a):null});return Qt(r,s)}t.ra=function(){var r=this;return e0(this).then(function(s){return r.b&&rc(r.b.b),s}).o(function(s){throw r.b&&rc(r.b.b),s})},t.dd=function(r){if(!r)return Ht(new _("null-user"));if(this.S!=r.tenantId)return Ht(new _("tenant-id-mismatch"));var s=this,a={};a.apiKey=Ft(this).options.apiKey,a.authDomain=Ft(this).options.authDomain,a.appName=Ft(this).name;var h=VN(r,a,s.D,s.Ga());return Qt(this,this.h.then(function(){if(Ft(s).options.apiKey!=r.l)return h.reload()}).then(function(){return gt(s)&&r.uid==gt(s).uid?(sc(gt(s),r),s.da(r)):(Ao(s,h),ru(h),s.da(h))}).then(function(){ou(s)}))};function WN(r,s){var a={};return a.apiKey=Ft(r).options.apiKey,a.authDomain=Ft(r).options.authDomain,a.appName=Ft(r).name,r.R&&(a.emulatorConfig=r.R),r.$.then(function(){return UN(a,s,r.D,r.Ga())}).then(function(h){return gt(r)&&h.uid==gt(r).uid?(sc(gt(r),h),r.da(h)):(Ao(r,h),ru(h),r.da(h))}).then(function(){ou(r)})}function Ao(r,s){gt(r)&&(LN(gt(r),r.Ba),nn(gt(r),"tokenChanged",r.qa),nn(gt(r),"userDeleted",r.za),nn(gt(r),"userInvalidated",r.Aa),dd(gt(r))),s&&(s.W.push(r.Ba),vn(s,"tokenChanged",r.qa),vn(s,"userDeleted",r.za),vn(s,"userInvalidated",r.Aa),0<r.u&&Uw(s)),Z(r,"currentUser",s),s&&(s.xa(r.la()),cd(s,r),nu(s,r.J),hd(s,r),ad(s,r.R),ld(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&rc(r.b.b),gt(r)?(Ao(r,null),Xw(r.i).then(function(){ou(r)})):st()});return Qt(this,s)};function QN(r){var s=BN(r.D,Ft(r).options.authDomain).then(function(a){return(r.m=a)&&(a.ha=r.D),Ww(r.D)});return Qt(r,s)}function XN(r){var s=Ft(r).options.authDomain,a=QN(r).then(function(){return Yw(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return Qw(r.i,h).then(function(){return h})}).o(function(d){return d.code=="auth/network-request-failed"?h:Xw(r.i)})):null}).then(function(h){Ao(r,h||null)});return Qt(r,a)}function YN(r){return r.$.then(function(){return e0(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(zn("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return Yw(this.i,Ft(this).options.authDomain).then(function(s){if(!r.l){var a;if(a=gt(r)&&s){a=gt(r).uid;var h=s.uid;a=a==null||a===""||h===void 0||h===null||h===""?!1:a==h}if(a)return sc(gt(r),s),gt(r).I();(gt(r)||s)&&(Ao(r,s),s&&(ru(s),s.ha=r.D),r.b&&ec(r.b,r),ou(r))}})},t.da=function(r){return Qw(this.i,r)},t.mc=function(){ou(this),this.da(gt(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Ai(r,s){var a=null,h=null;return Qt(r,s.then(function(d){return a=sf(d),h=oy(d),WN(r,d)},function(d){var v=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(v=Pw(d.w(),r,K(r.kc,r))),v||d}).then(function(){return Hn({user:gt(r),credential:a,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return Ai(s,st(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(gt(s))})},t.Ac=function(r){var s=this;JN(this,function(){r.next(gt(s))})},t.Ic=function(r,s,a){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(gt(h)):typeof r.next=="function"&&r.next(gt(h))}),this.Pa(r,s,a)},t.Hc=function(r,s,a){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(gt(h)):typeof r.next=="function"&&r.next(gt(h))}),this.ib(r,s,a)},t.nc=function(r){var s=this,a=this.h.then(function(){return gt(s)?gt(s).I(r).then(function(h){return{accessToken:h}}):null});return Qt(this,a)},t.Tc=function(r){var s=this;return this.h.then(function(){return Ai(s,bt(s.a,OA,{token:r}))}).then(function(a){var h=a.user;return Mr(h,"isAnonymous",!1),s.da(h),a})},t.Uc=function(r,s){var a=this;return this.h.then(function(){return Ai(a,bt(a.a,Hy,{email:r,password:s}))})},t.dc=function(r,s){var a=this;return this.h.then(function(){return Ai(a,bt(a.a,cA,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return Ai(s,r.ka(s.a))})},t.Sc=function(r){return Vh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=gt(r);if(s&&s.isAnonymous){var a=Hn({providerId:null,isNewUser:!1});return Hn({user:s,credential:null,additionalUserInfo:a,operationType:"signIn"})}return Ai(r,r.a.Ab()).then(function(h){var d=h.user;return Mr(d,"isAnonymous",!0),r.da(d),h})})};function Ft(r){return r.app}function gt(r){return r.currentUser}t.getUid=function(){return gt(this)&&gt(this).uid||null};function ac(r){return gt(r)&&gt(r)._lat||null}function ou(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](ac(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](ac(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&gt(this)&&Uw(gt(this))},t.Pc=function(r){var s=this;Lt(this.s,function(a){a==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&gt(this)&&dd(gt(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),Qt(this,this.h.then(function(){s.l||S(s.s,r)&&r(ac(s))}))},t.removeAuthTokenListener=function(r){O(this.s,function(s){return s==r})};function JN(r,s){r.N.push(s),Qt(r,r.h.then(function(){!r.l&&S(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(ac(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(zn("local"),r.a,this.ja)),this.b&&(Qf(this.b,this),rc(this.b.b)),Promise.resolve()};function Qt(r,s){return r.P.push(s),s.oa(function(){D(r.P,s)}),s}t.hc=function(r){return Qt(this,tA(this.a,r))},t.Bc=function(r){return!!of(r)},t.xb=function(r,s){var a=this;return Qt(this,st().then(function(){var h=new Na(s);if(!h.c)throw new _("argument-error",Yh+" must be true when sending sign in link to email");return ka(h)}).then(function(h){return a.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return Qt(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return Qt(this,this.a.Sa(r).then(function(s){return new hS(s)}))},t.kb=function(r){return Qt(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var a=this;return Qt(this,st().then(function(){return typeof s=="undefined"||en(s)?{}:ka(new Na(s))}).then(function(h){return a.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return Qt(this,td(this,r,s,K(this.ab,this)))},t.Vc=function(r,s){var a=this;return Qt(this,st().then(function(){var h=s||Rs(),d=my(r,h);if(h=of(h),!h)throw new _("argument-error","Invalid email link!");if(h.tenantId!==a.T())throw new _("tenant-id-mismatch");return a.ab(d)}))};function su(){}su.prototype.render=function(){},su.prototype.reset=function(){},su.prototype.getResponse=function(){},su.prototype.execute=function(){};function No(){this.a={},this.b=1e12}var _d=null;No.prototype.render=function(r,s){return this.a[this.b.toString()]=new cc(r,s),this.b++},No.prototype.reset=function(r){var s=Sd(this,r);r=n0(r),s&&r&&(s.delete(),delete this.a[r])},No.prototype.getResponse=function(r){return(r=Sd(this,r))?r.getResponse():null},No.prototype.execute=function(r){(r=Sd(this,r))&&r.execute()};function Sd(r,s){return(s=n0(s))&&r.a[s]||null}function n0(r){return(r=typeof r=="undefined"?1e12:r)?r.toString():null}function cc(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=As(r);var a=this;this.i=function(){a.execute()},this.h?this.execute():vn(this.f,"click",this.i)}cc.prototype.getResponse=function(){return Ad(this),this.b},cc.prototype.execute=function(){Ad(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=oS();var s=r.c.callback,a=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,a)try{a()}catch{}r.h&&r.execute()},6e4)},500))},cc.prototype.delete=function(){Ad(this),this.g=!0,clearTimeout(this.a),this.a=null,nn(this.f,"click",this.i)};function Ad(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Nd(){}Z(Nd,"FACTOR_ID","phone");function kd(){}kd.prototype.g=function(){return _d||(_d=new No),st(_d)},kd.prototype.c=function(){};var Cd=null;function Dd(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ZN=new qn(ha,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),tk=new Rr(3e4,6e4);Dd.prototype.g=function(r){var s=this;return new wt(function(a,h){var d=setTimeout(function(){h(new _("network-request-failed"))},tk.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var m=f.grecaptcha.render;f.grecaptcha.render=function(b,C){return b=m(b,C),s.b++,b},clearTimeout(d),a(f.grecaptcha)}else clearTimeout(d),h(new _("internal-error"));delete f[s.a]};var v=lh(ZN,{onload:s.a,hl:r||""});st(wf(v)).o(function(){clearTimeout(d),h(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(d),a(f.grecaptcha)})},Dd.prototype.c=function(){this.b--};var xd=null;function Od(r,s,a,h,d,v,m){if(Z(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,m?(Cd||(Cd=new kd),m=Cd):(xd||(xd=new Dd),m=xd),this.m=m,this.a=a||{theme:"light",type:"image"},this.h=[],this.a[o0])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[ek]==="invisible",!f.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!As(s)||!this.i&&As(s).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Dn(r,v||null,d||null),this.u=h||function(){return null};var b=this;this.l=[];var C=this.a[r0];this.a[r0]=function(ft){if(s0(b,ft),typeof C=="function")C(ft);else if(typeof C=="string"){var Pt=Gt(C,f);typeof Pt=="function"&&Pt(ft)}};var L=this.a[i0];this.a[i0]=function(){if(s0(b,null),typeof L=="function")L();else if(typeof L=="string"){var ft=Gt(L,f);typeof ft=="function"&&ft()}}}var r0="callback",i0="expired-callback",o0="sitekey",ek="size";function s0(r,s){for(var a=0;a<r.l.length;a++)try{r.l[a](s)}catch{}}function nk(r,s){O(r.l,function(a){return a==s})}function Rd(r,s){return r.h.push(s),s.oa(function(){D(r.h,s)}),s}t=Od.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Rd(this,st().then(function(){if(Sa()&&!kn())return _a();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,bt(r.s,TA,{})}).then(function(s){r.a[o0]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){lc(this);var r=this;return Rd(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var a=As(s);s=k1("DIV"),a.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){lc(this);var r=this;return Rd(this,this.render().then(function(s){return new wt(function(a){var h=r.g.getResponse(s);if(h)a(h);else{var d=function(v){v&&(nk(r,d),a(v))};r.l.push(d),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){lc(this),this.c!==null&&this.g.reset(this.c)};function lc(r){if(r.J)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){lc(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=As(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Pd(r,s,a){var h=!1;try{this.b=a||ct.app()}catch{throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)a=this.b.options.apiKey;else throw new _("invalid-api-key");var d=this,v=null;try{v=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}v=ct.SDK_VERSION?po(ct.SDK_VERSION,v):null,Od.call(this,a,r,s,function(){try{var m=d.b.auth().la()}catch{m=null}return m},v,ur(ne),h)}z(Pd,Od);function u0(r,s,a,h){t:{a=Array.prototype.slice.call(a);for(var d=0,v=!1,m=0;m<s.length;m++)if(s[m].optional)v=!0;else{if(v)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");d++}if(v=s.length,a.length<d||v<a.length)h="Expected "+(d==v?d==1?"1 argument":d+" arguments":d+"-"+v+" arguments")+" but got "+a.length+".";else{for(d=0;d<a.length;d++)if(v=s[d].optional&&a[d]===void 0,!s[d].M(a[d])&&!v){if(s=s[d],0>d||d>=a0.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");a=a0[d],h=(h?"":a+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new _("argument-error",r+" failed: "+h)}var a0="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Y(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(a){return typeof a=="string"}}}function Ld(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(a){return typeof a=="boolean"}}}function re(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:N}}function ko(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(a){return typeof a=="function"}}}function Wn(r,s){return{name:r||"",K:"null",optional:!!s,M:function(a){return a===null}}}function rk(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function ik(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof On)}}}function ok(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof ct.app.App)}}}function Fr(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var a=!r||s.providerId===r;return!(!s.ka||!a)}}}function c0(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Co(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Md(r,s){return N(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function l0(r){return N(r)&&typeof r.uid=="string"}function hc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Zt(r,s,a,h){return{name:a||"",K:r.K+" or "+s.K,optional:!!h,M:function(d){return r.M(d)||s.M(d)}}}function zt(r,s){for(var a in s){var h=s[a].name;r[h]=f0(h,r[a],s[a].j)}}function h0(r,s){for(var a in s){var h=s[a].name;h!==a&&Object.defineProperty(r,h,{get:At(function(d){return this[d]},a),set:At(function(d,v,m,b){u0(d,[m],[b],!0),this[v]=b},h,a,s[a].lb),enumerable:!0})}}function te(r,s,a,h){r[s]=f0(s,a,h)}function f0(r,s,a){function h(){var m=Array.prototype.slice.call(arguments);return u0(d,a,m),s.apply(this,m)}if(!a)return s;var d=sk(r),v;for(v in s)h[v]=s[v];for(v in s.prototype)h.prototype[v]=s.prototype[v];return h}function sk(r){return r=r.split("."),r[r.length-1]}zt(On.prototype,{kb:{name:"applyActionCode",j:[Y("code")]},Sa:{name:"checkActionCode",j:[Y("code")]},ob:{name:"confirmPasswordReset",j:[Y("code"),Y("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Y("email"),Y("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Y("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Y("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zt(re(),ko(),"nextOrObserver"),ko("opt_error",!0),ko("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zt(re(),ko(),"nextOrObserver"),ko("opt_error",!0),ko("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Y("email"),Zt(re("opt_actionCodeSettings",!0),Wn(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Y("email"),re("actionCodeSettings")]},yb:{name:"setPersistence",j:[Y("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fr()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Fr()]},Tc:{name:"signInWithCustomToken",j:[Y("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Y("email"),Y("password")]},Vc:{name:"signInWithEmailLink",j:[Y("email"),Y("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Y("phoneNumber"),hc()]},Xc:{name:"signInWithPopup",j:[Co()]},Yc:{name:"signInWithRedirect",j:[Co()]},dd:{name:"updateCurrentUser",j:[Zt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof on)}}}(),Wn(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Y(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Y("url"),re("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Y("code")]}}),h0(On.prototype,{lc:{name:"languageCode",lb:Zt(Y(),Wn(),"languageCode")},ti:{name:"tenantId",lb:Zt(Y(),Wn(),"tenantId")}}),On.Persistence=Io,On.Persistence.LOCAL="local",On.Persistence.SESSION="session",On.Persistence.NONE="none",zt(on.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ld("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ld("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fr()]},rb:{name:"linkWithCredential",j:[Fr()]},Dc:{name:"linkWithPhoneNumber",j:[Y("phoneNumber"),hc()]},Ec:{name:"linkWithPopup",j:[Co()]},Fc:{name:"linkWithRedirect",j:[Co()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fr()]},ub:{name:"reauthenticateWithCredential",j:[Fr()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Y("phoneNumber"),hc()]},Nc:{name:"reauthenticateWithPopup",j:[Co()]},Oc:{name:"reauthenticateWithRedirect",j:[Co()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zt(re("opt_actionCodeSettings",!0),Wn(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Y(null,!0)]},cd:{name:"unlink",j:[Y("provider")]},Cb:{name:"updateEmail",j:[Y("email")]},Db:{name:"updatePassword",j:[Y("password")]},ed:{name:"updatePhoneNumber",j:[Fr("phone")]},Eb:{name:"updateProfile",j:[re("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Y("email"),Zt(re("opt_actionCodeSettings",!0),Wn(null,!0),"opt_actionCodeSettings",!0)]}}),zt(No.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zt(su.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zt(wt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),h0(xw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ld("appVerificationDisabledForTesting")}}),zt(Zf.prototype,{confirm:{name:"confirm",j:[Y("verificationCode")]}}),te(mo,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,a=[CS,DS,xS,kS],h=0;h<a.length;h++)if(s=a[h](r))return s;return null},[Zt(Y(),re(),"json")]),te(yn,"credential",function(r,s){return new Pr(r,s)},[Y("email"),Y("password")]),zt(Pr.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),zt(yi.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[re("customOAuthParameters")]}}),te(yi,"credential",dy,[Zt(Y(),re(),"token")]),te(yn,"credentialWithLink",my,[Y("email"),Y("emailLink")]),zt(wi.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[re("customOAuthParameters")]}}),te(wi,"credential",py,[Zt(Y(),re(),"token")]),zt(bi.prototype,{Ca:{name:"addScope",j:[Y("scope")]},Ka:{name:"setCustomParameters",j:[re("customOAuthParameters")]}}),te(bi,"credential",gy,[Zt(Y(),Zt(re(),Wn()),"idToken"),Zt(Y(),Wn(),"accessToken",!0)]),zt(wo.prototype,{Ka:{name:"setCustomParameters",j:[re("customOAuthParameters")]}}),te(wo,"credential",vy,[Zt(Y(),re(),"token"),Y("secret",!0)]),zt(rn.prototype,{Ca:{name:"addScope",j:[Y("scope")]},credential:{name:"credential",j:[Zt(Y(),Zt(re(),Wn()),"optionsOrIdToken"),Zt(Y(),Wn(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[re("customOAuthParameters")]}}),zt(hr.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),zt(vi.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),te(fr,"credential",yy,[Y("verificationId"),Y("verificationCode")]),zt(fr.prototype,{gb:{name:"verifyPhoneNumber",j:[Zt(Y(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(a){return a?a.session&&a.phoneNumber?Md(a.session,Vs)&&typeof a.phoneNumber=="string":a.session&&a.multiFactorHint?Md(a.session,Ra)&&l0(a.multiFactorHint):a.session&&a.multiFactorUid?Md(a.session,Ra)&&typeof a.multiFactorUid=="string":a.phoneNumber?typeof a.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),hc()]}}),zt(Lr.prototype,{w:{name:"toJSON",j:[Y(null,!0)]}}),zt(_.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),zt(Bs.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),zt(cf.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),zt(nd.prototype,{toJSON:{name:"toJSON",j:[Y(null,!0)]}}),zt(ed.prototype,{Rc:{name:"resolveSignIn",j:[c0()]}}),zt(id.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[c0(),Y("displayName",!0)]},bd:{name:"unenroll",j:[Zt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:l0},Y(),"multiFactorInfoIdentifier")]}}),zt(Pd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),te(Xh,"parseLink",Qm,[Y("link")]),te(Nd,"assertion",function(r){return new Mw(r)},[Fr("phone")]),function(){if(typeof ct!="undefined"&&ct.INTERNAL&&ct.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Aa,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Qh,VERIFY_AND_CHANGE_EMAIL:js,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:On,AuthCredential:mo,Error:_};te(r,"EmailAuthProvider",yn,[]),te(r,"FacebookAuthProvider",yi,[]),te(r,"GithubAuthProvider",wi,[]),te(r,"GoogleAuthProvider",bi,[]),te(r,"TwitterAuthProvider",wo,[]),te(r,"OAuthProvider",rn,[Y("providerId")]),te(r,"SAMLAuthProvider",fy,[Y("providerId")]),te(r,"PhoneAuthProvider",fr,[ik()]),te(r,"RecaptchaVerifier",Pd,[Zt(Y(),rk(),"recaptchaContainer"),re("recaptchaParameters",!0),ok()]),te(r,"ActionCodeURL",Xh,[]),te(r,"PhoneMultiFactorGenerator",Nd,[]),ct.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new On(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),ct.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:K(s.getUid,s),getToken:K(s.nc,s),addAuthTokenListener:K(s.cc,s),removeAuthTokenListener:K(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ct.registerVersion("@firebase/auth","0.16.8"),ct.INTERNAL.extendNamespace({User:on})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _p=function(t,e){return _p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},_p(t,e)};function Bx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_p(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function TE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Kx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},X,Ig=Ig||{},dt=Kx||self;function Gc(){}function Sp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Hx(t){return Object.prototype.hasOwnProperty.call(t,Gd)&&t[Gd]||(t[Gd]=++Gx)}var Gd="closure_uid_"+(1e9*Math.random()>>>0),Gx=0;function $x(t,e,n){return t.call.apply(t.bind,arguments)}function zx(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Te(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Te=$x:Te=zx,Te.apply(null,arguments)}function yc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Se(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var c=Array(arguments.length-2),l=2;l<arguments.length;l++)c[l-2]=arguments[l];return e.prototype[o].apply(i,c)}}function ri(){this.s=this.s,this.o=this.o}var Wx=0;ri.prototype.s=!1;ri.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Wx!=0)&&Hx(this)};ri.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},SE=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function Qx(t){t:{for(var e=VO,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Q0(t){return Array.prototype.concat.apply([],arguments)}function Eg(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function $c(t){return/^[\s\xa0]*$/.test(t)}var X0=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ue(t,e){return t.indexOf(e)!=-1}function $d(t,e){return t<e?-1:t>e?1:0}var Ve;t:{var Y0=dt.navigator;if(Y0){var J0=Y0.userAgent;if(J0){Ve=J0;break t}}Ve=""}function Tg(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function AE(t){var e={};for(var n in t)e[n]=t[n];return e}var Z0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NE(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<Z0.length;u++)n=Z0[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function _g(t){return _g[" "](t),t}_g[" "]=Gc;function Xx(t){var e=Zx;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Yx=Ue(Ve,"Opera"),$o=Ue(Ve,"Trident")||Ue(Ve,"MSIE"),kE=Ue(Ve,"Edge"),Ap=kE||$o,CE=Ue(Ve,"Gecko")&&!(Ue(Ve.toLowerCase(),"webkit")&&!Ue(Ve,"Edge"))&&!(Ue(Ve,"Trident")||Ue(Ve,"MSIE"))&&!Ue(Ve,"Edge"),Jx=Ue(Ve.toLowerCase(),"webkit")&&!Ue(Ve,"Edge");function DE(){var t=dt.document;return t?t.documentMode:void 0}var zc;t:{var zd="",Wd=function(){var t=Ve;if(CE)return/rv:([^\);]+)(\)|;)/.exec(t);if(kE)return/Edge\/([\d\.]+)/.exec(t);if($o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Jx)return/WebKit\/(\S+)/.exec(t);if(Yx)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wd&&(zd=Wd?Wd[1]:""),$o){var Qd=DE();if(Qd!=null&&Qd>parseFloat(zd)){zc=String(Qd);break t}}zc=zd}var Zx={};function tO(){return Xx(function(){for(var t=0,e=X0(String(zc)).split("."),n=X0("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",c=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],u[0].length==0&&c[0].length==0)break;t=$d(u[1].length==0?0:parseInt(u[1],10),c[1].length==0?0:parseInt(c[1],10))||$d(u[2].length==0,c[2].length==0)||$d(u[2],c[2]),u=u[3],c=c[3]}while(t==0)}return 0<=t})}var Np;if(dt.document&&$o){var tb=DE();Np=tb||parseInt(zc,10)||void 0}else Np=void 0;var eO=Np,nO=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{dt.addEventListener("test",Gc,e),dt.removeEventListener("test",Gc,e)}catch{}return t}();function xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};function Cu(t,e){if(xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CE){t:{try{_g(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cu.Z.h.call(this)}}Se(Cu,xe);var rO={2:"touch",3:"pen",4:"mouse"};Cu.prototype.h=function(){Cu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $u="closure_listenable_"+(1e6*Math.random()|0),iO=0;function oO(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++iO,this.ca=this.fa=!1}function Rl(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Pl(t){this.src=t,this.g={},this.h=0}Pl.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var c=Cp(t,e,i,o);return-1<c?(e=t[c],n||(e.fa=!1)):(e=new oO(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function kp(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=_E(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Rl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cp(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Sg="closure_lm_"+(1e6*Math.random()|0),Xd={};function xE(t,e,n,i,o){if(i&&i.once)return RE(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)xE(t,e[u],n,i,o);return null}return n=kg(n),t&&t[$u]?t.N(e,n,Gu(i)?!!i.capture:!!i,o):OE(t,e,n,!1,i,o)}function OE(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var c=Gu(o)?!!o.capture:!!o,l=Ng(t);if(l||(t[Sg]=l=new Pl(t)),n=l.add(e,n,i,c,u),n.proxy)return n;if(i=sO(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)nO||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(LE(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function sO(){function t(n){return e.call(t.src,t.listener,n)}var e=uO;return t}function RE(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)RE(t,e[u],n,i,o);return null}return n=kg(n),t&&t[$u]?t.O(e,n,Gu(i)?!!i.capture:!!i,o):OE(t,e,n,!0,i,o)}function PE(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)PE(t,e[u],n,i,o);else i=Gu(i)?!!i.capture:!!i,n=kg(n),t&&t[$u]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Cp(u,n,i,o),-1<n&&(Rl(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ng(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cp(e,n,i,o)),(n=-1<t?e[t]:null)&&Ag(n))}function Ag(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[$u])kp(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(LE(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ng(e))?(kp(n,t),n.h==0&&(n.src=null,e[Sg]=null)):Rl(t)}}}function LE(t){return t in Xd?Xd[t]:Xd[t]="on"+t}function uO(t,e){if(t.ca)t=!0;else{e=new Cu(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Ag(t),t=n.call(i,e)}return t}function Ng(t){return t=t[Sg],t instanceof Pl?t:null}var Yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function kg(t){return typeof t=="function"?t:(t[Yd]||(t[Yd]=function(e){return t.handleEvent(e)}),t[Yd])}function me(){ri.call(this),this.i=new Pl(this),this.P=this,this.I=null}Se(me,ri);me.prototype[$u]=!0;me.prototype.removeEventListener=function(t,e,n,i){PE(this,t,e,n,i)};function _e(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new xe(e,t);else if(e instanceof xe)e.target=e.target||t;else{var o=e;e=new xe(i,t),NE(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var c=e.g=n[u];o=wc(c,i,!0,e)&&o}if(c=e.g=t,o=wc(c,i,!0,e)&&o,o=wc(c,i,!1,e)&&o,n)for(u=0;u<n.length;u++)c=e.g=n[u],o=wc(c,i,!1,e)&&o}me.prototype.M=function(){if(me.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Rl(n[i]);delete t.g[e],t.h--}}this.I=null};me.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};me.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function wc(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==n){var l=c.listener,f=c.ia||c.src;c.fa&&kp(t.i,c),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Cg=dt.JSON.stringify;function aO(){var t=FE,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cO=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=ME.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),ME=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new lO},function(t){return t.reset()}),lO=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function hO(t){dt.setTimeout(function(){throw t},0)}function Dg(t,e){Dp||fO(),xp||(Dp(),xp=!0),FE.add(t,e)}var Dp;function fO(){var t=dt.Promise.resolve(void 0);Dp=function(){t.then(dO)}}var xp=!1,FE=new cO;function dO(){for(var t;t=aO();){try{t.h.call(t.g)}catch(n){hO(n)}var e=ME;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xp=!1}function Ll(t,e){me.call(this),this.h=t||1,this.g=e||dt,this.j=Te(this.kb,this),this.l=Date.now()}Se(Ll,me);X=Ll.prototype;X.da=!1;X.S=null;X.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_e(this,"tick"),this.da&&(xg(this),this.start()))}};X.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}X.M=function(){Ll.Z.M.call(this),xg(this),delete this.g};function Og(t,e,n){if(typeof t=="function")n&&(t=Te(t,n));else if(t&&typeof t.handleEvent=="function")t=Te(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:dt.setTimeout(t,e||0)}function jE(t){t.g=Og(function(){t.g=null,t.i&&(t.i=!1,jE(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var pO=function(t){Bx(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:jE(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ri);function Du(t){ri.call(this),this.h=t,this.g={}}Se(Du,ri);var eb=[];function UE(t,e,n,i){Array.isArray(n)||(n&&(eb[0]=n.toString()),n=eb);for(var o=0;o<n.length;o++){var u=xE(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function VE(t){Tg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ag(e)},t),t.g={}}Du.prototype.M=function(){Du.Z.M.call(this),VE(this)};Du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ml(){this.g=!0}Ml.prototype.Aa=function(){this.g=!1};function gO(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var c="",l=u.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var y=g.split("_");c=2<=y.length&&y[1]=="type"?c+(g+"="+p+"&"):c+(g+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function vO(t,e,n,i,o,u,c){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+c})}function jo(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yO(t,n)+(i?" "+i:"")})}function mO(t,e){t.info(function(){return"TIMEOUT: "+e})}Ml.prototype.info=function(){};function yO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return Cg(n)}catch{return e}}var Ji={},nb=null;function Fl(){return nb=nb||new me}Ji.Ma="serverreachability";function qE(t){xe.call(this,Ji.Ma,t)}Se(qE,xe);function xu(t){var e=Fl();_e(e,new qE(e,t))}Ji.STAT_EVENT="statevent";function BE(t,e){xe.call(this,Ji.STAT_EVENT,t),this.stat=e}Se(BE,xe);function qe(t){var e=Fl();_e(e,new BE(e,t))}Ji.Na="timingevent";function KE(t,e){xe.call(this,Ji.Na,t),this.size=e}Se(KE,xe);function zu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){t()},e)}var jl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rg(){}Rg.prototype.h=null;function rb(t){return t.h||(t.h=t.i())}function GE(){}var Wu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pg(){xe.call(this,"d")}Se(Pg,xe);function Lg(){xe.call(this,"c")}Se(Lg,xe);var Op;function Ul(){}Se(Ul,Rg);Ul.prototype.g=function(){return new XMLHttpRequest};Ul.prototype.i=function(){return{}};Op=new Ul;function Qu(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Du(this),this.P=wO,t=Ap?125:void 0,this.W=new Ll(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $E}function $E(){this.i=null,this.g="",this.h=!1}var wO=45e3,Rp={},Wc={};X=Qu.prototype;X.setTimeout=function(t){this.P=t};function Pp(t,e,n){t.K=1,t.v=ql(_r(e)),t.s=n,t.U=!0,zE(t,null)}function zE(t,e){t.F=Date.now(),Xu(t),t.A=_r(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),tT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new $E,t.g=bT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new pO(Te(t.Ia,t,t.g),t.O)),UE(t.V,t.g,"readystatechange",t.gb),e=t.H?AE(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),xu(),gO(t.j,t.u,t.A,t.m,t.X,t.s)}X.gb=function(t){t=t.target;var e=this.L;e&&vr(t)==3?e.l():this.Ia(t)};X.Ia=function(t){try{if(t==this.g)t:{var e=vr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||Ap||this.g&&(this.h.h||this.g.ga()||ub(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?xu(3):xu(2)),Vl(this);var o=this.g.ba();this.N=o;e:if(WE(this)){var u=ub(this.g);t="";var c=u.length,l=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Mi(this),vu(this);var f="";break e}this.h.i=new dt.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==c-1});u.splice(0,c),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,vO(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$c(p)){var y=p;break e}}y=null}if(o=y)jo(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lp(this,o);else{this.i=!1,this.o=3,qe(12),Mi(this),vu(this);break t}}this.U?(QE(this,e,f),Ap&&this.i&&e==3&&(UE(this.V,this.W,"tick",this.fb),this.W.start())):(jo(this.j,this.m,f,null),Lp(this,f)),e==4&&Mi(this),this.i&&!this.I&&(e==4?vT(this.l,this):(this.i=!1,Xu(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,qe(12)):(this.o=0,qe(13)),Mi(this),vu(this)}}}catch{}finally{}};function WE(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function QE(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=bO(t,n),o==Wc){e==4&&(t.o=4,qe(14),i=!1),jo(t.j,t.m,null,"[Incomplete Response]");break}else if(o==Rp){t.o=4,qe(15),jo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else jo(t.j,t.m,o,null),Lp(t,o);WE(t)&&o!=Wc&&o!=Rp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qe(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hg(e),e.L=!0,qe(11))):(jo(t.j,t.m,n,"[Invalid Chunked Response]"),Mi(t),vu(t))}X.fb=function(){if(this.g){var t=vr(this.g),e=this.g.ga();this.C<e.length&&(Vl(this),QE(this,t,e),this.i&&t!=4&&Xu(this))}};function bO(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Wc:(n=Number(e.substring(n,i)),isNaN(n)?Rp:(i+=1,i+n>e.length?Wc:(e=e.substr(i,n),t.C=i+n,e)))}X.cancel=function(){this.I=!0,Mi(this)};function Xu(t){t.Y=Date.now()+t.P,XE(t,t.P)}function XE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=zu(Te(t.eb,t),e)}function Vl(t){t.B&&(dt.clearTimeout(t.B),t.B=null)}X.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(mO(this.j,this.A),this.K!=2&&(xu(),qe(17)),Mi(this),this.o=2,vu(this)):XE(this,this.Y-t)};function vu(t){t.l.G==0||t.I||vT(t.l,t)}function Mi(t){Vl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,xg(t.W),VE(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Mp(n.i,t))){if(n.I=t.N,!t.J&&Mp(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Jc(n),Hl(n);else break t;Kg(n),qe(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=zu(Te(n.ab,n),6e3));if(1>=rT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Fi(n,11)}else if((t.J||n.g==t)&&Jc(n),!$c(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var p=t.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var y=i.i;!y.g&&(Ue(g,"spdy")||Ue(g,"quic")||Ue(g,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(jg(y,y.h),y.h=null))}if(i.D){var w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.sa=w,$t(i.F,i.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var I=t;if(i.oa=wT(i,i.H?i.la:null,i.W),I.J){iT(i.i,I);var T=I,A=i.K;A&&T.setTimeout(A),T.B&&(Vl(T),Xu(T)),i.g=I}else pT(i);0<n.l.length&&Gl(n)}else u[0]!="stop"&&u[0]!="close"||Fi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fi(n,7):Bg(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}xu(4)}catch{}}function IO(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Sp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Mg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sp(t)||typeof t=="string")SE(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Sp(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=IO(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function fs(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof fs)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}X=fs.prototype;X.R=function(){Fg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};X.T=function(){return Fg(this),this.g.concat()};function Fg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];$i(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],$i(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}X.get=function(t,e){return $i(this.h,t)?this.h[t]:e};X.set=function(t,e){$i(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};X.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function $i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var YE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function EO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function zi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof zi){this.g=e!==void 0?e:t.g,Qc(this,t.j),this.s=t.s,Xc(this,t.i),Yc(this,t.m),this.l=t.l,e=t.h;var n=new Ou;n.i=e.i,e.g&&(n.g=new fs(e.g),n.h=e.h),ib(this,n),this.o=t.o}else t&&(n=String(t).match(YE))?(this.g=!!e,Qc(this,n[1]||"",!0),this.s=mu(n[2]||""),Xc(this,n[3]||"",!0),Yc(this,n[4]),this.l=mu(n[5]||"",!0),ib(this,n[6]||"",!0),this.o=mu(n[7]||"")):(this.g=!!e,this.h=new Ou(null,this.g))}zi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hu(e,ob,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hu(e,ob,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(hu(n,n.charAt(0)=="/"?NO:AO,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hu(n,CO)),t.join("")};function _r(t){return new zi(t)}function Qc(t,e,n){t.j=n?mu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xc(t,e,n){t.i=n?mu(e,!0):e}function Yc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ib(t,e,n){e instanceof Ou?(t.h=e,DO(t.h,t.g)):(n||(e=hu(e,kO)),t.h=new Ou(e,t.g))}function $t(t,e,n){t.h.set(e,n)}function ql(t){return $t(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function TO(t){return t instanceof zi?_r(t):new zi(t,void 0)}function _O(t,e,n,i){var o=new zi(null,void 0);return t&&Qc(o,t),e&&Xc(o,e),n&&Yc(o,n),i&&(o.l=i),o}function mu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ob=/[#\/\?@]/g,AO=/[#\?:]/g,NO=/[#\?]/g,kO=/[#\?@]/g,CO=/#/g;function Ou(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ii(t){t.g||(t.g=new fs,t.h=0,t.i&&EO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Ou.prototype;X.add=function(t,e){ii(this),this.i=null,t=ds(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JE(t,e){ii(t),e=ds(t,e),$i(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,$i(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Fg(t)))}function ZE(t,e){return ii(t),e=ds(t,e),$i(t.g.h,e)}X.forEach=function(t,e){ii(this),this.g.forEach(function(n,i){SE(n,function(o){t.call(e,o,i,this)},this)},this)};X.T=function(){ii(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};X.R=function(t){ii(this);var e=[];if(typeof t=="string")ZE(this,t)&&(e=Q0(e,this.g.get(ds(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Q0(e,t[n])}return e};X.set=function(t,e){return ii(this),this.i=null,t=ds(this,t),ZE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function tT(t,e,n){JE(t,e),0<n.length&&(t.i=null,t.g.set(ds(t,e),Eg(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var c=o;i[u]!==""&&(c+="="+encodeURIComponent(String(i[u]))),t.push(c)}}return this.i=t.join("&")};function ds(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function DO(t,e){e&&!t.j&&(ii(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(JE(this,i),tT(this,o,n))},t)),t.j=e}var xO=function(){function t(e,n){this.h=e,this.g=n}return t}();function eT(t){this.l=t||OO,dt.PerformanceNavigationTiming?(t=dt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(dt.g&&dt.g.Ea&&dt.g.Ea()&&dt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OO=10;function nT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rT(t){return t.h?1:t.g?t.g.size:0}function Mp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jg(t,e){t.g?t.g.add(e):t.h=e}function iT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}eT.prototype.cancel=function(){var t,e;if(this.i=oT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=TE(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function oT(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=TE(t.g.values()),u=o.next();!u.done;u=o.next()){var c=u.value;i=i.concat(c.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Eg(t.i)}function Ug(){}Ug.prototype.stringify=function(t){return dt.JSON.stringify(t,void 0)};Ug.prototype.parse=function(t){return dt.JSON.parse(t,void 0)};function RO(){this.g=new Ug}function PO(t,e,n){var i=n||"";try{Mg(t,function(o,u){var c=o;Gu(o)&&(c=Cg(o)),e.push(i+u+"="+encodeURIComponent(c))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function LO(t,e){var n=new Ml;if(dt.Image){var i=new Image;i.onload=yc(bc,n,i,"TestLoadImage: loaded",!0,e),i.onerror=yc(bc,n,i,"TestLoadImage: error",!1,e),i.onabort=yc(bc,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=yc(bc,n,i,"TestLoadImage: timeout",!1,e),dt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function bc(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Yu(t){this.l=t.$b||null,this.j=t.ib||!1}Se(Yu,Rg);Yu.prototype.g=function(){return new Bl(this.l,this.j)};Yu.prototype.i=function(t){return function(){return t}}({});function Bl(t,e){me.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Vg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Se(Bl,me);var Vg=0;X=Bl.prototype;X.open=function(t,e){if(this.readyState!=Vg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ru(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=Vg};X.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ru(this)),this.g&&(this.readyState=3,Ru(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof dt.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function sT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}X.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ju(this):Ru(this),this.readyState==3&&sT(this)}};X.Ua=function(t){this.g&&(this.response=this.responseText=t,Ju(this))};X.Ta=function(t){this.g&&(this.response=t,Ju(this))};X.ha=function(){this.g&&Ju(this)};function Ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ru(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ru(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var MO=dt.JSON.parse;function ae(t){me.call(this),this.headers=new fs,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uT,this.K=this.L=!1}Se(ae,me);var uT="",FO=/^https?$/i,jO=["POST","PUT"];X=ae.prototype;X.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Op.g(),this.C=this.u?rb(this.u):rb(Op),this.g.onreadystatechange=Te(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){sb(this,u);return}t=n||"";var o=new fs(this.headers);i&&Mg(i,function(u,c){o.set(c,u)}),i=Qx(o.T()),n=dt.FormData&&t instanceof dt.FormData,!(0<=_E(jO,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lT(this),0<this.B&&((this.K=UO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.pa,this)):this.A=Og(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){sb(this,u)}};function UO(t){return $o&&tO()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function VO(t){return t.toLowerCase()=="content-type"}X.pa=function(){typeof Ig!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_e(this,"timeout"),this.abort(8))};function sb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,aT(t),Kl(t)}function aT(t){t.D||(t.D=!0,_e(t,"complete"),_e(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_e(this,"complete"),_e(this,"abort"),Kl(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kl(this,!0)),ae.Z.M.call(this)};X.Fa=function(){this.s||(this.F||this.v||this.l?cT(this):this.cb())};X.cb=function(){cT(this)};function cT(t){if(t.h&&typeof Ig!="undefined"&&(!t.C[1]||vr(t)!=4||t.ba()!=2)){if(t.v&&vr(t)==4)Og(t.Fa,0,t);else if(_e(t,"readystatechange"),vr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(YE)[1]||null;if(!u&&dt.self&&dt.self.location){var c=dt.self.location.protocol;u=c.substr(0,c.length-1)}o=!FO.test(u?u.toLowerCase():"")}i=o}if(i)_e(t,"complete"),_e(t,"success");else{t.m=6;try{var l=2<vr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",aT(t)}}finally{Kl(t)}}}}function Kl(t,e){if(t.g){lT(t);var n=t.g,i=t.C[0]?Gc:null;t.g=null,t.C=null,e||_e(t,"ready");try{n.onreadystatechange=i}catch{}}}function lT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(dt.clearTimeout(t.A),t.A=null)}function vr(t){return t.g?t.g.readyState:0}X.ba=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}};X.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),MO(e)}};function ub(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case uT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}X.Da=function(){return this.m};X.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function qO(t){var e="";return Tg(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function qg(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=qO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$t(t,e,n))}function uu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hT(t){this.za=0,this.l=[],this.h=new Ml,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uu("baseRetryDelayMs",5e3,t),this.$a=uu("retryDelaySeedMs",1e4,t),this.Ya=uu("forwardChannelMaxRetries",2,t),this.ra=uu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new eT(t&&t.concurrentRequestLimit),this.Ca=new RO,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}X=hT.prototype;X.ma=8;X.G=1;function Bg(t){if(fT(t),t.G==3){var e=t.V++,n=_r(t.F);$t(n,"SID",t.J),$t(n,"RID",e),$t(n,"TYPE","terminate"),Zu(t,n),e=new Qu(t,t.h,e,void 0),e.K=2,e.v=ql(_r(n)),n=!1,dt.navigator&&dt.navigator.sendBeacon&&(n=dt.navigator.sendBeacon(e.v.toString(),"")),!n&&dt.Image&&(new Image().src=e.v,n=!0),n||(e.g=bT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xu(e)}yT(t)}X.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Hl(t){t.g&&(Hg(t),t.g.cancel(),t.g=null)}function fT(t){Hl(t),t.u&&(dt.clearTimeout(t.u),t.u=null),Jc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&dt.clearTimeout(t.m),t.m=null)}function Jd(t,e){t.l.push(new xO(t.Za++,e)),t.G==3&&Gl(t)}function Gl(t){nT(t.i)||t.m||(t.m=!0,Dg(t.Ha,t),t.C=0)}function BO(t,e){return rT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=zu(Te(t.Ha,t,e),mT(t,t.C)),t.C++,!0)}X.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Qu(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=AE(n),NE(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=dT(this,e,i),o=_r(this.F),$t(o,"RID",t),$t(o,"CVER",22),this.D&&$t(o,"X-HTTP-Session-Id",this.D),Zu(this,o),this.o&&n&&qg(o,this.o,n),jg(this.i,e),this.Ra&&$t(o,"TYPE","init"),this.ja?($t(o,"$req",i),$t(o,"SID","null"),e.$=!0,Pp(e,o,null)):Pp(e,o,i),this.G=2}}else this.G==3&&(t?ab(this,t):this.l.length==0||nT(this.i)||ab(this))};function ab(t,e){var n;e?n=e.m:n=t.V++;var i=_r(t.F);$t(i,"SID",t.J),$t(i,"RID",n),$t(i,"AID",t.U),Zu(t,i),t.o&&t.s&&qg(i,t.o,t.s),n=new Qu(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=dT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),jg(t.i,n),Pp(n,i,e)}function Zu(t,e){t.j&&Mg({},function(n,i){$t(e,i,n)})}function dT(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Te(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var c=["count="+n];u==-1?0<n?(u=o[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=u,0>p)u=Math.max(0,o[f].h-100),l=!1;else try{PO(g,c,"req"+p+"_")}catch{i&&i(g)}}if(l){i=c.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function pT(t){t.g||t.u||(t.Y=1,Dg(t.Ga,t),t.A=0)}function Kg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=zu(Te(t.Ga,t),mT(t,t.A)),t.A++,!0)}X.Ga=function(){if(this.u=null,gT(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=zu(Te(this.bb,this),t)}};X.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qe(10),Hl(this),gT(this))};function Hg(t){t.B!=null&&(dt.clearTimeout(t.B),t.B=null)}function gT(t){t.g=new Qu(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=_r(t.oa);$t(e,"RID","rpc"),$t(e,"SID",t.J),$t(e,"CI",t.N?"0":"1"),$t(e,"AID",t.U),Zu(t,e),$t(e,"TYPE","xmlhttp"),t.o&&t.s&&qg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ql(_r(e)),n.s=null,n.U=!0,zE(n,t)}X.ab=function(){this.v!=null&&(this.v=null,Hl(this),Kg(this),qe(19))};function Jc(t){t.v!=null&&(dt.clearTimeout(t.v),t.v=null)}function vT(t,e){var n=null;if(t.g==e){Jc(t),Hg(t),t.g=null;var i=2}else if(Mp(t.i,e))n=e.D,iT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=Fl(),_e(i,new KE(i,n,e,o)),Gl(t)}else pT(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&BO(t,e)||i==2&&Kg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Fi(t,5);break;case 4:Fi(t,10);break;case 3:Fi(t,6);break;default:Fi(t,2)}}}function mT(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Fi(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Te(t.jb,t);n||(n=new zi("//www.google.com/images/cleardot.gif"),dt.location&&dt.location.protocol=="http"||Qc(n,"https"),ql(n)),LO(n.toString(),i)}else qe(2);t.G=0,t.j&&t.j.va(e),yT(t),fT(t)}X.jb=function(t){t?(this.h.info("Successfully pinged google.com"),qe(2)):(this.h.info("Failed to ping google.com"),qe(1))};function yT(t){t.G=0,t.I=-1,t.j&&((oT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Eg(t.l),t.l.length=0),t.j.ua())}function wT(t,e,n){var i=TO(n);if(i.i!="")e&&Xc(i,e+"."+i.i),Yc(i,i.m);else{var o=dt.location;i=_O(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&Tg(t.aa,function(u,c){$t(i,c,u)}),e=t.D,n=t.sa,e&&n&&$t(i,e,n),$t(i,"VER",t.ma),Zu(t,i),i}function bT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new ae(new Yu({ib:!0})):new ae(t.qa),e.L=t.H,e}function IT(){}X=IT.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Oa=function(){};function Zc(){if($o&&!(10<=Number(eO)))throw Error("Environmental error: no available transport.")}Zc.prototype.g=function(t,e){return new pn(t,e)};function pn(t,e){me.call(this),this.g=new hT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!$c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$c(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ps(this)}Se(pn,me);pn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Dg(Te(t.hb,t,e))),qe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=wT(t,null,t.W),Gl(t)};pn.prototype.close=function(){Bg(this.g)};pn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Jd(this.g,e)}else this.v?(e={},e.__data__=Cg(t),Jd(this.g,e)):Jd(this.g,t)};pn.prototype.M=function(){this.g.j=null,delete this.j,Bg(this.g),delete this.g,pn.Z.M.call(this)};function ET(t){Pg.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Se(ET,Pg);function TT(){Lg.call(this),this.status=1}Se(TT,Lg);function ps(t){this.g=t}Se(ps,IT);ps.prototype.xa=function(){_e(this.g,"a")};ps.prototype.wa=function(t){_e(this.g,new ET(t))};ps.prototype.va=function(t){_e(this.g,new TT(t))};ps.prototype.ua=function(){_e(this.g,"b")};Zc.prototype.createWebChannel=Zc.prototype.g;pn.prototype.send=pn.prototype.u;pn.prototype.open=pn.prototype.m;pn.prototype.close=pn.prototype.close;jl.NO_ERROR=0;jl.TIMEOUT=8;jl.HTTP_ERROR=6;HE.COMPLETE="complete";GE.EventType=Wu;Wu.OPEN="a";Wu.CLOSE="b";Wu.ERROR="c";Wu.MESSAGE="d";me.prototype.listen=me.prototype.N;ae.prototype.listenOnce=ae.prototype.O;ae.prototype.getLastError=ae.prototype.La;ae.prototype.getLastErrorCode=ae.prototype.Da;ae.prototype.getStatus=ae.prototype.ba;ae.prototype.getResponseJson=ae.prototype.Qa;ae.prototype.getResponseText=ae.prototype.ga;ae.prototype.send=ae.prototype.ea;var KO=function(){return new Zc},HO=function(){return Fl()},Zd=jl,GO=HE,$O=Ji,cb={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zO=Yu,Ic=GE,WO=ae;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();ln.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ut(e,t),e}(Error),Mn=new wE("@firebase/firestore");function Fp(){return Mn.logLevel}function H(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mn.logLevel<=Ct.DEBUG){var i=e.map(Gg);Mn.debug.apply(Mn,Yt(["Firestore (8.10.1): "+t],i))}}function se(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mn.logLevel<=Ct.ERROR){var i=e.map(Gg);Mn.error.apply(Mn,Yt(["Firestore (8.10.1): "+t],i))}}function tl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mn.logLevel<=Ct.WARN){var i=e.map(Gg);Mn.warn.apply(Mn,Yt(["Firestore (8.10.1): "+t],i))}}function Gg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw se(e),new Error(e)}function lt(t,e){t||nt()}function Q(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=QO(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function It(t,e){return t<e?-1:t>e?1:0}function zo(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function ST(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),yt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Xe(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&nt(),i===void 0?i=e.length-n:i>e.length-n&&nt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),c=n.get(o);if(u<c)return-1;if(u>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),xt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,c=n;u<c.length;u++){var l=c[u];if(l.indexOf("//")>=0)throw new F(k.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(NT),XO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Un=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return XO.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,c=function(){if(o.length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new F(k.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[u+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new F(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(c(),u++)}if(c(),l)throw new F(k.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(NT),Wo=function(){function t(e){this.fields=e,e.sort(Un.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return zo(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Ye=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return It(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Ye.EMPTY_BYTE_STRING=new Ye("");var YO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(lt(!!t),typeof t=="string"){var e=0,n=YO.exec(t);if(lt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:oe(t.seconds),nanos:oe(t.nanos)}}function oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qo(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kT(t){var e=t.mapValue.fields.__previous_value__;return $g(e)?kT(e):e}function Pu(t){var e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){return t==null}function el(t){return t===0&&1/t==-1/0}function CT(t){return typeof t=="number"&&Number.isInteger(t)&&!el(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(xt.fromString(e))},t.fromName=function(e){return new t(xt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&xt.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return xt.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new xt(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$g(t)?4:10:nt()}function or(t,e){var n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pu(t).isEqual(Pu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=ei(i.timestampValue),c=ei(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qo(i.bytesValue).isEqual(Qo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return oe(i.geoPointValue.latitude)===oe(o.geoPointValue.latitude)&&oe(i.geoPointValue.longitude)===oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return oe(i.integerValue)===oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=oe(i.doubleValue),c=oe(o.doubleValue);return u===c?el(u)===el(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return zo(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:return function(i,o){var u=i.mapValue.fields||{},c=o.mapValue.fields||{};if(lb(u)!==lb(c))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(c[l]===void 0||!or(u[l],c[l])))return!1;return!0}(t,e);default:return nt()}}function Lu(t,e){return(t.values||[]).find(function(n){return or(n,e)})!==void 0}function Xo(t,e){var n=Wi(t),i=Wi(e);if(n!==i)return It(n,i);switch(n){case 0:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(o,u){var c=oe(o.integerValue||o.doubleValue),l=oe(u.integerValue||u.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return hb(t.timestampValue,e.timestampValue);case 4:return hb(Pu(t),Pu(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(o,u){var c=Qo(o),l=Qo(u);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var c=o.split("/"),l=u.split("/"),f=0;f<c.length&&f<l.length;f++){var p=It(c[f],l[f]);if(p!==0)return p}return It(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var c=It(oe(o.latitude),oe(u.latitude));return c!==0?c:It(oe(o.longitude),oe(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var c=o.values||[],l=u.values||[],f=0;f<c.length&&f<l.length;++f){var p=Xo(c[f],l[f]);if(p)return p}return It(c.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var c=o.fields||{},l=Object.keys(c),f=u.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var y=It(l[g],p[g]);if(y!==0)return y;var w=Xo(c[l[g]],f[p[g]]);if(w!==0)return w}return It(l.length,p.length)}(t.mapValue,e.mapValue);default:throw nt()}}function hb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);var n=ei(t),i=ei(e),o=It(n.seconds,i.seconds);return o!==0?o:It(n.nanos,i.nanos)}function zg(t){return jp(t)}function jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=ei(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,rt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,c=0,l=i.values||[];c<l.length;c++)u?u=!1:o+=",",o+=jp(l[c]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,c=0,l=Object.keys(i.fields||{}).sort();c<l.length;c++){var f=l[c];u?u=!1:o+=",",o+=f+":"+jp(i.fields[f])}return o+"}"}(t.mapValue):nt();var e,n}function nl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Up(t){return!!t&&"integerValue"in t}function Wg(t){return!!t&&"arrayValue"in t}function fb(t){return!!t&&"nullValue"in t}function db(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rc(t){return!!t&&"mapValue"in t}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=yu(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=yu(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Rc(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)},t.prototype.setAll=function(e){var n=this,i=Un.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var p=n.getFieldsMap(i);n.applyChanges(p,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=yu(l):u.push(f.lastSegment())});var c=this.getFieldsMap(i);this.applyChanges(c,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return or(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Zi(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var c=u[o];delete e[c]}},t.prototype.clone=function(){return new t(yu(this.value))},t}();function DT(t){var e=[];return Zi(t.fields,function(n,i){var o=new Un([n]);if(Rc(i)){var u=DT(i.mapValue).fields;if(u.length===0)e.push(o);else for(var c=0,l=u;c<l.length;c++){var f=l[c];e.push(o.child(f))}}else e.push(o)}),new Wo(e)}var Re=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,yt.min(),cn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,cn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,cn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),JO=function(t,e,n,i,o,u,c){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=c,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t,e,n,i,o,u,c){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),c===void 0&&(c=null),new JO(t,e,n,i,o,u,c)}function ta(t){var e=Q(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+zg(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),to(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=il(e.startAt)),e.endAt&&(n+="|ub:",n+=il(e.endAt)),e.h=n}return e.h}function $l(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!or(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vb(t.startAt,e.startAt)&&vb(t.endAt,e.endAt)}function rl(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var hn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return ut(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new ZO(n,i,o):i==="array-contains"?new nR(n,o):i==="in"?new rR(n,o):i==="not-in"?new iR(n,o):i==="array-contains-any"?new oR(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new tR(n,o):new eR(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Xo(i,this.value)):i!==null&&Wi(this.value)===Wi(i)&&this.m(Xo(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return nt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ZO=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=rt.fromName(o.referenceValue),u}return ut(e,t),e.prototype.matches=function(n){var i=rt.comparator(n.key,this.key);return this.m(i)},e}(hn),tR=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=xT("in",i),o}return ut(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(hn),eR=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=xT("not-in",i),o}return ut(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(hn);function xT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return rt.fromName(i.referenceValue)})}var nR=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return ut(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return Wg(i)&&Lu(i.arrayValue,this.value)},e}(hn),rR=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return ut(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Lu(this.value.arrayValue,i)},e}(hn),iR=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return ut(e,t),e.prototype.matches=function(n){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Lu(this.value.arrayValue,i)},e}(hn),oR=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return ut(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Wg(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Lu(i.value.arrayValue,u)})},e}(hn),Mu=function(t,e){this.position=t,this.before=e};function il(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return zg(e)}).join(",")}var Ko=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function sR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gb(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],c=t.position[o];if(i=u.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),n.key):Xo(c,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function vb(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar=function(t,e,n,i,o,u,c,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),c===void 0&&(c=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function OT(t,e,n,i,o,u,c,l){return new Ar(t,e,n,i,o,u,c,l)}function ea(t){return new Ar(t)}function Pc(t){return!to(t.limit)&&t.limitType==="F"}function ol(t){return!to(t.limit)&&t.limitType==="L"}function Qg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Xg(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function Yg(t){return t.collectionGroup!==null}function Yo(t){var e=Q(t);if(e.p===null){e.p=[];var n=Xg(e),i=Qg(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new Ko(n)),e.p.push(new Ko(Un.keyField(),"asc"));else{for(var o=!1,u=0,c=e.explicitOrderBy;u<c.length;u++){var l=c[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ko(Un.keyField(),f))}}}return e.p}function sr(t){var e=Q(t);if(!e.T)if(e.limitType==="F")e.T=pb(e.path,e.collectionGroup,Yo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=Yo(e);i<o.length;i++){var u=o[i],c=u.dir==="desc"?"asc":"desc";n.push(new Ko(u.field,c))}var l=e.endAt?new Mu(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Mu(e.startAt.position,!e.startAt.before):null;e.T=pb(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function RT(t,e,n){return new Ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function na(t,e){return $l(sr(t),sr(e))&&t.limitType===e.limitType}function PT(t){return ta(sr(t))+"|lt:"+t.limitType}function Vp(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+zg(o.value);var o}).join(", ")+"]"),to(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+il(e.startAt)),e.endAt&&(n+=", endAt: "+il(e.endAt)),"Target("+n+")"}(sr(t))+"; limitType="+t.limitType+")"}function ra(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):rt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var c=u[o];if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!gb(n.startAt,Yo(n),i))&&(!n.endAt||!gb(n.endAt,Yo(n),i))}(t,e)}function LT(t){return function(e,n){for(var i=!1,o=0,u=Yo(t);o<u.length;o++){var c=u[o],l=uR(c,e,n);if(l!==0)return l;i=i||c.field.isKeyField()}return 0}}function uR(t,e,n){var i=t.field.isKeyField()?rt.comparator(e.key,n.key):function(o,u,c){var l=u.data.field(o),f=c.data.field(o);return l!==null&&f!==null?Xo(l,f):nt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return nt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:el(e)?"-0":e}}function FT(t){return{integerValue:""+t}}function jT(t,e){return CT(e)?FT(e):MT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zl=function(){this._=void 0};function aR(t,e,n){return t instanceof Jo?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Qi?VT(t,e):t instanceof Xi?qT(t,e):function(i,o){var u=UT(i,o),c=mb(u)+mb(i.A);return Up(u)&&Up(i.A)?FT(c):MT(i.R,c)}(t,e)}function cR(t,e,n){return t instanceof Qi?VT(t,e):t instanceof Xi?qT(t,e):n}function UT(t,e){return t instanceof Zo?Up(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Jo=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e}(zl),Qi=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return ut(e,t),e}(zl);function VT(t,e){for(var n=BT(e),i=function(c){n.some(function(l){return or(l,c)})||n.push(c)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Xi=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return ut(e,t),e}(zl);function qT(t,e){for(var n=BT(e),i=function(c){n=n.filter(function(l){return!or(l,c)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Zo=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return ut(e,t),e}(zl);function mb(t){return oe(t.integerValue||t.doubleValue)}function BT(t){return Wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia=function(t,e){this.field=t,this.transform=e},lR=function(t,e){this.version=t,this.transformResults=e},De=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Wl=function(){};function hR(t,e,n){t instanceof oa?function(i,o,u){var c=i.value.clone(),l=bb(i.fieldTransforms,o,u.transformResults);c.setAll(l),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(i,o,u){if(Lc(i.precondition,o)){var c=bb(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(KT(i)),l.setAll(c),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function qp(t,e,n){t instanceof oa?function(i,o,u){if(Lc(i.precondition,o)){var c=i.value.clone(),l=Ib(i.fieldTransforms,u,o);c.setAll(l),o.convertToFoundDocument(wb(o),c).setHasLocalMutations()}}(t,e,n):t instanceof oi?function(i,o,u){if(Lc(i.precondition,o)){var c=Ib(i.fieldTransforms,u,o),l=o.data;l.setAll(KT(i)),l.setAll(c),o.convertToFoundDocument(wb(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Lc(i.precondition,o)&&o.convertToNoDocument(yt.min())}(t,e)}function fR(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],c=e.data.field(u.field),l=UT(u.transform,c||null);l!=null&&(n==null&&(n=cn.empty()),n.set(u.field,l))}return n||null}function yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&zo(n,i,function(o,u){return function(c,l){return c.field.isEqual(l.field)&&function(f,p){return f instanceof Qi&&p instanceof Qi||f instanceof Xi&&p instanceof Xi?zo(f.elements,p.elements,or):f instanceof Zo&&p instanceof Zo?or(f.A,p.A):f instanceof Jo&&p instanceof Jo}(c.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function wb(t){return t.isFoundDocument()?t.version:yt.min()}var oa=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var c=this;return(c=t.call(this)||this).key=n,c.value=i,c.precondition=o,c.fieldTransforms=u,c.type=0,c}return ut(e,t),e}(Wl),oi=function(t){function e(n,i,o,u,c){c===void 0&&(c=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=c,l.type=1,l}return ut(e,t),e}(Wl);function KT(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function bb(t,e,n){var i=new Map;lt(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],c=u.transform,l=e.data.field(u.field);i.set(u.field,cR(c,l,n[o]))}return i}function Ib(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var c=u[o],l=c.transform,f=n.data.field(c.field);i.set(c.field,aR(l,f,e))}return i}var ie,Tt,sa=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return ut(e,t),e}(Wl),Jg=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return ut(e,t),e}(Wl),dR=function(t){this.count=t};function HT(t){switch(t){case k.OK:return nt();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return nt()}}function GT(t){if(t===void 0)return se("GRPC error has no .code"),k.UNKNOWN;switch(t){case ie.OK:return k.OK;case ie.CANCELLED:return k.CANCELLED;case ie.UNKNOWN:return k.UNKNOWN;case ie.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ie.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ie.INTERNAL:return k.INTERNAL;case ie.UNAVAILABLE:return k.UNAVAILABLE;case ie.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ie.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ie.NOT_FOUND:return k.NOT_FOUND;case ie.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ie.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ie.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ie.ABORTED:return k.ABORTED;case ie.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ie.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ie.DATA_LOSS:return k.DATA_LOSS;default:return nt()}}(Tt=ie||(ie={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe=function(){function t(e,n){this.comparator=e,this.root=n||Gr.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gr.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gr.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Ec(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Ec(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ec(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Ec(this.root,e,this.comparator,!0)},t}(),Ec=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Gr=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i!=null?i:t.RED,this.left=o!=null?o:t.EMPTY,this.right=u!=null?u:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,o!=null?o:this.left,u!=null?u:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();var e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)},t}();Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1,Gr.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw nt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new Gr(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he=function(){function t(e){this.comparator=e,this.data=new Pe(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new Eb(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new Eb(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Eb=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pR=new Pe(rt.comparator);function Fn(){return pR}var gR=new Pe(rt.comparator);function Bp(){return gR}var vR=new Pe(rt.comparator);function mR(){return vR}var yR=new he(rt.comparator);function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=yR,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var wR=new he(It);function Ql(){return wR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zg=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,tv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(yt.min(),i,Ql(),Fn(),Vt())},t}(),tv=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ye.EMPTY_BYTE_STRING,n,Vt(),Vt(),Vt())},t}(),Mc=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},$T=function(t,e){this.targetId=t,this.V=e},zT=function(t,e,n,i){n===void 0&&(n=Ye.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Tb=function(){function t(){this.S=0,this.D=Sb(),this.C=Ye.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Vt(),n=Vt(),i=Vt();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:nt()}}),new tv(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=Sb()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),bR=function(){function t(e){this.W=e,this.G=new Map,this.H=Fn(),this.J=_b(),this.Y=new he(It)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,c=e.removedTargetIds;u<c.length;u++)o=c[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:nt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(rl(u))if(i===0){var c=new rt(u.path);this.tt(n,c,Re.newNoDocument(c,yt.min()))}else lt(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(c,l){var f=n.ot(l);if(f){if(c.current&&rl(f.target)){var p=new rt(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,Re.newNoDocument(p,e))}c.$&&(i.set(l,c.M()),c.L())}});var o=Vt();this.J.forEach(function(c,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(c))});var u=new Zg(e,i,this.Y,this.H,o);return this.H=Fn(),this.J=_b(),this.Y=new he(It),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new Tb,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new he(It),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new Tb),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function _b(){return new Pe(rt.comparator)}function Sb(){return new Pe(rt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR=function(t,e){this.databaseId=t,this.I=e};function Fu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function WT(t,e){return t.I?e.toBase64():e.toUint8Array()}function _R(t,e){return Fu(t,e.toTimestamp())}function Be(t){return lt(!!t),yt.fromTimestamp(function(e){var n=ei(e);return new Xe(n.seconds,n.nanos)}(t))}function ev(t,e){return function(n){return new xt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function QT(t){var e=xt.fromString(t);return lt(n_(e)),e}function ju(t,e){return ev(t.databaseId,e.path)}function br(t,e){var n=QT(e);if(n.get(1)!==t.databaseId.projectId)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(YT(n))}function Kp(t,e){return ev(t.databaseId,e)}function XT(t){var e=QT(t);return e.length===4?xt.emptyPath():YT(e)}function Uu(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YT(t){return lt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ab(t,e,n){return{name:ju(t,e),fields:n.value.mapValue.fields}}function SR(t,e,n){var i=br(t,e.name),o=Be(e.updateTime),u=new cn({mapValue:{fields:e.fields}}),c=Re.newFoundDocument(i,o,u);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function sl(t,e){var n;if(e instanceof oa)n={update:Ab(t,e.key,e.value)};else if(e instanceof sa)n={delete:ju(t,e.key)};else if(e instanceof oi)n={update:Ab(t,e.key,e.data),updateMask:DR(e.fieldMask)};else{if(!(e instanceof Jg))return nt();n={verify:ju(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var c=u.transform;if(c instanceof Jo)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qi)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xi)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zo)return{fieldPath:u.field.canonicalString(),increment:c.A};throw nt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_R(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nt()}(t,e.precondition)),n}function Nb(t,e){var n=e.currentDocument?function(p){return p.updateTime!==void 0?De.updateTime(Be(p.updateTime)):p.exists!==void 0?De.exists(p.exists):De.none()}(e.currentDocument):De.none(),i=e.updateTransforms?e.updateTransforms.map(function(p){return function(g,y){var w=null;if("setToServerValue"in y)lt(y.setToServerValue==="REQUEST_TIME"),w=new Jo;else if("appendMissingElements"in y){var I=y.appendMissingElements.values||[];w=new Qi(I)}else if("removeAllFromArray"in y){var T=y.removeAllFromArray.values||[];w=new Xi(T)}else"increment"in y?w=new Zo(g,y.increment):nt();var A=Un.fromServerFormat(y.fieldPath);return new ia(A,w)}(t,p)}):[];if(e.update){e.update.name;var o=br(t,e.update.name),u=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){var c=function(p){var g=p.fieldPaths||[];return new Wo(g.map(function(y){return Un.fromServerFormat(y)}))}(e.updateMask);return new oi(o,u,c,n,i)}return new oa(o,u,n,i)}if(e.delete){var l=br(t,e.delete);return new sa(l,n)}if(e.verify){var f=br(t,e.verify);return new Jg(f,n)}return nt()}function JT(t,e){return{documents:[Kp(t,e.path)]}}function ZT(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Kp(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Kp(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if(db(g.value))return{unaryFilter:{field:Do(g.field),op:"IS_NAN"}};if(fb(g.value))return{unaryFilter:{field:Do(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(db(g.value))return{unaryFilter:{field:Do(g.field),op:"IS_NOT_NAN"}};if(fb(g.value))return{unaryFilter:{field:Do(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(g.field),op:NR(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Do(p.field),direction:AR(p.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var c=function(l,f){return l.I||to(f)?f:{value:f}}(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=kb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kb(e.endAt)),n}function t_(t){var e=XT(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){lt(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var c=[];n.where&&(c=e_(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(y){return function(w){return new Ko(Uo(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y)}));var f=null;n.limit&&(f=function(y){var w;return to(w=typeof y=="object"?y.value:y)?null:w}(n.limit));var p=null;n.startAt&&(p=Cb(n.startAt));var g=null;return n.endAt&&(g=Cb(n.endAt)),OT(e,o,l,c,f,"F",p,g)}function e_(t){return t?t.unaryFilter!==void 0?[CR(t)]:t.fieldFilter!==void 0?[kR(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return e_(e)}).reduce(function(e,n){return e.concat(n)}):nt():[]}function kb(t){return{before:t.before,values:t.position}}function Cb(t){var e=!!t.before,n=t.values||[];return new Mu(n,e)}function AR(t){return IR[t]}function NR(t){return ER[t]}function Do(t){return{fieldPath:t.canonicalString()}}function Uo(t){return Un.fromServerFormat(t.fieldPath)}function kR(t){return hn.create(Uo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return nt()}}(t.fieldFilter.op),t.fieldFilter.value)}function CR(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Uo(t.unaryFilter.field);return hn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Uo(t.unaryFilter.field);return hn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Uo(t.unaryFilter.field);return hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Uo(t.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return nt()}}function DR(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function n_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Db(e)),e=xR(t.get(n),e);return Db(e)}function xR(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Db(t){return t+""}function mr(t){var e=t.length;if(lt(e>=2),e===2)return lt(t.charAt(0)===""&&t.charAt(1)===""),xt.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var c=t.indexOf("",u);switch((c<0||c>n)&&nt(),t.charAt(c+1)){case"":var l=t.substring(u,c),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,c),o+="\0";break;case"":o+=t.substring(u,c+1);break;default:nt()}u=c+2}return new xt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OR=function(t,e){this.seconds=t,this.nanoseconds=e},sn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sn.store="owner",sn.key="owner";var Yr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Yr.store="mutationQueues",Yr.keyPath="userId";var Kt=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};Kt.store="mutations",Kt.keyPath="batchId",Kt.userMutationsIndex="userMutationsIndex",Kt.userMutationsKeyPath=["userId","batchId"];var ke=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,jn(n)]},t.key=function(e,n,i){return[e,jn(n),i]},t}();ke.store="documentMutations",ke.PLACEHOLDER=new ke;var RR=function(t,e){this.path=t,this.readTime=e},PR=function(t,e){this.path=t,this.version=e},Xt=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Xt.store="remoteDocuments",Xt.readTimeIndex="readTimeIndex",Xt.readTimeIndexPath="readTime",Xt.collectionReadTimeIndex="collectionReadTimeIndex",Xt.collectionReadTimeIndexPath=["parentPath","readTime"];var er=function(t){this.byteSize=t};er.store="remoteDocumentGlobal",er.key="remoteDocumentGlobalKey";var Qe=function(t,e,n,i,o,u,c){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=c};Qe.store="targets",Qe.keyPath="targetId",Qe.queryTargetsIndexName="queryTargetsIndex",Qe.queryTargetsKeyPath=["canonicalId","targetId"];var Ee=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ee.store="targetDocuments",Ee.keyPath=["targetId","path"],Ee.documentTargetsIndex="documentTargetsIndex",Ee.documentTargetsKeyPath=["path","targetId"];var un=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};un.key="targetGlobalKey",un.store="targetGlobal";var Bi=function(t,e){this.collectionId=t,this.parent=e};Bi.store="collectionParents",Bi.keyPath=["collectionId","parent"];var Ir=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Ir.store="clientMetadata",Ir.keyPath="clientId";var ts=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ts.store="bundles",ts.keyPath="bundleId";var es=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};es.store="namedQueries",es.keyPath="name";var LR=Yt(Yt([],Yt(Yt([],Yt(Yt([],Yt(Yt([],[Yr.store,Kt.store,ke.store,Xt.store,Qe.store,sn.store,un.store,Ee.store]),[Ir.store])),[er.store])),[Bi.store])),[ts.store,es.store]),r_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",i_=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Je=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},U=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(c){i.wrapSuccess(e,c).next(o,u)},i.catchCallback=function(c){i.wrapFailure(n,c).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,c=!1;e.forEach(function(l){++o,l.next(function(){++u,c&&u===o&&n()},function(f){return i(f)})}),c=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(c){n=n.next(function(l){return l?t.resolve(l):c()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,c){o.push(n.call(i,u,c))}),this.waitFor(o)},t}(),o_=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Je,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new wu(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=nv(o.target.error);i.ft.reject(new wu(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new wu(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(H("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new FR(n)},t}(),ns=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(Gi())===12.2&&se("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return H("SimpleDb","Removing database:",e),Pi(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB=="undefined")return!1;if(t.gt())return!0;var e=Gi(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return M(this,void 0,void 0,function(){var n,i=this;return R(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(H("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,c){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var p=f.target.result;u(p)},l.onblocked=function(){c(new wu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?c(new F(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new wu(e,p))},l.onupgradeneeded=function(f){H("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;i.wt.Rt(p,l.transaction,f.oldVersion,i.version).next(function(){H("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return M(this,void 0,void 0,function(){var u,c,l,f,p;return R(this,function(g){switch(g.label){case 0:u=n==="readonly",c=0,l=function(){var y,w,I,T,A;return R(this,function(N){switch(N.label){case 0:++c,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=N.sent(),y=o_.open(f.db,e,u?"readonly":"readwrite",i),w=o(y).catch(function(x){return y.abort(x),U.reject(x)}).toPromise(),I={},w.catch(function(){}),[4,y.dt];case 3:return[2,(I.value=(N.sent(),w),I)];case 4:return T=N.sent(),A=T.name!=="FirebaseError"&&c<3,H("SimpleDb","Transaction failed with error:",T.message,"Retrying:",A),f.close(),A?[3,5]:[2,{value:Promise.reject(T)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),MR=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Pi(this.Pt.delete())},t}(),wu=function(t){function e(n,i){var o=this;return(o=t.call(this,k.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return ut(e,t),e}(F);function eo(t){return t.name==="IndexedDbTransactionError"}var FR=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(H("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Pi(i)},t.prototype.add=function(e){return H("SimpleDb","ADD",this.store.name,e,e),Pi(this.store.add(e))},t.prototype.get=function(e){var n=this;return Pi(this.store.get(e)).next(function(i){return i===void 0&&(i=null),H("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return H("SimpleDb","DELETE",this.store.name,e),Pi(this.store.delete(e))},t.prototype.count=function(){return H("SimpleDb","COUNT",this.store.name),Pi(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,c){o.push(c)}).next(function(){return o})},t.prototype.kt=function(e,n){H("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,c,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new U(function(i,o){n.onerror=function(u){var c=nv(u.target.error);o(c)},n.onsuccess=function(u){var c=u.target.result;c?e(c.primaryKey,c.value).next(function(l){l?c.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new U(function(o,u){e.onerror=function(c){u(c.target.error)},e.onsuccess=function(c){var l=c.target.result;if(l){var f=new MR(l),p=n(l.primaryKey,l.value,f);if(p instanceof U){var g=p.catch(function(y){return f.done(),U.reject(y)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return U.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Pi(t){return new U(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=nv(i.target.error);n(o)}})}var xb=!1;function nv(t){var e=ns._t(Gi());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xb||(xb=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return ut(e,t),e}(i_);function Ze(t,e){var n=Q(t);return ns.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rv=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&hR(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(c=i[n]).key.isEqual(e.key)&&qp(c,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var c;(c=u[o]).key.isEqual(e.key)&&qp(c,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(yt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Vt())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,function(n,i){return yb(n,i)})&&zo(this.baseMutations,e.baseMutations,function(n,i){return yb(n,i)})},t}(),jR=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){lt(e.mutations.length===i.length);for(var o=mR(),u=e.mutations,c=0;c<u.length;c++)o=o.insert(u[c].key,i[c].version);return new t(e,n,i,o)},t}(),Xl=function(){function t(e,n,i,o,u,c,l){u===void 0&&(u=yt.min()),c===void 0&&(c=yt.min()),l===void 0&&(l=Ye.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),s_=function(t){this.Lt=t};function Hp(t,e){if(e.document)return SR(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=rt.fromSegments(e.noDocument.path),i=is(e.noDocument.readTime),o=Re.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=rt.fromSegments(e.unknownDocument.path);return i=is(e.unknownDocument.version),Re.newUnknownDocument(u,i)}return nt()}function Rb(t,e,n){var i=iv(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(y,w){return{name:ju(y,w.key),fields:w.data.value.mapValue.fields,updateTime:Fu(y,w.version.toTimestamp())}}(t.Lt,e),c=e.hasCommittedMutations;return new Xt(null,null,u,c,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=rs(e.version);return c=e.hasCommittedMutations,new Xt(null,new RR(l,f),null,c,i,o)}if(e.isUnknownDocument()){var p=e.key.path.toArray(),g=rs(e.version);return new Xt(new PR(p,g),null,null,!0,i,o)}return nt()}function iv(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function u_(t){var e=new Xe(t[0],t[1]);return yt.fromTimestamp(e)}function rs(t){var e=t.toTimestamp();return new OR(e.seconds,e.nanoseconds)}function is(t){var e=new Xe(t.seconds,t.nanoseconds);return yt.fromTimestamp(e)}function Mo(t,e){for(var n=(e.baseMutations||[]).map(function(f){return Nb(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var c=e.mutations.map(function(f){return Nb(t.Lt,f)}),l=Xe.fromMillis(e.localWriteTimeMs);return new rv(e.batchId,l,n,c)}function fu(t){var e,n,i=is(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?is(t.lastLimboFreeSnapshotVersion):yt.min();return t.query.documents!==void 0?(lt((n=t.query).documents.length===1),e=sr(ea(XT(n.documents[0])))):e=function(u){return sr(t_(u))}(t.query),new Xl(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Ye.fromBase64String(t.resumeToken))}function a_(t,e){var n,i=rs(e.snapshotVersion),o=rs(e.lastLimboFreeSnapshotVersion);n=rl(e.target)?JT(t.Lt,e.target):ZT(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Qe(e.targetId,ta(e.target),i,u,e.sequenceNumber,o,n)}function c_(t){var e=t_({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?RT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UR=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return Pb(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:is(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return Pb(e).put({bundleId:(i=n).id,createTime:rs(Be(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return Lb(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:c_(o.bundledQuery),readTime:is(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return Lb(e).put(function(i){return{name:i.name,readTime:rs(Be(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function Pb(t){return Ze(t,ts.store)}function Lb(t){return Ze(t,es.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VR=function(){function t(){this.Bt=new ov}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),U.resolve()},t.prototype.getCollectionParents=function(e,n){return U.resolve(this.Bt.getEntries(n))},t}(),ov=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new he(xt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new he(xt.comparator)).toArray()},t}(),qR=function(){function t(){this.qt=new ov}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var c={collectionId:o,parent:jn(u)};return Mb(e).put(c)}return U.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[ST(n),""],!1,!0);return Mb(e).Nt(o).next(function(u){for(var c=0,l=u;c<l.length;c++){var f=l[c];if(f.collectionId!==n)break;i.push(mr(f.parent))}return i})},t}();function Mb(t){return Ze(t,Bi.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yn=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e,n){var i=t.store(Kt.store),o=t.store(ke.store),u=[],c=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:c},function(T,A,N){return l++,N.delete()});u.push(f.next(function(){lt(l===1)}));for(var p=[],g=0,y=n.mutations;g<y.length;g++){var w=y[g],I=ke.key(e,w.key.path,n.batchId);u.push(o.delete(I)),p.push(w.key)}return U.waitFor(u).next(function(){return p})}function ul(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw nt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);var BR=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return lt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).$t({index:Kt.userMutationsIndex,range:i},function(o,u,c){n=!1,c.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,c=Fo(e),l=Vr(e);return l.add({}).next(function(f){lt(typeof f=="number");for(var p=new rv(f,n,i,o),g=function(x,$,B){var J=B.baseMutations.map(function(K){return sl(x.Lt,K)}),at=B.mutations.map(function(K){return sl(x.Lt,K)});return new Kt($,B.batchId,B.localWriteTime.toMillis(),J,at)}(u.R,u.userId,p),y=[],w=new he(function(x,$){return It(x.canonicalString(),$.canonicalString())}),I=0,T=o;I<T.length;I++){var A=T[I],N=ke.key(u.userId,A.key.path,f);w=w.add(A.key.path.popLast()),y.push(l.put(g)),y.push(c.put(N,ke.PLACEHOLDER))}return w.forEach(function(x){y.push(u.Ut.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(function(){u.Kt[f]=p.keys()}),U.waitFor(y).next(function(){return p})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return Vr(e).get(n).next(function(o){return o?(lt(o.userId===i.userId),Mo(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?U.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),c=null;return Vr(e).$t({index:Kt.userMutationsIndex,range:u},function(l,f,p){f.userId===i.userId&&(lt(f.batchId>=o),c=Mo(i.R,f)),p.done()}).next(function(){return c})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Vr(e).$t({index:Kt.userMutationsIndex,range:n,reverse:!0},function(o,u,c){i=u.batchId,c.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).Nt(Kt.userMutationsIndex,i).next(function(o){return o.map(function(u){return Mo(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=ke.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),c=[];return Fo(e).$t({range:u},function(l,f,p){var g=l[0],y=l[1],w=l[2],I=mr(y);if(g===i.userId&&n.path.isEqual(I))return Vr(e).get(w).next(function(T){if(!T)throw nt();lt(T.userId===i.userId),c.push(Mo(i.R,T))});p.done()}).next(function(){return c})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new he(It),u=[];return n.forEach(function(c){var l=ke.prefixForPath(i.userId,c.path),f=IDBKeyRange.lowerBound(l),p=Fo(e).$t({range:f},function(g,y,w){var I=g[0],T=g[1],A=g[2],N=mr(T);I===i.userId&&c.path.isEqual(N)?o=o.add(A):w.done()});u.push(p)}),U.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,c=ke.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(c),f=new he(It);return Fo(e).$t({range:l},function(p,g,y){var w=p[0],I=p[1],T=p[2],A=mr(I);w===i.userId&&o.isPrefixOf(A)?A.length===u&&(f=f.add(T)):y.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(c){u.push(Vr(e).get(c).next(function(l){if(l===null)throw nt();lt(l.userId===i.userId),o.push(Mo(i.R,l))}))}),U.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return l_(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),U.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return U.resolve();var o=IDBKeyRange.lowerBound(ke.prefixForUser(n.userId)),u=[];return Fo(e).$t({range:o},function(c,l,f){if(c[0]===n.userId){var p=mr(c[1]);u.push(p)}else f.done()}).next(function(){lt(u.length===0)})})},t.prototype.containsKey=function(e,n){return h_(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return f_(e).get(this.userId).next(function(i){return i||new Yr(n.userId,-1,"")})},t}();function h_(t,e,n){var i=ke.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),c=!1;return Fo(t).$t({range:u,Ft:!0},function(l,f,p){var g=l[0],y=l[1];l[2],g===e&&y===o&&(c=!0),p.done()}).next(function(){return c})}function Vr(t){return Ze(t,Kt.store)}function Fo(t){return Ze(t,ke.store)}function f_(t){return Ze(t,Yr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var al=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),KR=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new al(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return yt.fromTimestamp(new Xe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return xo(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return lt(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,c=[];return xo(e).$t(function(l,f){var p=fu(f);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(u++,c.push(o.removeTargetData(e,p)))}).next(function(){return U.waitFor(c)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return xo(e).$t(function(i,o){var u=fu(o);n(u)})},t.prototype.Xt=function(e){return jb(e).get(un.key).next(function(n){return lt(n!==null),n})},t.prototype.Zt=function(e,n){return jb(e).put(un.key,n)},t.prototype.te=function(e,n){return xo(e).put(a_(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=ta(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return xo(e).$t({range:o,index:Qe.queryTargetsIndexName},function(c,l,f){var p=fu(l);$l(n,p.target)&&(u=p,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],c=$r(e);return n.forEach(function(l){var f=jn(l.path);u.push(c.put(new Ee(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),U.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=$r(e);return U.forEach(n,function(c){var l=jn(c.path);return U.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,c)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=$r(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=$r(e),u=Vt();return o.$t({range:i,Ft:!0},function(c,l,f){var p=mr(c[1]),g=new rt(p);u=u.add(g)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=jn(n.path),o=IDBKeyRange.bound([i],[ST(i)],!1,!0),u=0;return $r(e).$t({index:Ee.documentTargetsIndex,Ft:!0,range:o},function(c,l,f){var p=c[0];c[1],p!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return xo(e).get(n).next(function(i){return i?fu(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){return Ze(t,Qe.store)}function jb(t){return Ze(t,un.store)}function $r(t){return Ze(t,Ee.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return M(this,void 0,void 0,function(){return R(this,function(e){if(t.code!==k.FAILED_PRECONDITION||t.message!==r_)throw t;return H("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],c=It(n,o);return c===0?It(i,u):c}var HR=function(){function t(e){this.ne=e,this.buffer=new he(Ub),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();Ub(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),GR=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;H("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return M(n,void 0,void 0,function(){var o;return R(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return eo(o=u.sent())?(H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,no(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),$R=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return U.resolve(ln.o);var o=new HR(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Fb)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),Fb):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,c,l,f,p,g=this,y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(w){return w>g.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+w),o=g.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),g.nthSequenceNumber(e,o)}).next(function(w){return i=w,l=Date.now(),g.removeTargets(e,i,n)}).next(function(w){return u=w,f=Date.now(),g.removeOrphanedDocuments(e,i)}).next(function(w){return p=Date.now(),Fp()<=Ct.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-y)+`ms
	Determined least recently used `+o+" in "+(l-c)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+w+" documents in "+(p-f)+`ms
Total Duration: `+(p-y)+"ms"),U.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})})},t}(),zR=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new $R(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return Tc(e,i)},t.prototype.removeReference=function(e,n,i){return Tc(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return Tc(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return f_(i).Ot(function(c){return h_(i,c,o).next(function(l){return l&&(u=!0),U.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],c=0;return this.we(e,function(l,f){if(f<=n){var p=i._e(e,l).next(function(g){if(!g)return c++,o.getEntry(e,l).next(function(){return o.removeEntry(l),$r(e).delete([0,jn(l.path)])})});u.push(p)}}).next(function(){return U.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return c})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return Tc(e,n)},t.prototype.we=function(e,n){var i,o=$r(e),u=ln.o;return o.$t({index:Ee.documentTargetsIndex},function(c,l){var f=c[0];c[1];var p=l.path,g=l.sequenceNumber;f===0?(u!==ln.o&&n(new rt(mr(i)),u),u=g,i=p):u=ln.o}).next(function(){u!==ln.o&&n(new rt(mr(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Tc(t,e){return $r(t).put(function(n,i){return new Ee(0,jn(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var c=u[o],l=c[0],f=c[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Zi(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var c=u[o],l=c[0],f=c[1];e(l,f)}})},t.prototype.isEmpty=function(){return AT(this.inner)},t}(),d_=function(){function t(){this.changes=new gs(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:yt.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Re.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?U.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),WR=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return Hr(e).put(_c(n),i)},t.prototype.removeEntry=function(e,n){var i=Hr(e),o=_c(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return Hr(e).get(_c(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return Hr(e).get(_c(n)).next(function(o){return{document:i.ye(n,o),size:ul(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=Fn();return this.pe(e,n,function(u,c){var l=i.ye(u,c);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=Fn(),u=new Pe(rt.comparator);return this.pe(e,n,function(c,l){var f=i.ye(c,l);o=o.insert(c,f),u=u.insert(c,ul(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return U.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),c=u.getNext();return Hr(e).$t({range:o},function(l,f,p){for(var g=rt.fromSegments(l);c&&rt.comparator(c,g)<0;)i(c,null),c=u.getNext();c&&c.isEqual(g)&&(i(c,f),c=u.hasNext()?u.getNext():null),c?p.Ct(c.path.toArray()):p.done()}).next(function(){for(;c;)i(c,null),c=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=Fn(),c=n.path.length+1,l={};if(i.isEqual(yt.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=iv(i);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=Xt.collectionReadTimeIndex}return Hr(e).$t(l,function(y,w,I){if(y.length===c){var T=Hp(o.R,w);n.path.isPrefixOf(T.key.path)?ra(n,T)&&(u=u.insert(T.key,T)):I.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new QR(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return Vb(e).get(er.key).next(function(n){return lt(!!n),n})},t.prototype.me=function(e,n){return Vb(e).put(er.key,n)},t.prototype.ye=function(e,n){if(n){var i=Hp(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(yt.min()))return i}return Re.newInvalidDocument(e)},t}(),QR=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new gs(function(u){return u.toString()},function(u,c){return u.isEqual(c)}),o}return ut(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,c=new he(function(l,f){return It(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=i.Ae.get(l);if(f.document.isValidDocument()){var g=Rb(i.Ie.R,f.document,i.getReadTime(l));c=c.add(l.path.popLast());var y=ul(g);u+=y-p,o.push(i.Ie.addEntry(n,l,g))}else if(u-=p,i.trackRemovals){var w=Rb(i.Ie.R,Re.newNoDocument(l,yt.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,w))}else o.push(i.Ie.removeEntry(n,l))}),c.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),U.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var c=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),c})},e}(d_);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){return Ze(t,er.store)}function Hr(t){return Ze(t,Xt.store)}function _c(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XR=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;lt(i<o&&i>=0&&o<=11);var c=new o_("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(sn.store)}(e),function(f){f.createObjectStore(Yr.store,{keyPath:Yr.keyPath}),f.createObjectStore(Kt.store,{keyPath:Kt.keyPath,autoIncrement:!0}).createIndex(Kt.userMutationsIndex,Kt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(ke.store)}(e),qb(e),function(f){f.createObjectStore(Xt.store)}(e));var l=U.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ee.store),f.deleteObjectStore(Qe.store),f.deleteObjectStore(un.store)}(e),qb(e)),l=l.next(function(){return function(f){var p=f.store(un.store),g=new un(0,0,yt.min().toTimestamp(),0);return p.put(un.key,g)}(c)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,p){return p.store(Kt.store).Nt().next(function(g){f.deleteObjectStore(Kt.store),f.createObjectStore(Kt.store,{keyPath:Kt.keyPath,autoIncrement:!0}).createIndex(Kt.userMutationsIndex,Kt.userMutationsKeyPath,{unique:!0});var y=p.store(Kt.store),w=g.map(function(I){return y.put(I)});return U.waitFor(w)})}(e,c)})),l=l.next(function(){(function(f){f.createObjectStore(Ir.store,{keyPath:Ir.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(c)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(er.store)}(e),u.be(c)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(c)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,c)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var p=f.objectStore(Xt.store);p.createIndex(Xt.readTimeIndex,Xt.readTimeIndexPath,{unique:!1}),p.createIndex(Xt.collectionReadTimeIndex,Xt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(c)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ts.store,{keyPath:ts.keyPath})})(e),function(f){f.createObjectStore(es.store,{keyPath:es.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Xt.store).$t(function(i,o){n+=ul(o)}).next(function(){var i=new er(n);return e.store(er.store).put(er.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(Yr.store),o=e.store(Kt.store);return i.Nt().next(function(u){return U.forEach(u,function(c){var l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.Nt(Kt.userMutationsIndex,l).next(function(f){return U.forEach(f,function(p){lt(p.userId===c.userId);var g=Mo(n.R,p);return l_(e,c.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Ee.store),i=e.store(Xt.store);return e.store(un.store).get(un.key).next(function(o){var u=[];return i.$t(function(c,l){var f=new xt(c),p=function(g){return[0,jn(g)]}(f);u.push(n.get(p).next(function(g){return g?U.resolve():function(y){return n.put(new Ee(0,jn(y),o.highestListenSequenceNumber))}(f)}))}).next(function(){return U.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(Bi.store,{keyPath:Bi.keyPath});var i=n.store(Bi.store),o=new ov,u=function(c){if(o.add(c)){var l=c.lastSegment(),f=c.popLast();return i.put({collectionId:l,parent:jn(f)})}};return n.store(Xt.store).$t({Ft:!0},function(c,l){var f=new xt(c);return u(f.popLast())}).next(function(){return n.store(ke.store).$t({Ft:!0},function(c,l){c[0];var f=c[1];c[2];var p=mr(f);return u(p.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(Qe.store);return i.$t(function(o,u){var c=fu(u),l=a_(n.R,c);return i.put(l)})},t}();function qb(t){t.createObjectStore(Ee.store,{keyPath:Ee.keyPath}).createIndex(Ee.documentTargetsIndex,Ee.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qe.store,{keyPath:Qe.keyPath}).createIndex(Qe.queryTargetsIndexName,Qe.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(un.store)}var tp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YR=function(){function t(e,n,i,o,u,c,l,f,p,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=c,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(y){return Promise.resolve()},!t.yt())throw new F(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zR(this,o),this.Le=n+"main",this.R=new s_(f),this.Be=new ns(this.Le,11,new XR(this.R)),this.qe=new KR(this.referenceDelegate,this.R),this.Ut=new qR,this.Ue=function(y,w){return new WR(y,w)}(this.R,this.Ut),this.Ke=new UR,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&se("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new F(k.FAILED_PRECONDITION,tp);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new ln(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return M(n,void 0,void 0,function(){return R(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return M(n,void 0,void 0,function(){return R(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return M(n,void 0,void 0,function(){return R(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Sc(n).put(new Ir(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(eo(n))return H("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return H("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return au(e).get(sn.key).next(function(i){return U.resolve(n.tn(i))})},t.prototype.en=function(e){return Sc(e).delete(this.clientId)},t.prototype.nn=function(){return M(this,void 0,void 0,function(){var e,n,i,o,u=this;return R(this,function(c){switch(c.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Ze(l,Ir.store);return f.Nt().next(function(p){var g=u.rn(p,18e5),y=p.filter(function(w){return g.indexOf(w)===-1});return U.forEach(y,function(w){return f.delete(w.clientId)}).next(function(){return y})})}).catch(function(){return[]})]);case 1:if(e=c.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));c.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?U.resolve(!0):au(e).get(sn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new F(k.FAILED_PRECONDITION,tp);return!1}}return!(!n.networkEnabled||!n.inForeground)||Sc(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var c=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(c||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&H("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return M(this,void 0,void 0,function(){var e=this;return R(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[sn.store,Ir.store],function(i){var o=new Ob(i,ln.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Sc(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return BR.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;H("IndexedDbPersistence","Starting transaction:",e);var u,c=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,c,LR,function(l){return u=new Ob(l,o.Ne?o.Ne.next():ln.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw se("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new F(k.FAILED_PRECONDITION,r_);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return au(e).get(sn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new F(k.FAILED_PRECONDITION,tp)})},t.prototype.Ze=function(e){var n=new sn(this.clientId,this.allowTabSynchronization,Date.now());return au(e).put(sn.key,n)},t.yt=function(){return ns.yt()},t.prototype.Xe=function(e){var n=this,i=au(e);return i.get(sn.key).next(function(o){return n.tn(o)?(H("IndexedDbPersistence","Releasing primary lease."),i.delete(sn.key)):U.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(se("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),rx()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return H("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return se("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){se("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function au(t){return Ze(t,sn.store)}function Sc(t){return Ze(t,Ir.store)}function sv(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var p_=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,c=i;u<c.length;u++)c[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,c=n;u<c.length;u++)c[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):Yg(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new rt(n)).next(function(i){var o=Bp();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,c=Bp();return this.Ut.getCollectionParents(e,u).next(function(l){return U.forEach(l,function(f){var p=function(g,y){return new Ar(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(u));return o.An(e,p,i).next(function(g){g.forEach(function(y,w){c=c.insert(y,w)})})}).next(function(){return c})})},t.prototype.An=function(e,n,i){var o,u,c=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,c._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,c.Rn(e,u,o).next(function(f){o=f;for(var p=0,g=u;p<g.length;p++)for(var y=g[p],w=0,I=y.mutations;w<I.length;w++){var T=I[w],A=T.key,N=o.get(A);N==null&&(N=Re.newInvalidDocument(A),o=o.insert(A,N)),qp(T,N,y.localWriteTime),N.isFoundDocument()||(o=o.remove(A))}})}).next(function(){return o.forEach(function(l,f){ra(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=Vt(),u=0,c=n;u<c.length;u++)for(var l=0,f=c[u].mutations;l<f.length;l++){var p=f[l];p instanceof oi&&i.get(p.key)===null&&(o=o.add(p.key))}var g=i;return this.Ue.getEntries(e,o).next(function(y){return y.forEach(function(w,I){I.isFoundDocument()&&(g=g.insert(w,I))}),g})},t}(),JR=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=Vt(),o=Vt(),u=0,c=n.docChanges;u<c.length;u++){var l=c[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),g_=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.explicitOrderBy.length===0||c.explicitOrderBy.length===1&&c.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(yt.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(c){var l=u.Cn(n,c);return(Pc(n)||ol(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):(Fp()<=Ct.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vp(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},t.prototype.Cn=function(e,n){var i=new he(LT(e));return n.forEach(function(o,u){ra(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return Fp()<=Ct.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Vp(n)),this.Sn.getDocumentsMatchingQuery(e,n,yt.min())},t}(),ZR=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new Pe(It),this.Fn=new gs(function(u){return ta(u)},$l),this.$n=yt.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new p_(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e,n,i){return new ZR(t,e,n,i)}function m_(t,e){return M(this,void 0,void 0,function(){var n,i,o,u;return R(this,function(c){switch(c.label){case 0:return n=Q(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,i=n.persistence.getMutationQueue(e),o=new p_(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(p){for(var g=[],y=[],w=Vt(),I=0,T=f;I<T.length;I++){var A=T[I];g.push(A.batchId);for(var N=0,x=A.mutations;N<x.length;N++){var $=x[N];w=w.add($.key)}}for(var B=0,J=p;B<J.length;B++){var at=J[B];y.push(at.batchId);for(var K=0,At=at.mutations;K<At.length;K++){var z=At[K];w=w.add(z.key)}}return o.pn(l,w).next(function(Nt){return{Ln:Nt,removedBatchIds:g,addedBatchIds:y}})})})];case 1:return u=c.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function tP(t,e){var n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(c,l,f,p){var g=f.batch,y=g.keys(),w=U.resolve();return y.forEach(function(I){w=w.next(function(){return p.getEntry(l,I)}).next(function(T){var A=f.docVersions.get(I);lt(A!==null),T.version.compareTo(A)<0&&(g.applyToRemoteDocument(T,f),T.isValidDocument()&&p.addEntry(T,f.commitVersion))})}),w.next(function(){return c._n.removeMutationBatch(l,g)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function y_(t){var e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function eP(t,e){var n=Q(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var c=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,y){var w=o.get(y);if(w){l.push(n.qe.removeMatchingKeys(u,g.removedDocuments,y).next(function(){return n.qe.addMatchingKeys(u,g.addedDocuments,y)}));var I=g.resumeToken;if(I.approximateByteSize()>0){var T=w.withResumeToken(I,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(y,T),function(A,N,x){return lt(N.resumeToken.approximateByteSize()>0),A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(w,T,g)&&l.push(n.qe.updateTargetData(u,T))}}});var f=Fn();if(e.documentUpdates.forEach(function(g,y){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,g))}),l.push(nP(u,c,e.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual(yt.min())){var p=n.qe.getLastRemoteSnapshotVersion(u).next(function(g){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(p)}return U.waitFor(l).next(function(){return c.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function nP(t,e,n,i,o){var u=Vt();return n.forEach(function(c){return u=u.add(c)}),e.getEntries(t,u).next(function(c){var l=Fn();return n.forEach(function(f,p){var g=c.get(f),y=(o==null?void 0:o.get(f))||i;p.isNoDocument()&&p.version.isEqual(yt.min())?(e.removeEntry(f,y),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p,y),l=l.insert(f,p)):H("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function rP(t,e){var n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function cl(t,e){var n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,U.resolve(o)):n.qe.allocateTargetId(i).next(function(c){return o=new Xl(e,c,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function os(t,e,n){return M(this,void 0,void 0,function(){var i,o,u,c;return R(this,function(l){switch(l.label){case 0:i=Q(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!eo(c=l.sent()))throw c;return H("LocalStore","Failed to update sequence numbers for target "+e+": "+c),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function ll(t,e,n){var i=Q(t),o=yt.min(),u=Vt();return i.persistence.runTransaction("Execute query","readonly",function(c){return function(l,f,p){var g=Q(l),y=g.Fn.get(p);return y!==void 0?U.resolve(g.kn.get(y)):g.qe.getTargetData(f,p)}(i,c,sr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(c,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(c,e,n?o:yt.min(),n?u:Vt())}).next(function(l){return{documents:l,Bn:u}})})}function w_(t,e){var n=Q(t),i=Q(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(c){return c?c.target:null})})}function b_(t){var e=Q(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var c=Q(i),l=Fn(),f=iv(u),p=Hr(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Xt.readTimeIndex,range:g},function(y,w){var I=Hp(c.R,w);l=l.insert(I.key,I),f=w.readTime}).next(function(){return{wn:l,readTime:u_(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function iP(t){return M(this,void 0,void 0,function(){var e;return R(this,function(n){return[2,(e=Q(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Hr(o),c=yt.min();return u.$t({index:Xt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(c=u_(f.readTime)),p.done()}).next(function(){return c})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oP=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return U.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Be(i.createTime)}),U.resolve()},t.prototype.getNamedQuery=function(e,n){return U.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:c_(i.bundledQuery),readTime:Be(i.readTime)}}(n)),U.resolve()},t}(),uv=function(){function t(){this.Wn=new he(de.Gn),this.zn=new he(de.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new de(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new de(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new rt(new xt([])),o=new de(i,e),u=new de(i,e+1),c=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),c.push(l.key)}),c},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new rt(new xt([])),i=new de(n,e),o=new de(n,e+1),u=Vt();return this.zn.forEachInRange([i,o],function(c){u=u.add(c.key)}),u},t.prototype.containsKey=function(e){var n=new de(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),de=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return rt.comparator(e.key,n.key)||It(e.ns,n.ns)},t.Hn=function(e,n){return It(e.ns,n.ns)||rt.comparator(e.key,n.key)},t}(),sP=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new he(de.Gn)}return t.prototype.checkEmpty=function(e){return U.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var c=new rv(u,n,i,o);this._n.push(c);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new de(p.key,u)),this.Ut.addToCollectionParentIndex(e,p.key.path.popLast())}return U.resolve(c)},t.prototype.lookupMutationBatch=function(e,n){return U.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return U.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return U.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return U.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new de(n,0),u=new de(n,Number.POSITIVE_INFINITY),c=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);c.push(f)}),U.resolve(c)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new he(It);return n.forEach(function(u){var c=new de(u,0),l=new de(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([c,l],function(f){o=o.add(f.ns)})}),U.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;rt.isDocumentKey(u)||(u=u.child(""));var c=new de(new rt(u),0),l=new he(It);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},c),U.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;lt(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return U.forEach(n.mutations,function(u){var c=new de(u.key,n.batchId);return o=o.delete(c),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new de(n,0),o=this.rs.firstAfterOrEqual(i);return U.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,U.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),uP=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Pe(rt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),c=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-c,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return U.resolve(i?i.document.clone():Re.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=Fn();return n.forEach(function(u){var c=i.docs.get(u);o=o.insert(u,c?c.document.clone():Re.newInvalidDocument(u))}),U.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=Fn(),u=new rt(n.path.child("")),c=this.docs.getIteratorFrom(u);c.hasNext();){var l=c.getNext(),f=l.key,p=l.value,g=p.document,y=p.readTime;if(!n.path.isPrefixOf(f.path))break;y.compareTo(i)<=0||ra(n,g)&&(o=o.insert(g.key,g.clone()))}return U.resolve(o)},t.prototype.fs=function(e,n){return U.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new aP(this)},t.prototype.getSize=function(e){return U.resolve(this.size)},t}(),aP=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return ut(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,c){c.document.isValidDocument()?o.push(i.Ie.addEntry(n,c.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),U.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(d_),cP=function(){function t(e){this.persistence=e,this.ds=new gs(function(n){return ta(n)},$l),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ws=0,this._s=new uv,this.targetCount=0,this.ys=al.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),U.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return U.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return U.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),U.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),U.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new al(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,U.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),U.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,U.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,c=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),c.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),U.waitFor(c).next(function(){return u})},t.prototype.getTargetCount=function(e){return U.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return U.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),U.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(c){u.push(o.markPotentiallyOrphaned(e,c))}),U.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),U.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return U.resolve(i)},t.prototype.containsKey=function(e,n){return U.resolve(this._s.containsKey(n))},t}(),lP=function(){function t(e,n){var i=this;this.gs={},this.Ne=new ln(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new cP(this),this.Ut=new VR,this.Ue=function(o,u){return new uP(o,function(c){return i.referenceDelegate.ps(c)})}(this.Ut),this.R=new s_(n),this.Ke=new oP(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new sP(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;H("MemoryPersistence","Starting transaction:",e);var u=new hP(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(c){return o.referenceDelegate.Ts(u).next(function(){return c})}).toPromise().then(function(c){return u.raiseOnCommittedEvent(),c})},t.prototype.Is=function(e,n){return U.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),hP=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return ut(e,t),e}(i_),fP=function(){function t(e){this.persistence=e,this.As=new uv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw nt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),U.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),U.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),U.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(c){return i.vs.add(c.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.vs,function(o){var u=rt.fromPath(o);return n.Ps(e,u).next(function(c){c||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return U.or([function(){return U.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),be=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){return"firestore_clients_"+t+"_"+e}function Kb(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function ep(t,e){return"firestore_targets_"+t+"_"+e}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");var Hb=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),c=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return c&&u.error&&(c=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new F(u.error.code,u.error.message)),c?new t(e,n,u.state,o):(se("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),np=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new F(o.error.code,o.error.message)),u?new t(e,o.state,i):(se("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Gb=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Ql(),c=0;o&&c<i.activeTargetIds.length;++c)o=CT(i.activeTargetIds[c]),u=u.add(i.activeTargetIds[c]);return o?new t(e,u):(se("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dP=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(se("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gp=function(){function t(){this.activeTargetIds=Ql()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),rp=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Pe(It),this.started=!1,this.$s=[];var c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=Bb(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Gp),this.Ls=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return M(this,void 0,void 0,function(){var e,n,i,o,u,c,l,f,p,g,y,w=this;return R(this,function(I){switch(I.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=I.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(Bb(this.persistenceKey,o)))&&(c=Gb.Vs(o,u))&&(this.Fs=this.Fs.insert(c.clientId,c));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)y=g[p],this.ks(y);return this.$s=[],this.window.addEventListener("pagehide",function(){return w.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(ep(this.persistenceKey,e));if(i){var o=np.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(ep(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return H("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){H("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){H("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(H("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void se("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return M(n,void 0,void 0,function(){var o,u,c,l,f,p;return R(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(c=this.si(i.key,i.newValue)))return[2,this.ii(c)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(p=function(y){var w=ln.o;if(y!=null)try{var I=JSON.parse(y);lt(typeof I=="number"),w=I}catch(T){se("SharedClientState","Failed to read sequence number from WebStorage",T)}return w}(i.newValue))!==ln.o&&this.sequenceNumberHandler(p);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new Hb(this.currentUser,e,n,i),u=Kb(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=Kb(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=ep(this.persistenceKey,e),u=new np(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return Gb.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return Hb.Vs(new be(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return np.Vs(o,n)},t.prototype.js=function(e){return dP.Vs(e)},t.prototype.ii=function(e){return M(this,void 0,void 0,function(){return R(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(H("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),c=this.Gs(o),l=[],f=[];return c.forEach(function(p){u.has(p)||l.push(p)}),u.forEach(function(p){c.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Ql();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),I_=function(){function t(){this.li=new Gp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Gp,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),pP=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),$b=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),gP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vP=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),mP=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return ut(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(c,l){var f=new WO;f.listenOnce(GO.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Zd.NO_ERROR:var g=f.getResponseJson();H("Connection","XHR received:",JSON.stringify(g)),c(g);break;case Zd.TIMEOUT:H("Connection",'RPC "'+n+'" timed out'),l(new F(k.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:var y=f.getStatus();if(H("Connection",'RPC "'+n+'" failed with status:',y,"response text:",f.getResponseText()),y>0){var w=f.getResponseJson().error;if(w&&w.status&&w.message){var I=function(T){var A=T.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(A)>=0?A:k.UNKNOWN}(w.status);l(new F(I,w.message))}else l(new F(k.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new F(k.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{H("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(u);f.send(i,"POST",p,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=KO(),c=HO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new zO({})),this.ki(l.initMessageHeaders,i),XD()||ZD()||tx()||ex()||nx()||JD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");H("Connection","Creating WebChannel: "+f,l);var p=u.createWebChannel(f,l),g=!1,y=!1,w=new vP({Ei:function(T){y?H("Connection","Not sending because WebChannel is closed:",T):(g||(H("Connection","Opening WebChannel transport."),p.open(),g=!0),H("Connection","WebChannel sending:",T),p.send(T))},Ti:function(){return p.close()}}),I=function(T,A,N){T.listen(A,function(x){try{N(x)}catch($){setTimeout(function(){throw $},0)}})};return I(p,Ic.EventType.OPEN,function(){y||H("Connection","WebChannel transport opened.")}),I(p,Ic.EventType.CLOSE,function(){y||(y=!0,H("Connection","WebChannel transport closed"),w.Vi())}),I(p,Ic.EventType.ERROR,function(T){y||(y=!0,tl("Connection","WebChannel transport errored:",T),w.Vi(new F(k.UNAVAILABLE,"The operation could not be completed")))}),I(p,Ic.EventType.MESSAGE,function(T){var A;if(!y){var N=T.data[0];lt(!!N);var x=N,$=x.error||((A=x[0])===null||A===void 0?void 0:A.error);if($){H("Connection","WebChannel received error:",$);var B=$.status,J=function(K){var At=ie[K];if(At!==void 0)return GT(At)}(B),at=$.message;J===void 0&&(J=k.INTERNAL,at="Unknown error status: "+B+" with message "+$.message),y=!0,w.Vi(new F(J,at)),p.close()}else H("Connection","WebChannel received:",N),w.Si(N)}}),I(c,$O.STAT_EVENT,function(T){T.stat===cb.PROXY?H("Connection","Detected buffering proxy"):T.stat===cb.NOPROXY&&H("Connection","Detected no buffering proxy")}),setTimeout(function(){w.Pi()},0),w},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);H("RestConnection","Sending: ",u,i);var c={};return this.ki(c,o),this.Fi(e,u,c,i).then(function(l){return H("RestConnection","Received: ",l),l},function(l){throw tl("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=gP[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){return typeof window!="undefined"?window:null}function Fc(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){return new TR(t,!0)}var av=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&H("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),T_=function(){function t(e,n,i,o,u,c){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=c,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new av(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return M(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return M(this,void 0,void 0,function(){return R(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return M(this,void 0,void 0,function(){return R(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(se(n.toString()),se("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===k.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new F(k.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return M(e,void 0,void 0,function(){return R(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return H("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),yP=function(t){function e(n,i,o,u,c){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,c)||this).R=u,l}return ut(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,c){var l;if("targetChange"in c){c.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:nt()}(c.targetChange.targetChangeType||"NO_CHANGE"),p=c.targetChange.targetIds||[],g=function(N,x){return N.I?(lt(x===void 0||typeof x=="string"),Ye.fromBase64String(x||"")):(lt(x===void 0||x instanceof Uint8Array),Ye.fromUint8Array(x||new Uint8Array))}(u,c.targetChange.resumeToken),y=(w=c.targetChange.cause)&&function(N){var x=N.code===void 0?k.UNKNOWN:GT(N.code);return new F(x,N.message||"")}(w);l=new zT(f,p,g,y||null)}else if("documentChange"in c){c.documentChange,(f=c.documentChange).document,f.document.name,f.document.updateTime,p=br(u,f.document.name),g=Be(f.document.updateTime);var w=new cn({mapValue:{fields:f.document.fields}}),I=(y=Re.newFoundDocument(p,g,w),f.targetIds||[]),T=f.removedTargetIds||[];l=new Mc(I,T,y.key,y)}else if("documentDelete"in c)c.documentDelete,(f=c.documentDelete).document,p=br(u,f.document),g=f.readTime?Be(f.readTime):yt.min(),w=Re.newNoDocument(p,g),y=f.removedTargetIds||[],l=new Mc([],y,w.key,w);else if("documentRemove"in c)c.documentRemove,(f=c.documentRemove).document,p=br(u,f.document),g=f.removedTargetIds||[],l=new Mc([],g,p,null);else{if(!("filter"in c))return nt();c.filter;var A=c.filter;A.targetId,f=A.count||0,p=new dR(f),g=A.targetId,l=new $T(g,p)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return yt.min();var c=u.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?Be(c.readTime):yt.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=Uu(this.R),i.addTarget=function(u,c){var l,f=c.target;return(l=rl(f)?{documents:JT(u,f)}:{query:ZT(u,f)}).targetId=c.targetId,c.resumeToken.approximateByteSize()>0?l.resumeToken=WT(u,c.resumeToken):c.snapshotVersion.compareTo(yt.min())>0&&(l.readTime=Fu(u,c.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,c){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,c.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=Uu(this.R),i.removeTarget=n,this.cr(i)},e}(T_),wP=function(t){function e(n,i,o,u,c){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,c)||this).R=u,l.gr=!1,l}return ut(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(lt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,c){return u&&u.length>0?(lt(c!==void 0),u.map(function(l){return function(f,p){var g=f.updateTime?Be(f.updateTime):Be(p);return g.isEqual(yt.min())&&(g=Be(p)),new lR(g,f.transformResults||[])}(l,c)})):[]}(n.writeResults,n.commitTime),o=Be(n.commitTime);return this.listener.Tr(o,i)}return lt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Uu(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return sl(i.R,u)})};this.cr(o)},e}(T_),bP=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return ut(e,t),e.prototype.br=function(){if(this.Rr)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(c){return u.Hi.Ni(n,i,o,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===k.UNAUTHENTICATED&&u.credentials.invalidateToken(),c):new F(k.UNKNOWN,c.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(c){return u.Hi.$i(n,i,o,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===k.UNAUTHENTICATED&&u.credentials.invalidateToken(),c):new F(k.UNKNOWN,c.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),IP=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(se(n),this.Vr=!1):H("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),EP=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(c){n.enqueueAndForget(function(){return M(u,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return si(this)?(H("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return M(this,void 0,void 0,function(){var p;return R(this,function(g){switch(g.label){case 0:return(p=Q(f)).Or.add(4),[4,vs(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,ua(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new IP(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return M(this,void 0,void 0,function(){var e,n;return R(this,function(i){switch(i.label){case 0:if(!si(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function vs(t){return M(this,void 0,void 0,function(){var e,n;return R(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Jl(t,e){var n=Q(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),hv(n)?lv(n):ys(n).er()&&cv(n,e))}function Vu(t,e){var n=Q(t),i=ys(n);n.$r.delete(e),i.er()&&__(n,e),n.$r.size===0&&(i.er()?i.ir():si(n)&&n.Br.set("Unknown"))}function cv(t,e){t.qr.U(e.targetId),ys(t).mr(e)}function __(t,e){t.qr.U(e),ys(t).yr(e)}function lv(t){t.qr=new bR({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ys(t).start(),t.Br.Sr()}function hv(t){return si(t)&&!ys(t).tr()&&t.$r.size>0}function si(t){return Q(t).Or.size===0}function S_(t){t.qr=void 0}function TP(t){return M(this,void 0,void 0,function(){return R(this,function(e){return t.$r.forEach(function(n,i){cv(t,n)}),[2]})})}function _P(t,e){return M(this,void 0,void 0,function(){return R(this,function(n){return S_(t),hv(t)?(t.Br.Nr(e),lv(t)):t.Br.set("Unknown"),[2]})})}function SP(t,e,n){return M(this,void 0,void 0,function(){var i,o,u;return R(this,function(c){switch(c.label){case 0:if(t.Br.set("Online"),!(e instanceof zT&&e.state===2&&e.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(l,f){return M(this,void 0,void 0,function(){var p,g,y,w;return R(this,function(I){switch(I.label){case 0:p=f.cause,g=0,y=f.targetIds,I.label=1;case 1:return g<y.length?(w=y[g],l.$r.has(w)?[4,l.remoteSyncer.rejectListen(w,p)]:[3,3]):[3,5];case 2:I.sent(),l.$r.delete(w),l.qr.removeTarget(w),I.label=3;case 3:I.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return c.sent(),[3,5];case 3:return i=c.sent(),H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,hl(t,i)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Mc?t.qr.X(e):e instanceof $T?t.qr.rt(e):t.qr.et(e),n.isEqual(yt.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,y_(t.localStore)];case 8:return o=c.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,y){if(g.resumeToken.approximateByteSize()>0){var w=l.$r.get(y);w&&l.$r.set(y,w.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var y=l.$r.get(g);if(y){l.$r.set(g,y.withResumeToken(Ye.EMPTY_BYTE_STRING,y.snapshotVersion)),__(l,g);var w=new Xl(y.target,g,1,y.sequenceNumber);cv(l,w)}}),l.remoteSyncer.applyRemoteEvent(p)}(t,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return H("RemoteStore","Failed to raise snapshot:",u=c.sent()),[4,hl(t,u)];case 12:return c.sent(),[3,13];case 13:return[2]}})})}function hl(t,e,n){return M(this,void 0,void 0,function(){var i=this;return R(this,function(o){switch(o.label){case 0:if(!eo(e))throw e;return t.Or.add(1),[4,vs(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return y_(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return M(i,void 0,void 0,function(){return R(this,function(u){switch(u.label){case 0:return H("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,ua(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function A_(t,e){return e().catch(function(n){return hl(t,n,e)})}function ms(t){return M(this,void 0,void 0,function(){var e,n,i,o,u;return R(this,function(c){switch(c.label){case 0:e=Q(t),n=ni(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,c.label=1;case 1:if(!function(l){return si(l)&&l.Fr.length<10}(e))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,rP(e.localStore,i)];case 3:return(o=c.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var p=ni(l);p.er()&&p.pr&&p.Er(f.mutations)}(e,o),[3,6]);case 4:return u=c.sent(),[4,hl(e,u)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return N_(e)&&k_(e),[2]}})})}function N_(t){return si(t)&&!ni(t).tr()&&t.Fr.length>0}function k_(t){ni(t).start()}function AP(t){return M(this,void 0,void 0,function(){return R(this,function(e){return ni(t).Ar(),[2]})})}function NP(t){return M(this,void 0,void 0,function(){var e,n,i,o;return R(this,function(u){for(e=ni(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function kP(t,e,n){return M(this,void 0,void 0,function(){var i,o;return R(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=jR.from(i,e,n),[4,A_(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,ms(t)];case 2:return u.sent(),[2]}})})}function CP(t,e){return M(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return e&&ni(t).pr?[4,function(i,o){return M(this,void 0,void 0,function(){var u,c;return R(this,function(l){switch(l.label){case 0:return HT(c=o.code)&&c!==k.ABORTED?(u=i.Fr.shift(),ni(i).sr(),[4,A_(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,ms(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return N_(t)&&k_(t),[2]}})})}function $p(t,e){return M(this,void 0,void 0,function(){var n;return R(this,function(i){switch(i.label){case 0:return n=Q(t),e?(n.Or.delete(2),[4,ua(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,vs(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function ys(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=Q(n);return u.br(),new yP(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:TP.bind(null,t),Ri:_P.bind(null,t),_r:SP.bind(null,t)}),t.Mr.push(function(n){return M(e,void 0,void 0,function(){return R(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),hv(t)?lv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),S_(t),i.label=3;case 3:return[2]}})})})),t.Ur}function ni(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=Q(n);return u.br(),new wP(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:AP.bind(null,t),Ri:CP.bind(null,t),Ir:NP.bind(null,t),Tr:kP.bind(null,t)}),t.Mr.push(function(n){return M(e,void 0,void 0,function(){return R(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,ms(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(H("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var DP=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(c){})}return t.createAndSchedule=function(e,n,i,o,u){var c=new t(e,n,Date.now()+i,o,u);return c.start(i),c},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ws(t,e){if(se("AsyncQueue",e+": "+t),eo(t))return new F(k.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C_=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||rt.comparator(n.key,i.key)}:function(n,i){return rt.comparator(n.key,i.key)},this.keyedMap=Bp(),this.sortedSet=new Pe(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),zb=function(){function t(){this.Qr=new Pe(rt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):nt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),fl=function(){function t(e,n,i,o,u,c,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(c){u.push({type:0,doc:c})}),new t(e,n,C_.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&na(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),xP=function(){this.Wr=void 0,this.listeners=[]},OP=function(){this.queries=new gs(function(t){return PT(t)},na),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e){return M(this,void 0,void 0,function(){var n,i,o,u,c,l,f;return R(this,function(p){switch(p.label){case 0:if(n=Q(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new xP),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),c=u,[4,n.onListen(i)];case 2:return c.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=ws(l,"Initialization of query '"+Vp(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&pv(n),[2]}})})}function dv(t,e){return M(this,void 0,void 0,function(){var n,i,o,u,c;return R(this,function(l){return n=Q(t),i=e.query,o=!1,(u=n.queries.get(i))&&(c=u.listeners.indexOf(e))>=0&&(u.listeners.splice(c,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function RP(t,e){for(var n=Q(t),i=!1,o=0,u=e;o<u.length;o++){var c=u[o],l=c.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(c)&&(i=!0);f.Wr=c}}i&&pv(n)}function PP(t,e,n){var i=Q(t),o=i.queries.get(e);if(o)for(var u=0,c=o.listeners;u<c.length;u++)c[u].onError(n);i.queries.delete(e)}function pv(t){t.Gr.forEach(function(e){e.next()})}var gv=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new fl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var c=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),c=!0):this.eo(e,this.onlineState)&&(this.no(e),c=!0),this.Xr=e,c},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D_=function(t){this.key=t},x_=function(t){this.key=t},O_=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Vt(),this.mutatedKeys=Vt(),this.lo=LT(e),this.fo=new C_(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new zb,u=n?n.fo:this.fo,c=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,p=Pc(this.query)&&u.size===this.query.limit?u.last():null,g=ol(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(w,I){var T=u.get(w),A=ra(i.query,I)?I:null,N=!!T&&i.mutatedKeys.has(T.key),x=!!A&&(A.hasLocalMutations||i.mutatedKeys.has(A.key)&&A.hasCommittedMutations),$=!1;T&&A?T.data.isEqual(A.data)?N!==x&&(o.track({type:3,doc:A}),$=!0):i.yo(T,A)||(o.track({type:2,doc:A}),$=!0,(p&&i.lo(A,p)>0||g&&i.lo(A,g)<0)&&(f=!0)):!T&&A?(o.track({type:0,doc:A}),$=!0):T&&!A&&(o.track({type:1,doc:T}),$=!0,(p||g)&&(f=!0)),$&&(A?(l=l.add(A),c=x?c.add(w):c.delete(w)):(l=l.delete(w),c=c.delete(w)))}),Pc(this.query)||ol(this.query))for(;l.size>this.query.limit;){var y=Pc(this.query)?l.last():l.first();l=l.delete(y.key),c=c.delete(y.key),o.track({type:1,doc:y})}return{fo:l,mo:o,Nn:f,mutatedKeys:c}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var c=e.mo.jr();c.sort(function(g,y){return function(w,I){var T=function(A){switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return T(w)-T(I)}(g.type,y.type)||o.lo(g.doc,y.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,c.length!==0||p?{snapshot:new fl(this.query,e.fo,u,c,e.mutatedKeys,f===0,p,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Vt(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new x_(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new D_(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Vt();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return fl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),LP=function(t,e,n){this.query=t,this.targetId=e,this.view=n},MP=function(t){this.key=t,this.bo=!1},FP=function(){function t(e,n,i,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.vo={},this.Po=new gs(function(l){return PT(l)},na),this.Vo=new Map,this.So=new Set,this.Do=new Pe(rt.comparator),this.Co=new Map,this.No=new uv,this.xo={},this.ko=new Map,this.Fo=al.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function jP(t,e){return M(this,void 0,void 0,function(){var n,i,o,u,c,l;return R(this,function(f){switch(f.label){case 0:return n=bv(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,cl(n.localStore,sr(e))];case 2:return c=f.sent(),l=n.sharedClientState.addLocalQueryTarget(c.targetId),i=c.targetId,[4,vv(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Jl(n.remoteStore,c),f.label=4;case 4:return[2,o]}})})}function vv(t,e,n,i){return M(this,void 0,void 0,function(){var o,u,c,l,f,p;return R(this,function(g){switch(g.label){case 0:return t.Oo=function(y,w,I){return function(T,A,N,x){return M(this,void 0,void 0,function(){var $,B,J;return R(this,function(at){switch(at.label){case 0:return $=A.view._o(N),$.Nn?[4,ll(T.localStore,A.query,!1).then(function(K){var At=K.documents;return A.view._o(At,$)})]:[3,2];case 1:$=at.sent(),at.label=2;case 2:return B=x&&x.targetChanges.get(A.targetId),J=A.view.applyChanges($,T.isPrimaryClient,B),[2,(zp(T,A.targetId,J.To),J.snapshot)]}})})}(t,y,w,I)},[4,ll(t.localStore,e,!0)];case 1:return o=g.sent(),u=new O_(e,o.Bn),c=u._o(o.documents),l=tv.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(c,t.isPrimaryClient,l),zp(t,n,f.To),p=new LP(e,n,u),[2,(t.Po.set(e,p),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function UP(t,e){return M(this,void 0,void 0,function(){var n,i,o;return R(this,function(u){switch(u.label){case 0:return n=Q(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(c){return!na(c,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,os(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Vu(n.remoteStore,i.targetId),ss(n,i.targetId)}).catch(no)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return ss(n,i.targetId),[4,os(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function VP(t,e,n){return M(this,void 0,void 0,function(){var i,o,u,c;return R(this,function(l){switch(l.label){case 0:i=Iv(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,y=Q(f),w=Xe.now(),I=p.reduce(function(T,A){return T.add(A.key)},Vt());return y.persistence.runTransaction("Locally write mutations","readwrite",function(T){return y.Mn.pn(T,I).next(function(A){g=A;for(var N=[],x=0,$=p;x<$.length;x++){var B=$[x],J=fR(B,g.get(B.key));J!=null&&N.push(new oi(B.key,J,DT(J.value.mapValue),De.exists(!0)))}return y._n.addMutationBatch(T,w,N,p)})}).then(function(T){return T.applyToLocalDocumentSet(g),{batchId:T.batchId,changes:g}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var y=f.xo[f.currentUser.toKey()];y||(y=new Pe(It)),y=y.insert(p,g),f.xo[f.currentUser.toKey()]=y}(i,o.batchId,n),[4,ui(i,o.changes)];case 3:return l.sent(),[4,ms(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),c=ws(u,"Failed to persist write"),n.reject(c),[3,6];case 6:return[2]}})})}function R_(t,e){return M(this,void 0,void 0,function(){var n,i;return R(this,function(o){switch(o.label){case 0:n=Q(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,eP(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,c){var l=n.Co.get(c);l&&(lt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?lt(l.bo):u.removedDocuments.size>0&&(lt(l.bo),l.bo=!1))}),[4,ui(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,no(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Wb(t,e,n){var i=Q(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,c){var l=c.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,c){var l=Q(u);l.onlineState=c;var f=!1;l.queries.forEach(function(p,g){for(var y=0,w=g.listeners;y<w.length;y++)w[y].zr(c)&&(f=!0)}),f&&pv(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function qP(t,e,n){return M(this,void 0,void 0,function(){var i,o,u,c,l,f;return R(this,function(p){switch(p.label){case 0:return(i=Q(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(c=(c=new Pe(rt.comparator)).insert(u,Re.newNoDocument(u,yt.min())),l=Vt().add(u),f=new Zg(yt.min(),new Map,new he(It),c,l),[4,R_(i,f)]):[3,2];case 1:return p.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),wv(i),[3,4];case 2:return[4,os(i.localStore,e,!1).then(function(){return ss(i,e,n)}).catch(no)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function BP(t,e){return M(this,void 0,void 0,function(){var n,i,o;return R(this,function(u){switch(u.label){case 0:n=Q(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,tP(n.localStore,e)];case 2:return o=u.sent(),yv(n,i,null),mv(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,ui(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,no(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function KP(t,e,n){return M(this,void 0,void 0,function(){var i,o;return R(this,function(u){switch(u.label){case 0:i=Q(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(c,l){var f=Q(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(y){return lt(y!==null),g=y.keys(),f._n.removeMutationBatch(p,y)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(i.localStore,e)];case 2:return o=u.sent(),yv(i,e,n),mv(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,ui(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,no(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function HP(t,e){return M(this,void 0,void 0,function(){var n,i,o,u,c;return R(this,function(l){switch(l.label){case 0:si((n=Q(t)).remoteStore)||H("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=Q(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),c=ws(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(c),[3,4];case 4:return[2]}})})}function mv(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function yv(t,e,n){var i=Q(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function ss(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(c){t.No.containsKey(c)||P_(t,c)})}function P_(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Vu(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),wv(t))}function zp(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof D_?(t.No.addReference(u.key,e),GP(t,u)):u instanceof x_?(H("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||P_(t,u.key)):nt()}}function GP(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(H("SyncEngine","New document in limbo: "+n),t.So.add(i),wv(t))}function wv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new rt(xt.fromString(e)),i=t.Fo.next();t.Co.set(i,new MP(n)),t.Do=t.Do.insert(n,i),Jl(t.remoteStore,new Xl(sr(ea(n.path)),i,2,ln.o))}}function ui(t,e,n){return M(this,void 0,void 0,function(){var i,o,u,c;return R(this,function(l){switch(l.label){case 0:return i=Q(t),o=[],u=[],c=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,p){c.push(i.Oo(p,e,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var y=JR.Pn(p.targetId,g);u.push(y)}}))}),[4,Promise.all(c)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,p){return M(this,void 0,void 0,function(){var g,y,w,I,T,A,N,x,$;return R(this,function(B){switch(B.label){case 0:g=Q(f),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(J){return U.forEach(p,function(at){return U.forEach(at.bn,function(K){return g.persistence.referenceDelegate.addReference(J,at.targetId,K)}).next(function(){return U.forEach(at.vn,function(K){return g.persistence.referenceDelegate.removeReference(J,at.targetId,K)})})})})];case 2:return B.sent(),[3,4];case 3:if(!eo(y=B.sent()))throw y;return H("LocalStore","Failed to update sequence numbers: "+y),[3,4];case 4:for(w=0,I=p;w<I.length;w++)T=I[w],A=T.targetId,T.fromCache||(N=g.kn.get(A),x=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(x),g.kn=g.kn.insert(A,$));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function $P(t,e){return M(this,void 0,void 0,function(){var n,i;return R(this,function(o){switch(o.label){case 0:return(n=Q(t)).currentUser.isEqual(e)?[3,3]:(H("SyncEngine","User change. New user:",e.toKey()),[4,m_(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,c){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new F(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,ui(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function zP(t,e){var n=Q(t),i=n.Co.get(e);if(i&&i.bo)return Vt().add(i.key);var o=Vt(),u=n.Vo.get(e);if(!u)return o;for(var c=0,l=u;c<l.length;c++){var f=l[c],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function WP(t,e){return M(this,void 0,void 0,function(){var n,i,o;return R(this,function(u){switch(u.label){case 0:return[4,ll((n=Q(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&zp(n,e.targetId,o.To),o)]}})})}function QP(t){return M(this,void 0,void 0,function(){var e;return R(this,function(n){return[2,b_((e=Q(t)).localStore).then(function(i){return ui(e,i)})]})})}function XP(t,e,n,i){return M(this,void 0,void 0,function(){var o,u;return R(this,function(c){switch(c.label){case 0:return[4,function(l,f){var p=Q(l),g=Q(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(y){return g.jt(y,f).next(function(w){return w?p.Mn.pn(y,w):U.resolve(null)})})}((o=Q(t)).localStore,e)];case 1:return(u=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ms(o.remoteStore)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(yv(o,e,i||null),mv(o,e),function(l,f){Q(Q(l)._n).Gt(f)}(o.localStore,e)):nt(),c.label=4;case 4:return[4,ui(o,u)];case 5:return c.sent(),[3,7];case 6:H("SyncEngine","Cannot apply mutation batch with id: "+e),c.label=7;case 7:return[2]}})})}function YP(t,e){return M(this,void 0,void 0,function(){var n,i,o,u,c,l,f,p;return R(this,function(g){switch(g.label){case 0:return bv(n=Q(t)),Iv(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Qb(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,$p(n.remoteStore,!0)];case 2:for(g.sent(),u=0,c=o;u<c.length;u++)l=c[u],Jl(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(y,w){n.sharedClientState.isLocalQueryTarget(w)?f.push(w):p=p.then(function(){return ss(n,w),os(n.localStore,w,!0)}),Vu(n.remoteStore,w)}),[4,p]);case 4:return g.sent(),[4,Qb(n,f)];case 5:return g.sent(),function(y){var w=Q(y);w.Co.forEach(function(I,T){Vu(w.remoteStore,T)}),w.No.ts(),w.Co=new Map,w.Do=new Pe(rt.comparator)}(n),n.$o=!1,[4,$p(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function Qb(t,e,n){return M(this,void 0,void 0,function(){var i,o,u,c,l,f,p,g,y,w,I,T,A,N;return R(this,function(x){switch(x.label){case 0:i=Q(t),o=[],u=[],c=0,l=e,x.label=1;case 1:return c<l.length?(f=l[c],p=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,cl(i.localStore,sr(g[0]))]:[3,7]):[3,13];case 2:p=x.sent(),y=0,w=g,x.label=3;case 3:return y<w.length?(I=w[y],T=i.Po.get(I),[4,WP(i,T)]):[3,6];case 4:(A=x.sent()).snapshot&&u.push(A.snapshot),x.label=5;case 5:return y++,[3,3];case 6:return[3,11];case 7:return[4,w_(i.localStore,f)];case 8:return N=x.sent(),[4,cl(i.localStore,N)];case 9:return p=x.sent(),[4,vv(i,L_(N),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(p),x.label=12;case 12:return c++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function L_(t){return OT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function JP(t){var e=Q(t);return Q(Q(e.localStore).persistence).fn()}function ZP(t,e,n,i){return M(this,void 0,void 0,function(){var o,u,c;return R(this,function(l){switch(l.label){case 0:return(o=Q(t)).$o?(H("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,b_(o.localStore)];case 3:return u=l.sent(),c=Zg.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,ui(o,u,c)];case 4:return l.sent(),[3,8];case 5:return[4,os(o.localStore,e,!0)];case 6:return l.sent(),ss(o,e,i),[3,8];case 7:nt(),l.label=8;case 8:return[2]}})})}function tL(t,e,n){return M(this,void 0,void 0,function(){var i,o,u,c,l,f,p,g,y,w;return R(this,function(I){switch(I.label){case 0:if(!(i=bv(t)).$o)return[3,10];o=0,u=e,I.label=1;case 1:return o<u.length?(c=u[o],i.Vo.has(c)?(H("SyncEngine","Adding an already active target "+c),[3,5]):[4,w_(i.localStore,c)]):[3,6];case 2:return l=I.sent(),[4,cl(i.localStore,l)];case 3:return f=I.sent(),[4,vv(i,L_(l),f.targetId,!1)];case 4:I.sent(),Jl(i.remoteStore,f),I.label=5;case 5:return o++,[3,1];case 6:p=function(T){return R(this,function(A){switch(A.label){case 0:return i.Vo.has(T)?[4,os(i.localStore,T,!1).then(function(){Vu(i.remoteStore,T),ss(i,T)}).catch(no)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})},g=0,y=n,I.label=7;case 7:return g<y.length?(w=y[g],[5,p(w)]):[3,10];case 8:I.sent(),I.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function bv(t){var e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.vo._r=RP.bind(null,e.eventManager),e.vo.Mo=PP.bind(null,e.eventManager),e}function Iv(t){var e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KP.bind(null,e),e}var M_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return M(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this.R=Yl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return v_(this.persistence,new g_,e.initialUser,this.R)},t.prototype.qo=function(e){return new lP(fP.bs,this.R)},t.prototype.Bo=function(e){return new I_},t.prototype.terminate=function(){return M(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),F_=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return ut(e,t),e.prototype.initialize=function(n){return M(this,void 0,void 0,function(){var i=this;return R(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,iP(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Iv(this.Qo.syncEngine)];case 4:return o.sent(),[4,ms(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return v_(this.persistence,new g_,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new GR(i,n.asyncQueue)},e.prototype.qo=function(n){var i=sv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new YR(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,E_(),Fc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new I_},e}(M_),eL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return ut(e,t),e.prototype.initialize=function(n){return M(this,void 0,void 0,function(){var i,o=this;return R(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof rp?(this.sharedClientState.syncEngine={ui:XP.bind(null,i),ai:ZP.bind(null,i),hi:tL.bind(null,i),fn:JP.bind(null,i),ci:QP.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(c){return M(o,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return[4,YP(this.Qo.syncEngine,c)];case 1:return l.sent(),this.gcScheduler&&(c&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):c||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=E_();if(!rp.yt(i))throw new F(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=sv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new rp(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(F_),Wp=function(){function t(){}return t.prototype.initialize=function(e,n){return M(this,void 0,void 0,function(){var i=this;return R(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return Wb(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$P.bind(null,this.syncEngine),[4,$p(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new OP},t.prototype.createDatastore=function(e){var n,i=Yl(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new mP(n));return function(u,c,l){return new bP(u,c,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,c,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return Wb(l.syncEngine,f,0)},c=$b.yt()?new $b:new pP,new EP(n,i,o,u,c)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,c,l,f,p){var g=new FP(i,o,u,c,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return M(this,void 0,void 0,function(){var n;return R(this,function(i){switch(i.label){case 0:return n=Q(e),H("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,vs(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zl=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),nL=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return M(this,void 0,void 0,function(){var n,i=this;return R(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new F(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,c){return M(this,void 0,void 0,function(){var l,f,p,g,y,w;return R(this,function(I){switch(I.label){case 0:return l=Q(u),f=Uu(l.R)+"/documents",p={documents:c.map(function(T){return ju(l.R,T)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=I.sent(),y=new Map,g.forEach(function(T){var A=function(N,x){return"found"in x?function($,B){lt(!!B.found),B.found.name,B.found.updateTime;var J=br($,B.found.name),at=Be(B.found.updateTime),K=new cn({mapValue:{fields:B.found.fields}});return Re.newFoundDocument(J,at,K)}(N,x):"missing"in x?function($,B){lt(!!B.missing),lt(!!B.readTime);var J=br($,B.missing),at=Be(B.readTime);return Re.newNoDocument(J,at)}(N,x):nt()}(l.R,T);y.set(A.key.toString(),A)}),w=[],[2,(c.forEach(function(T){var A=y.get(T.toString());lt(!!A),w.push(A)}),w)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new sa(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return M(this,void 0,void 0,function(){var e,n=this;return R(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var c=rt.fromPath(u);n.mutations.push(new Jg(c,n.precondition(c)))}),[4,function(o,u){return M(this,void 0,void 0,function(){var c,l,f;return R(this,function(p){switch(p.label){case 0:return c=Q(o),l=Uu(c.R)+"/documents",f={writes:u.map(function(g){return sl(c.R,g)})},[4,c.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw nt();n=yt.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new F(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?De.updateTime(n):De.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(yt.min()))throw new F(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return De.updateTime(n)}return De.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),rL=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new av(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return M(e,void 0,void 0,function(){var n,i,o=this;return R(this,function(u){return n=new nL(this.datastore),(i=this.sc(n))&&i.then(function(c){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(c)}).catch(function(l){o.ic(l)})})}).catch(function(c){o.ic(c)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!to(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!HT(n)}return!1},t}(),iL=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=_T.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return M(o,void 0,void 0,function(){return R(this,function(c){switch(c.label){case 0:return H("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return c.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return M(this,void 0,void 0,function(){return R(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return M(e,void 0,void 0,function(){var i,o;return R(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=ws(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){return M(this,void 0,void 0,function(){var n,i,o=this;return R(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(c){return M(o,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return i.isEqual(c)?[3,2]:[4,m_(e.localStore,c)];case 1:l.sent(),i=c,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function U_(t,e){return M(this,void 0,void 0,function(){var n,i;return R(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ev(t)];case 1:return n=o.sent(),H("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(c,l){return M(this,void 0,void 0,function(){var f,p;return R(this,function(g){switch(g.label){case 0:return(f=Q(c)).asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials"),p=si(f),f.Or.add(3),[4,vs(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,ua(f)];case 3:return g.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Ev(t){return M(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(H("FirestoreClient","Using default OfflineComponentProvider"),[4,j_(t,new M_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function th(t){return M(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(H("FirestoreClient","Using default OnlineComponentProvider"),[4,U_(t,new Wp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Xb(t){return Ev(t).then(function(e){return e.persistence})}function V_(t){return Ev(t).then(function(e){return e.localStore})}function Yb(t){return th(t).then(function(e){return e.remoteStore})}function q_(t){return th(t).then(function(e){return e.syncEngine})}function us(t){return M(this,void 0,void 0,function(){var e,n;return R(this,function(i){switch(i.label){case 0:return[4,th(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=jP.bind(null,e.syncEngine),n.onUnlisten=UP.bind(null,e.syncEngine),n)]}})})}function Jb(t,e,n){var i=this;n===void 0&&(n={});var o=new Je;return t.asyncQueue.enqueueAndForget(function(){return M(i,void 0,void 0,function(){var u;return R(this,function(c){switch(c.label){case 0:return u=function(l,f,p,g,y){var w=new Zl({next:function(T){f.enqueueAndForget(function(){return dv(l,I)});var A=T.docs.has(p);!A&&T.fromCache?y.reject(new F(k.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&g&&g.source==="server"?y.reject(new F(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:function(T){return y.reject(T)}}),I=new gv(ea(p.path),w,{includeMetadataChanges:!0,so:!0});return fv(l,I)},[4,us(t)];case 1:return[2,u.apply(void 0,[c.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function Zb(t,e,n){var i=this;n===void 0&&(n={});var o=new Je;return t.asyncQueue.enqueueAndForget(function(){return M(i,void 0,void 0,function(){var u;return R(this,function(c){switch(c.label){case 0:return u=function(l,f,p,g,y){var w=new Zl({next:function(T){f.enqueueAndForget(function(){return dv(l,I)}),T.fromCache&&g.source==="server"?y.reject(new F(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:function(T){return y.reject(T)}}),I=new gv(p,w,{includeMetadataChanges:!0,so:!0});return fv(l,I)},[4,us(t)];case 1:return[2,u.apply(void 0,[c.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var oL=function(t,e,n,i,o,u,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.useFetchStreams=l},dl=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),tI=new Map,B_=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},eI=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(be.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sL=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),uL=function(){function t(e){var n=this;this.currentUser=be.UNAUTHENTICATED,this.oc=new Je,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){H("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(H("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(H("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(lt(typeof o.accessToken=="string"),new B_(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return M(i,void 0,void 0,function(){return R(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new be(e)},t}(),aL=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=be.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),cL=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new aL(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(be.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e,n){if(!n)throw new F(k.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _v(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new F(k.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function K_(t,e,n,i){if(e===!0&&i===!0)throw new F(k.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function nI(t){if(!rt.isDocumentKey(t))throw new F(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function rI(t){if(rt.isDocumentKey(t))throw new F(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":nt()}function Rt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eh(t);throw new F(k.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function iI(t,e){if(e<=0)throw new F(k.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oI=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new F(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,K_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),qu=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1,e instanceof dl?(this._databaseId=e,this._credentials=new eI):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new F(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(i.options.projectId)}(e),this._credentials=new uL(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new eI;switch(n.type){case"gapi":var i=n.client;return lt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new cL(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new F(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=tI.get(e))&&(H("ComponentProvider","Removing Datastore"),tI.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Wt=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),fn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Jr=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,ea(o))||this)._path=o,u.type="collection",u}return ut(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Wt(this.firestore,null,new rt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(fn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=ue(t),Tv("collection","path",e),t instanceof qu)return rI(n=xt.fromString.apply(xt,Yt([e],i))),new Jr(t,null,n);if(!(t instanceof Wt||t instanceof Jr))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rI(n=xt.fromString.apply(xt,Yt([t.path],i)).child(xt.fromString(e))),new Jr(t.firestore,null,n)}function jc(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=ue(t),arguments.length===1&&(e=_T.u()),Tv("doc","path",e),t instanceof qu)return nI(n=xt.fromString.apply(xt,Yt([e],i))),new Wt(t,null,new rt(n));if(!(t instanceof Wt||t instanceof Jr))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nI(n=t._path.child(xt.fromString.apply(xt,Yt([e],i)))),new Wt(t.firestore,t instanceof Jr?t.converter:null,new rt(n))}function G_(t,e){return t=ue(t),e=ue(e),(t instanceof Wt||t instanceof Jr)&&(e instanceof Wt||e instanceof Jr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function $_(t,e){return t=ue(t),e=ue(e),t instanceof fn&&e instanceof fn&&t.firestore===e.firestore&&na(t._query,e._query)&&t.converter===e.converter}var lL=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new av(this,"async_queue_retry"),this.Ic=function(){var i=Fc();i&&H("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Fc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Fc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Je;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return M(this,void 0,void 0,function(){var e,n=this;return R(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!eo(e=i.sent()))throw e;return H("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,se("INTERNAL UNHANDLED ERROR: ",function(u){var c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=DP.createAndSchedule(this,e,n,i,function(c){return o.vc(c)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&nt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return M(this,void 0,void 0,function(){var e;return R(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(c,l){return c.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function as(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var c=u[o];if(c in i&&typeof i[c]=="function")return!0}return!1}(t)}var hL=-1,le=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new lL,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ut(e,t),e.prototype._terminate=function(){return this._firestoreClient||z_(this),this._firestoreClient.terminate()},e}(qu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return t._firestoreClient||z_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function z_(t){var e,n=t._freezeSettings(),i=function(o,u,c,l){return new oL(o,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new iL(t._credentials,t._queue,i)}function sI(t,e,n){var i=this,o=new Je;return t.asyncQueue.enqueue(function(){return M(i,void 0,void 0,function(){var u;return R(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,j_(t,n)];case 1:return c.sent(),[4,U_(t,e)];case 2:return c.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===k.FAILED_PRECONDITION||l.code===k.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=c.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function uI(t){if(t._initialized||t._terminated)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Yi=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Ye.fromBase64String(e))}catch(n){throw new F(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Ye.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),ro=function(t){this._methodName=t},nh=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return It(this._lat,e._lat)||It(this._long,e._long)},t}(),fL=/^__.*__$/,dL=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new oa(e,this.data,n,this.fieldTransforms)},t}(),W_=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}var X_=function(){function t(e,n,i,o,u,c){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return pl(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(Q_(this.Nc)&&fL.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),pL=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||Yl(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new X_({Nc:e,methodName:n,qc:i,path:Un.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function io(t){var e=t._freezeSettings(),n=Yl(t._databaseId);return new pL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rh(t,e,n,i,o,u){u===void 0&&(u={});var c=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);kv("Data must be an object, but it was:",c,i);var l,f,p=Z_(i,c);if(u.merge)l=new Wo(c.fieldMask),f=c.fieldTransforms;else if(u.mergeFields){for(var g=[],y=0,w=u.mergeFields;y<w.length;y++){var I=Qp(e,w[y],n);if(!c.contains(I))throw new F(k.INVALID_ARGUMENT,"Field '"+I+"' is specified in your field mask but missing from your input data.");e1(g,I)||g.push(I)}l=new Wo(g),f=c.fieldTransforms.filter(function(T){return l.covers(T.field)})}else l=null,f=c.fieldTransforms;return new dL(new cn(p),l,f)}var Sv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(ro);function Y_(t,e,n){return new X_({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gL=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype._toFieldTransform=function(n){return new ia(n.path,new Jo)},e.prototype.isEqual=function(n){return n instanceof e},e}(ro),vL=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return ut(e,t),e.prototype._toFieldTransform=function(n){var i=Y_(this,n,!0),o=this.Kc.map(function(c){return oo(c,i)}),u=new Qi(o);return new ia(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(ro),mL=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return ut(e,t),e.prototype._toFieldTransform=function(n){var i=Y_(this,n,!0),o=this.Kc.map(function(c){return oo(c,i)}),u=new Xi(o);return new ia(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(ro),yL=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return ut(e,t),e.prototype._toFieldTransform=function(n){var i=new Zo(n.R,jT(n.R,this.Qc));return new ia(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(ro);function Av(t,e,n,i){var o=t.Uc(1,e,n);kv("Data must be an object, but it was:",o,i);var u=[],c=cn.empty();Zi(i,function(f,p){var g=Cv(e,f,n);p=ue(p);var y=o.Oc(g);if(p instanceof Sv)u.push(g);else{var w=oo(p,y);w!=null&&(u.push(g),c.set(g,w))}});var l=new Wo(u);return new W_(c,l,o.fieldTransforms)}function Nv(t,e,n,i,o,u){var c=t.Uc(1,e,n),l=[Qp(e,i,n)],f=[o];if(u.length%2!=0)throw new F(k.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<u.length;p+=2)l.push(Qp(e,u[p])),f.push(u[p+1]);for(var g=[],y=cn.empty(),w=l.length-1;w>=0;--w)if(!e1(g,l[w])){var I=l[w],T=f[w];T=ue(T);var A=c.Oc(I);if(T instanceof Sv)g.push(I);else{var N=oo(T,A);N!=null&&(g.push(I),y.set(I,N))}}var x=new Wo(g);return new W_(y,x,c.fieldTransforms)}function J_(t,e,n,i){return i===void 0&&(i=!1),oo(n,t.Uc(i?4:3,e))}function oo(t,e){if(t1(t=ue(t)))return kv("Unsupported field value:",e,t),Z_(t,e);if(t instanceof ro)return function(n,i){if(!Q_(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,c=0,l=n;c<l.length;c++){var f=oo(l[c],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=ue(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jT(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Xe.fromDate(n);return{timestampValue:Fu(i.R,o)}}if(n instanceof Xe)return o=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Fu(i.R,o)};if(n instanceof nh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yi)return{bytesValue:WT(i.R,n._byteString)};if(n instanceof Wt){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ev(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+eh(n))}(t,e)}function Z_(t,e){var n={};return AT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,function(i,o){var u=oo(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function t1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof nh||t instanceof Yi||t instanceof Wt||t instanceof ro)}function kv(t,e,n){if(!t1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=eh(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function Qp(t,e,n){if((e=ue(e))instanceof rr)return e._internalPath;if(typeof e=="string")return Cv(t,e);throw pl("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wL=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(wL)>=0)throw pl("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(rr.bind.apply(rr,Yt([void 0],e.split("."))))()._internalPath}catch{throw pl("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function pl(t,e,n,i,o){var u=i&&!i.isEmpty(),c=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||c)&&(f+=" (found",u&&(f+=" in field "+i),c&&(f+=" in document "+o),f+=")"),new F(k.INVALID_ARGUMENT,(l+=". ")+t+f)}function e1(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(gl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),bL=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bu);function gl(t,e){return typeof e=="string"?Cv(t,e):e instanceof rr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Er=function(t){function e(n,i,o,u,c,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=c,f}return ut(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(gl("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Bu),bu=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Er),zr=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ji(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new bu(i._firestore,i._userDataWriter,o.key,o,new ji(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new bu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ji(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new bu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ji(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),p=-1,g=-1;return l.type!==0&&(p=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(g=(c=c.add(l.doc)).indexOf(l.doc.key)),{type:IL(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function IL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function n1(t,e){return t instanceof Er&&e instanceof Er?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof zr&&e instanceof zr&&t._firestore===e._firestore&&$_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){if(ol(t)&&t.explicitOrderBy.length===0)throw new F(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aa=function(){};function qr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var EL=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return ut(e,t),e.prototype._apply=function(n){var i=io(n.firestore),o=function(u,c,l,f,p,g,y){var w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new F(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){fI(y,g);for(var I=[],T=0,A=y;T<A.length;T++){var N=A[T];I.push(hI(f,u,N))}w={arrayValue:{values:I}}}else w=hI(f,u,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||fI(y,g),w=J_(l,"where",y,g==="in"||g==="not-in");var x=hn.create(p,g,w);return function($,B){if(B.g()){var J=Xg($);if(J!==null&&!J.isEqual(B.field))throw new F(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+J.toString()+"' and '"+B.field.toString()+"'");var at=Qg($);at!==null&&o1($,B.field,at)}var K=function(At,z){for(var Nt=0,_=At.filters;Nt<_.length;Nt++){var ee=_[Nt];if(z.indexOf(ee.op)>=0)return ee.op}return null}($,function(At){switch(At){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(K!==null)throw K===B.op?new F(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+B.op.toString()+"' filter."):new F(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+B.op.toString()+"' filters with '"+K.toString()+"' filters.")}(u,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new fn(n.firestore,n.converter,function(u,c){var l=u.filters.concat([c]);return new Ar(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(aa),TL=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return ut(e,t),e.prototype._apply=function(n){var i=function(o,u,c){if(o.startAt!==null)throw new F(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new F(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ko(u,c);return function(f,p){if(Qg(f)===null){var g=Xg(f);g!==null&&o1(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new fn(n.firestore,n.converter,function(o,u){var c=o.explicitOrderBy.concat([u]);return new Ar(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(aa),aI=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return ut(e,t),e.prototype._apply=function(n){return new fn(n.firestore,n.converter,RT(n._query,this.Hc,this.Jc))},e}(aa),cI=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return ut(e,t),e.prototype._apply=function(n){var i=i1(n,this.type,this.Yc,this.Xc);return new fn(n.firestore,n.converter,function(o,u){return new Ar(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(aa),lI=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return ut(e,t),e.prototype._apply=function(n){var i=i1(n,this.type,this.Yc,this.Xc);return new fn(n.firestore,n.converter,function(o,u){return new Ar(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(aa);function i1(t,e,n,i){if(n[0]=ue(n[0]),n[0]instanceof Bu)return function(u,c,l,f,p){if(!f)throw new F(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],y=0,w=Yo(u);y<w.length;y++){var I=w[y];if(I.field.isKeyField())g.push(nl(c,f.key));else{var T=f.data.field(I.field);if($g(T))throw new F(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){var A=I.field.canonicalString();throw new F(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+A+"' (used as the orderBy) does not exist.")}g.push(T)}}return new Mu(g,p)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=io(t.firestore);return function(u,c,l,f,p,g){var y=u.explicitOrderBy;if(p.length>y.length)throw new F(k.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var w=[],I=0;I<p.length;I++){var T=p[I];if(y[I].field.isKeyField()){if(typeof T!="string")throw new F(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof T);if(!Yg(u)&&T.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+T+"' contains a slash.");var A=u.path.child(xt.fromString(T));if(!rt.isDocumentKey(A))throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+A+"' is not because it contains an odd number of segments.");var N=new rt(A);w.push(nl(c,N))}else{var x=J_(l,f,T);w.push(x)}}return new Mu(w,g)}(t._query,t.firestore._databaseId,o,e,n,i)}function hI(t,e,n){if(typeof(n=ue(n))=="string"){if(n==="")throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yg(e)&&n.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(xt.fromString(n));if(!rt.isDocumentKey(i))throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return nl(t,new rt(i))}if(n instanceof Wt)return nl(t,n._key);throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+eh(n)+".")}function fI(t,e){if(!Array.isArray(t)||t.length===0)throw new F(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new F(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function o1(t,e,n){if(!n.isEqual(e))throw new F(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dv=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw nt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Zi(e.fields,function(u,c){o[u]=i.convertValue(c,n)}),o},t.prototype.convertGeoPoint=function(e){return new nh(oe(e.latitude),oe(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=kT(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=ei(e);return new Xe(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=xt.fromString(e);lt(n_(i));var o=new dl(i.get(1),i.get(3)),u=new rt(i.popFirst(5));return o.isEqual(n)||se("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _L=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return ut(e,t),e.prototype.convertBytes=function(n){return new Yi(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Wt(this.firestore,null,i)},e}(Dv),SL=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=io(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=Wr(e,this._firestore),u=ih(o.converter,n,i),c=rh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(c.toMutation(o._key,De.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var c,l=Wr(e,this._firestore);return c=typeof(n=ue(n))=="string"||n instanceof rr?Nv(this._dataReader,"WriteBatch.update",l._key,n,i,o):Av(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,De.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Wr(e,this._firestore);return this._mutations=this._mutations.concat(new sa(n._key,De.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new F(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){if((t=ue(t)).firestore!==e)throw new F(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return ut(e,t),e.prototype.convertBytes=function(n){return new Yi(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Wt(this.firestore,null,i)},e}(Dv);function dI(t,e,n){t=Rt(t,Wt);var i=Rt(t.firestore,le),o=ih(t.converter,e,n);return ca(i,[rh(io(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,De.none())])}function pI(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=Rt(t,Wt);var u=Rt(t.firestore,le),c=io(u);return ca(u,[(typeof(e=ue(e))=="string"||e instanceof rr?Nv(c,"updateDoc",t._key,e,n,i):Av(c,"updateDoc",t._key,e)).toMutation(t._key,De.exists(!0))])}function s1(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=ue(t);var c={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||as(o[l])||(c=o[l],l++);var f,p,g,y={includeMetadataChanges:c.includeMetadataChanges};if(as(o[l])){var w=o[l];o[l]=(e=w.next)===null||e===void 0?void 0:e.bind(w),o[l+1]=(n=w.error)===null||n===void 0?void 0:n.bind(w),o[l+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}if(t instanceof Wt)p=Rt(t.firestore,le),g=ea(t._key.path),f={next:function(A){o[l]&&o[l](Xp(p,t,A))},error:o[l+1],complete:o[l+2]};else{var I=Rt(t,fn);p=Rt(I.firestore,le),g=I._query;var T=new Ki(p);f={next:function(A){o[l]&&o[l](new zr(p,T,I,A))},error:o[l+1],complete:o[l+2]},r1(t._query)}return function(A,N,x,$){var B=this,J=new Zl($),at=new gv(N,J,x);return A.asyncQueue.enqueueAndForget(function(){return M(B,void 0,void 0,function(){var K;return R(this,function(At){switch(At.label){case 0:return K=fv,[4,us(A)];case 1:return[2,K.apply(void 0,[At.sent(),at])]}})})}),function(){J.Wo(),A.asyncQueue.enqueueAndForget(function(){return M(B,void 0,void 0,function(){var K;return R(this,function(At){switch(At.label){case 0:return K=dv,[4,us(A)];case 1:return[2,K.apply(void 0,[At.sent(),at])]}})})})}}(Ce(p),g,y,f)}function ca(t,e){return function(n,i){var o=this,u=new Je;return n.asyncQueue.enqueueAndForget(function(){return M(o,void 0,void 0,function(){var c;return R(this,function(l){switch(l.label){case 0:return c=VP,[4,q_(n)];case 1:return[2,c.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(Ce(t),e)}function Xp(t,e,n){var i=n.docs.get(e._key),o=new Ki(t);return new Er(t,o,e._key,i,new ji(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return ut(e,t),e.prototype.get=function(n){var i=this,o=Wr(n,this._firestore),u=new Ki(this._firestore);return t.prototype.get.call(this,n).then(function(c){return new Er(i._firestore,u,o._key,c._document,new ji(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=io(e)}return t.prototype.get=function(e){var n=this,i=Wr(e,this._firestore),o=new _L(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return nt();var c=u[0];if(c.isFoundDocument())return new Bu(n._firestore,o,c.key,c,i.converter);if(c.isNoDocument())return new Bu(n._firestore,o,i._key,null,i.converter);throw nt()})},t.prototype.set=function(e,n,i){var o=Wr(e,this._firestore),u=ih(o.converter,n,i),c=rh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,c),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var c,l=Wr(e,this._firestore);return c=typeof(n=ue(n))=="string"||n instanceof rr?Nv(this._dataReader,"Transaction.update",l._key,n,i,o):Av(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this},t.prototype.delete=function(e){var n=Wr(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof Uint8Array=="undefined")throw new F(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vI(){if(typeof atob=="undefined")throw new F(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var u1=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return vI(),new t(Yi.fromBase64String(e))},t.fromUint8Array=function(e){return gI(),new t(Yi.fromUint8Array(e))},t.prototype.toBase64=function(){return vI(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return gI(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),NL=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){uI(i=Rt(i,le));var u=Ce(i),c=i._freezeSettings(),l=new Wp;return sI(u,l,new F_(l,c.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){uI(n=Rt(n,le));var i=Ce(n),o=n._freezeSettings(),u=new Wp;return sI(i,u,new eL(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new F(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Je;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return M(i,void 0,void 0,function(){var u;return R(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,function(l){return M(this,void 0,void 0,function(){var f;return R(this,function(p){switch(p.label){case 0:return ns.yt()?(f=l+"main",[4,ns.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(sv(n._databaseId,n._persistenceKey))];case 1:return c.sent(),o.resolve(),[3,3];case 2:return u=c.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),a1=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof dl||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||tl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,c,l){var f;l===void 0&&(l={});var p=(o=Rt(o,qu))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==u&&tl("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:u+":"+c,ssl:!1})),l.mockUserToken){var g,y;if(typeof l.mockUserToken=="string")g=l.mockUserToken,y=be.MOCK_USER;else{g=QD(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var w=l.mockUserToken.sub||l.mockUserToken.user_id;if(!w)throw new F(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new be(w)}o._credentials=new sL(new B_(g,y))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var i,o;return R(this,function(u){switch(u.label){case 0:return[4,Xb(e)];case 1:return i=u.sent(),[4,Yb(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(c){var l=Q(c);return l.Or.delete(0),ua(l)}(o))]}})})})}(Ce(Rt(this._delegate,le)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var i,o;return R(this,function(u){switch(u.label){case 0:return[4,Xb(e)];case 1:return i=u.sent(),[4,Yb(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(c){return M(this,void 0,void 0,function(){var l;return R(this,function(f){switch(f.label){case 0:return(l=Q(c)).Or.add(0),[4,vs(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(Ce(Rt(this._delegate,le)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&K_("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new Je;return e.asyncQueue.enqueueAndForget(function(){return M(n,void 0,void 0,function(){var o;return R(this,function(u){switch(u.label){case 0:return o=HP,[4,q_(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(Ce(Rt(this._delegate,le)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var c=this,l=new Zl(u);return o.asyncQueue.enqueueAndForget(function(){return M(c,void 0,void 0,function(){var f;return R(this,function(p){switch(p.label){case 0:return f=function(g,y){Q(g).Gr.add(y),y.next()},[4,us(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return M(c,void 0,void 0,function(){var f;return R(this,function(p){switch(p.label){case 0:return f=function(g,y){Q(g).Gr.delete(y)},[4,us(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(Ce(n=Rt(n,le)),as(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new vl(this,H_(this._delegate,e))}catch(n){throw je(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Hi(this,jc(this._delegate,e))}catch(n){throw je(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new uh(this,function(n,i){if(n=Rt(n,qu),Tv("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new F(k.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new fn(n,null,function(o){return new Ar(xt.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw je(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,c){var l=this,f=new Je;return u.asyncQueue.enqueueAndForget(function(){return M(l,void 0,void 0,function(){var p;return R(this,function(g){switch(g.label){case 0:return[4,function(y){return th(y).then(function(w){return w.datastore})}(u)];case 1:return p=g.sent(),new rL(u.asyncQueue,p,c,f).run(),[2]}})})}),f.promise}(Ce(i),function(u){return o(new AL(i,u))})}(this._delegate,function(i){return e(new c1(n,i))})},t.prototype.batch=function(){var e=this;return Ce(this._delegate),new l1(new SL(this._delegate,function(n){return ca(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new F(k.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new F(k.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),oh=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return ut(e,t),e.prototype.convertBytes=function(n){return new u1(new Yi(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Hi.eu(i,this.firestore,null)},e}(Dv);function kL(t){var e;e=t,Mn.setLogLevel(e)}var c1=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new oh(e)}return t.prototype.get=function(e){var n=this,i=Ui(e);return this._delegate.get(i).then(function(o){return new Ku(n._firestore,new Er(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=Ui(e);return i?(_v("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c];var l=Ui(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Yt([l,n,i],u)),this},t.prototype.delete=function(e){var n=Ui(e);return this._delegate.delete(n),this},t}(),l1=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=Ui(e);return i?(_v("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c];var l=Ui(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Yt([l,n,i],u)),this},t.prototype.delete=function(e){var n=Ui(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),sh=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new bu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hu(this._firestore,i),n!=null?n:{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new oh(e),n),o.set(n,u)),u},t}();sh.su=new WeakMap;var Hi=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new oh(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new F(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Wt(n._delegate,i,new rt(e)))},t.eu=function(e,n,i){return new t(n,new Wt(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new vl(this.firestore,H_(this._delegate,e))}catch(n){throw je(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=ue(e))instanceof Wt&&G_(this._delegate,e)},t.prototype.set=function(e,n){n=_v("DocumentReference.set",n);try{return n?dI(this._delegate,e,n):dI(this._delegate,e)}catch(i){throw je(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?pI(this._delegate,e):pI.apply(void 0,Yt([this._delegate,e,n],i))}catch(u){throw je(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ca(Rt((e=this._delegate).firestore,le),[new sa(e._key,De.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=h1(n),u=f1(n,function(c){return new Ku(e.firestore,new Er(e.firestore._delegate,e._userDataWriter,c._key,c._document,c.metadata,e._delegate.converter))});return s1(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=Rt(i,Wt);var o=Rt(i.firestore,le),u=Ce(o),c=new Ki(o);return function(l,f){var p=this,g=new Je;return l.asyncQueue.enqueueAndForget(function(){return M(p,void 0,void 0,function(){var y;return R(this,function(w){switch(w.label){case 0:return y=function(I,T,A){return M(this,void 0,void 0,function(){var N,x;return R(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),[4,function(B,J){var at=Q(B);return at.persistence.runTransaction("read document","readonly",function(K){return at.Mn.mn(K,J)})}(I,T)];case 1:return(x=$.sent()).isFoundDocument()?A.resolve(x):x.isNoDocument()?A.resolve(null):A.reject(new F(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=$.sent(),x=ws(N,"Failed to get document '"+T+" from cache"),A.reject(x),[3,3];case 3:return[2]}})})},[4,V_(l)];case 1:return[2,y.apply(void 0,[w.sent(),f,g])]}})})}),g.promise}(u,i._key).then(function(l){return new Er(o,c,i._key,l,new ji(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=Rt(i,Wt);var o=Rt(i.firestore,le);return Jb(Ce(o),i._key,{source:"server"}).then(function(u){return Xp(o,i,u)})}(this._delegate):function(i){i=Rt(i,Wt);var o=Rt(i.firestore,le);return Jb(Ce(o),i._key).then(function(u){return Xp(o,i,u)})}(this._delegate)).then(function(i){return new Ku(n.firestore,new Er(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function je(t,e,n){return t.message=t.message.replace(e,n),t}function h1(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!as(i))return i}return{}}function f1(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=as(t[0])?t[0]:as(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Ku=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Hi(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return n1(this._delegate,e._delegate)},t}(),Hu=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ut(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Ku),uh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new oh(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,qr(this._delegate,function(o,u,c){var l=u,f=gl("where",o);return new EL(f,l,c)}(e,n,i)))}catch(o){throw je(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,qr(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,c=gl("orderBy",i);return new TL(c,u)}(e,n)))}catch(i){throw je(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,qr(this._delegate,function(n){return iI("limit",n),new aI("limit",n,"F")}(e)))}catch(n){throw je(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,qr(this._delegate,function(n){return iI("limitToLast",n),new aI("limitToLast",n,"L")}(e)))}catch(n){throw je(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qr(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new cI("startAt",i,!0)}.apply(void 0,e)))}catch(i){throw je(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qr(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new cI("startAfter",i,!1)}.apply(void 0,e)))}catch(i){throw je(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qr(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new lI("endBefore",i,!0)}.apply(void 0,e)))}catch(i){throw je(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qr(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new lI("endAt",i,!1)}.apply(void 0,e)))}catch(i){throw je(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return $_(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=Rt(i,fn);var o=Rt(i.firestore,le),u=Ce(o),c=new Ki(o);return function(l,f){var p=this,g=new Je;return l.asyncQueue.enqueueAndForget(function(){return M(p,void 0,void 0,function(){var y;return R(this,function(w){switch(w.label){case 0:return y=function(I,T,A){return M(this,void 0,void 0,function(){var N,x,$,B,J;return R(this,function(at){switch(at.label){case 0:return at.trys.push([0,2,,3]),[4,ll(I,T,!0)];case 1:return J=at.sent(),N=new O_(T,J.Bn),x=N._o(J.documents),$=N.applyChanges(x,!1),A.resolve($.snapshot),[3,3];case 2:return B=at.sent(),J=ws(B,"Failed to execute query '"+T+" against cache"),A.reject(J),[3,3];case 3:return[2]}})})},[4,V_(l)];case 1:return[2,y.apply(void 0,[w.sent(),f,g])]}})})}),g.promise}(u,i._query).then(function(l){return new zr(o,c,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=Rt(i,fn);var o=Rt(i.firestore,le),u=Ce(o),c=new Ki(o);return Zb(u,i._query,{source:"server"}).then(function(l){return new zr(o,c,i,l)})}(this._delegate):function(i){i=Rt(i,fn);var o=Rt(i.firestore,le),u=Ce(o),c=new Ki(o);return r1(i._query),Zb(u,i._query).then(function(l){return new zr(o,c,i,l)})}(this._delegate)).then(function(i){return new Yp(n.firestore,new zr(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=h1(n),u=f1(n,function(c){return new Yp(e.firestore,new zr(e.firestore._delegate,e._userDataWriter,e._delegate,c._snapshot))});return s1(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),CL=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Hu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Yp=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new uh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Hu(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new CL(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new Hu(i._firestore,o))})},t.prototype.isEqual=function(e){return n1(this._delegate,e._delegate)},t}(),vl=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return ut(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Hi(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Hi(this.firestore,n===void 0?jc(this._delegate):jc(this._delegate,n))}catch(i){throw je(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var c=Rt(o.firestore,le),l=jc(o),f=ih(o.converter,u);return ca(c,[rh(io(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,De.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Hi(i.firestore,o)})},e.prototype.isEqual=function(n){return G_(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(sh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(uh);function Ui(t){return Rt(t,Wt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DL=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(rr.bind.apply(rr,Yt([void 0],e)))}return t.documentId=function(){return new t(Un.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=ue(e))instanceof rr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),xL=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new gL("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Sv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new vL("arrayUnion",o)}.apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new mL("arrayRemove",o)}.apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new yL("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),OL={Firestore:a1,GeoPoint:nh,Timestamp:Xe,Blob:u1,Transaction:c1,WriteBatch:l1,DocumentReference:Hi,DocumentSnapshot:Ku,Query:uh,QueryDocumentSnapshot:Hu,QuerySnapshot:Yp,CollectionReference:vl,FieldPath:DL,FieldValue:xL,setLogLevel:kL,CACHE_SIZE_UNLIMITED:hL};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){(function(e,n){e.INTERNAL.registerComponent(new Ol("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},OL)))})(t,function(e,n){return new a1(e,new le(e,n),new NL)}),t.registerVersion("@firebase/firestore","2.4.1")}RL(ct);ct.initializeApp({apiKey:"AIzaSyB3DVIXNwILp7frmFZPS8vR34N2uRCNjNo",authDomain:"entenkoeniq-ab971.firebaseapp.com",projectId:"entenkoeniq-ab971",storageBucket:"entenkoeniq-ab971.appspot.com",messagingSenderId:"345972171515",appId:"1:345972171515:web:1153252f87e2d81fb7865e",measurementId:"G-YW229ZDVHQ"});const ip=ct.auth();function xv(){const t=fg(null),e=ip.onAuthStateChanged(u=>t.value=u);Cl(e);const n=pE(()=>t.value!==null);return{user:t,isLogin:n,signIn:async()=>{const u=new ct.auth.GoogleAuthProvider;await ip.signInWithPopup(u)},signOut:()=>ip.signOut()}}const PL=ct.firestore(),d1=PL.collection("messages"),LL=d1.orderBy("createdAt","desc").limit(50);function ML(){const t=fg([]),e=LL.onSnapshot(u=>{t.value=u.docs.map(c=>g0({id:c.id},c.data())).reverse()});Cl(e);const{user:n,isLogin:i}=xv();return{messages:t,sendMessage:u=>{if(!i.value||!u.length)return;const{photoURL:c,uid:l,displayName:f}=n.value;d1.add({userName:f,userId:l,userPhotoURL:c,text:u,createdAt:ct.firestore.FieldValue.serverTimestamp()})}}}var FL="/favicon.ico";var p1=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n};const jL={setup(){const{user:t,isLogin:e}=xv(),{messages:n,sendMessage:i}=ML();kc(n,()=>{VI(()=>{const c=document.getElementById("messages");c.scrollTop=c.scrollHeight})},{deep:!0});const o=fg("");return{user:t,isLogin:e,messages:n,message:o,send:()=>{i(o.value),o.value=""}}}},Ov=t=>(cC("data-v-69952ad5"),t=t(),lC(),t),UL={class:"container"},VL=hE('<section class="card rounded-3 text-center shadow-sm" data-v-69952ad5><div class="card-body p-4" data-v-69952ad5><img class="shadow-sm rounded-circle border" src="'+FL+'" alt="" data-v-69952ad5><div class="mt-2 mb-3" data-v-69952ad5><p class="fs-1 lh-1 mb-0" data-v-69952ad5>EntenKoeniq</p><small class="text-muted" data-v-69952ad5>Nick-I. A.</small></div><p class="card-text lead" data-v-69952ad5> Hi, i&#39;m EntenKoeniq (Nick) and i&#39;m an open source developer on Github from Germany. </p><div class="row justify-content-center lead" data-v-69952ad5><div class="col-auto" data-v-69952ad5><a href="https://github.com/EntenKoeniq" class="link-dark" data-v-69952ad5><i class="fab fa-github" data-v-69952ad5></i></a></div><div class="col-auto" data-v-69952ad5><a href="#" class="link-dark" data-v-69952ad5><i class="fab fa-discord" data-v-69952ad5></i></a></div></div></div></section>',1),qL={class:"card rounded-3 shadow-sm"},BL={key:0,class:"card-body text-center"},KL=Ov(()=>St("div",{class:"spinner-border",role:"status"},[St("span",{class:"sr-only"},"Loading...")],-1)),HL=[KL],GL={key:1,class:"card-body"},$L={id:"messages",class:"messages border rounded-1 mb-2 p-2"},zL={class:"mb-0"},WL={class:"username text-truncate"},QL={class:"d-flex gap-2"},XL=["src"],YL={key:0,class:"alert alert-warning rounded-3 text-center mb-0"},JL=Ov(()=>St("p",{class:"lead mb-0"},'"Sign in with Google" to chat with us :-)',-1)),ZL=[JL],tM={key:1,class:"d-flex gap-2"},eM=Ov(()=>St("i",{class:"fas fa-paper-plane"},null,-1)),nM=vg(" send"),rM=[eM,nM],iM=hE('<section class="card rounded-3 shadow-sm" data-v-69952ad5><div class="card-body text-center" data-v-69952ad5><p class="fs-1 lh-1" data-v-69952ad5>Projects</p><div class="row g-3" data-v-69952ad5><div class="col-12 col-lg-6" data-v-69952ad5><a href="https://ragecoop.online/" class="text-decoration-none link-dark" data-v-69952ad5><div class="card card-cover project-card h-100 overflow-hidden text-white bg-dark rounded-1" style="background-image:url(&#39;/assets/coopr.png&#39;);" data-v-69952ad5><div class="d-flex flex-column h-100 p-5 text-white text-shadow-1" data-v-69952ad5><h2 class="my-4 display-6 lh-1 fw-bold" data-v-69952ad5>RAGECOOP</h2></div></div></a></div><div class="col-12 col-lg-6" data-v-69952ad5><a href="https://firengine.xyz/" class="text-decoration-none link-dark" data-v-69952ad5><div class="card card-cover project-card h-100 overflow-hidden text-white bg-dark rounded-1" style="background-color:#ff7531!important;" data-v-69952ad5><div class="d-flex flex-column h-100 p-5 text-white text-shadow-1" data-v-69952ad5><h2 class="my-4 display-6 lh-1 fw-bold" data-v-69952ad5>Firengine</h2></div></div></a></div><div class="col-12 col-lg-6" data-v-69952ad5><a href="https://wimip.info/" class="text-decoration-none link-dark" data-v-69952ad5><div class="card card-cover project-card h-100 overflow-hidden text-white bg-dark rounded-1" style="background-color:#65d9a5!important;" data-v-69952ad5><div class="d-flex flex-column h-100 p-5 text-white text-shadow-1" data-v-69952ad5><h2 class="my-4 display-6 lh-1 fw-bold" data-v-69952ad5>WIMIP</h2></div></div></a></div></div></div></section>',1);function oM(t,e,n,i,o,u){return Jn(),Zn("div",UL,[VL,St("section",qL,[i.messages.length?(Jn(),Zn("div",GL,[St("div",$L,[St("ul",zL,[(Jn(!0),Zn(In,null,FC(i.messages,({id:c,text:l,userPhotoURL:f,userName:p,userId:g})=>{var y;return Jn(),Zn("li",{key:c},[St("div",WL,[St("small",null,op(p),1)]),St("div",QL,[St("img",{src:f,class:"avatar rounded-circle",alt:""},null,8,XL),St("div",{style:ml({background:g===((y=i.user)==null?void 0:y.uid)?"#f1f3f4":"#fff"}),class:"w-100 border rounded-3 shadow-sm p-2"},op(l),5)])])}),128))])]),i.isLogin?(Jn(),Zn("div",tM,[RC(St("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.message=c),type:"text",class:"form-control",placeholder:"Message ..."},null,512),[[jD,i.message]]),St("button",{onClick:e[1]||(e[1]=(...c)=>i.send&&i.send(...c)),class:"btn btn:green rounded-1 d-flex gap-2 align-items-center"},rM)])):(Jn(),Zn("div",YL,ZL))])):(Jn(),Zn("div",BL,HL))]),iM])}var sM=p1(jL,[["render",oM],["__scopeId","data-v-69952ad5"]]);const uM={setup(){const{user:t,isLogin:e,signOut:n,signIn:i}=xv();return{user:t,isLogin:e,signOut:n,signIn:i}},components:{home:sM}},aM={class:"navbar navbar-light bg-white shadow-sm border-bottom"},cM={class:"container-fluid mx-lg-3"},lM=St("a",{class:"navbar-brand",href:"#"},"EntenKoeniq",-1),hM={class:"ms-auto"},fM={key:1,class:"btn-group"},dM={href:"#",class:"dropdown-toggle link-dark","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false"},pM=["src"],gM={class:"dropdown-menu dropdown-menu-macos dropdown-menu-end mx-0 mt-3 shadow-sm"},vM={class:"dropdown-header d-flex gap-2 align-items-center"},mM=St("li",null,[St("hr",{class:"dropdown-divider"})],-1),yM=St("i",{class:"fas fa-sign-out-alt"},null,-1),wM=vg(" Logout "),bM=[yM,wM],IM={class:"my-4 my-lg-5"},EM=St("footer",{class:"mt-auto container-fluid bg-white border-top py-3 text-center"},[St("p",{class:"mb-0 text-muted"},"\xA9 2022 - All Rights Reserved.")],-1);function TM(t,e,n,i,o,u){var l,f;const c=PC("home");return Jn(),Zn(In,null,[St("header",null,[St("nav",aM,[St("div",cM,[lM,St("div",hM,[i.isLogin?(Jn(),Zn("div",fM,[St("a",dM,[St("img",{src:(l=i.user)==null?void 0:l.photoURL,class:"avatar rounded-circle",alt:""},null,8,pM)]),St("ul",gM,[St("li",null,[St("h6",vM,op((f=i.user)==null?void 0:f.displayName),1)]),mM,St("li",null,[St("button",{onClick:e[1]||(e[1]=(...p)=>i.signOut&&i.signOut(...p)),class:"dropdown-item logout rounded-1 d-flex gap-2 align-items-center"},bM)])])])):(Jn(),Zn("button",{key:0,onClick:e[0]||(e[0]=(...p)=>i.signIn&&i.signIn(...p)),class:"btn btn:white rounded-1 border"},"Sign in with Google"))])])])]),St("main",IM,[wr(c)]),EM],64)}var _M=p1(uM,[["render",TM]]);qD(_M).mount("#app");
